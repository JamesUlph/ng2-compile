var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};!function(){"use strict";function t(t){Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function e(t){return t.name?t.name:typeof t}function n(){rs=!0}function r(){return ns}function i(t){return void 0!==t&&null!==t}function o(t){return void 0===t||null===t}function s(t){return"string"==typeof t}function a(t){return"function"==typeof t}function u(t){return a(t)}function c(t){return t instanceof $o.Promise}function l(t){return Array.isArray(t)}function p(){}function h(t){if("string"==typeof t)return t;if(void 0===t||null===t)return""+t;if(t.name)return t.name;if(t.overriddenName)return t.overriddenName;var e=t.toString(),n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function d(t){return t}function v(t){return o(t)?!1:t}function y(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function m(t){console.log(t)}function g(t){console.warn(t)}function _(){if(o(ss))if(i(Yo.Symbol)&&i(Symbol.iterator))ss=Symbol.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),e=0;e<t.length;++e){var n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ss=n)}return ss}function w(t){return!y(t)}function b(t){return t.__forward_ref__=b,t.toString=function(){return h(this())},t}function x(t){return a(t)&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===b?t():t}function C(t){return o(t)||t===bs.Default}function E(t){return a(t)&&t.hasOwnProperty("annotation")&&(t=t.annotation),t}function S(t,e){if(t===Object||t===String||t===Function||t===Number||t===Array)throw new Error("Can not use native "+h(t)+" as constructor");if(a(t))return t;if(t instanceof Array){var n=t,r=t[t.length-1];if(!a(r))throw new Error("Last position of Class method array must be Function in key "+e+" was '"+h(r)+"'");var i=n.length-1;if(i!=r.length)throw new Error("Number of annotations ("+i+") does not match number of arguments ("+r.length+") in the function: "+h(r));for(var o=[],s=0,u=n.length-1;u>s;s++){var c=[];o.push(c);var l=n[s];if(l instanceof Array)for(var p=0;p<l.length;p++)c.push(E(l[p]));else a(l)?c.push(E(l)):c.push(l)}return Vs.defineMetadata("parameters",o,r),r}throw new Error("Only Function or Array is supported in Class definition for key '"+e+"' is '"+h(t)+"'")}function P(t){var e=S(t.hasOwnProperty("constructor")?t.constructor:void 0,"constructor"),n=e.prototype;if(t.hasOwnProperty("extends")){if(!a(t.extends))throw new Error("Class definition 'extends' property must be a constructor function was: "+h(t.extends));e.prototype=n=Object.create(t.extends.prototype)}for(var r in t)"extends"!=r&&"prototype"!=r&&t.hasOwnProperty(r)&&(n[r]=S(t[r],r));return this&&this.annotations instanceof Array&&Vs.defineMetadata("annotations",this.annotations,e),e.name||(e.overriddenName="class"+Ms++),e}function k(t,e){function n(n){var r=new t(n);if(this instanceof t)return r;var i=a(this)&&this.annotations instanceof Array?this.annotations:[];i.push(r);var o=function(t){var e=Vs.getOwnMetadata("annotations",t);return e=e||[],e.push(r),Vs.defineMetadata("annotations",e,t),t};return o.annotations=i,o.Class=P,e&&e(o),o}return void 0===e&&(e=null),n.prototype=Object.create(t.prototype),n.annotationCls=t,n}function A(t){function e(){function e(t,e,n){var r=Vs.getMetadata("parameters",t);for(r=r||[];r.length<=n;)r.push(null);r[n]=r[n]||[];var o=r[n];return o.push(i),Vs.defineMetadata("parameters",r,t),t}for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];var i=Object.create(t.prototype);return t.apply(i,n),this instanceof t?i:(e.annotation=i,e)}return e.prototype=Object.create(t.prototype),e.annotationCls=t,e}function T(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=Object.create(t.prototype);return t.apply(r,e),this instanceof t?r:function(t,e){var n=Vs.getOwnMetadata("propMetadata",t.constructor);n=n||{},n[e]=n[e]||[],n[e].unshift(r),Vs.defineMetadata("propMetadata",n,t.constructor)}}return e.prototype=Object.create(t.prototype),e.annotationCls=t,e}function O(t,e){if(i(t))for(var n=0;n<t.length;n++){var r=t[n];l(r)?O(r,e):e.push(r)}return e}function I(t){return y(t)?l(t)||!(t instanceof Js)&&_()in t:!1}function N(t,e,n){for(var r=t[_()](),i=e[_()]();;){var o=r.next(),s=i.next();if(o.done&&s.done)return!0;if(o.done||s.done)return!1;if(!n(o.value,s.value))return!1}}function M(t,e){if(l(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[_()]();!(r=i.next()).done;)e(r.value)}function V(){throw new ca("unimplemented")}function R(t,e){ra.forEach(e,function(e,n){return t.set(n,e)})}function D(t){return t?t.map(function(t){var e=t.type,n=e.annotationCls,r=t.args?t.args:[],i=Object.create(n.prototype);return n.apply(i,r),i}):[]}function j(t){for(var e=[],n=0;n<t.length;++n){if(ia.contains(e,t[n]))return e.push(t[n]),e;e.push(t[n])}return e}function L(t){if(t.length>1){var e=j(ia.reversed(t)),n=e.map(function(t){return h(t.token)});return" ("+n.join(" -> ")+")"}return""}function F(t,e){var n=e.useClass,r=e.useValue,i=e.useExisting,o=e.useFactory,s=e.deps,a=e.multi;return new Ta(t,{useClass:n,useValue:r,useExisting:i,useFactory:o,deps:s,multi:a})}function U(t){return t&&"object"==typeof t&&t.provide}function B(t){return new Ta(t.provide,t)}function H(t){var e,n;if(i(t.useClass)){var r=x(t.useClass);e=ma.factory(r),n=Q(r)}else i(t.useExisting)?(e=function(t){return t},n=[Ia.fromKey(ga.get(t.useExisting))]):i(t.useFactory)?(e=t.useFactory,n=G(t.useFactory,t.dependencies)):(e=function(){return t.useValue},n=Na);return new Va(e,n)}function q(t){return new Ma(ga.get(t.token),[H(t)],t.multi)}function z(t){var e=K(t,[]),n=e.map(q);return na.values(W(n,new Map))}function W(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=e.get(r.key.id);if(i(o)){if(r.multiProvider!==o.multiProvider)throw new Aa(o,r);if(r.multiProvider)for(var s=0;s<r.resolvedFactories.length;s++)o.resolvedFactories.push(r.resolvedFactories[s]);else e.set(r.key.id,r)}else{var a;a=r.multiProvider?new Ma(r.key,ia.clone(r.resolvedFactories),r.multiProvider):r,e.set(r.key.id,a)}}return e}function K(t,e){return t.forEach(function(t){if(t instanceof ts)e.push(F(t,{useClass:t}));else if(t instanceof Ta)e.push(t);else if(U(t))e.push(B(t));else{if(!(t instanceof Array))throw new Sa(t instanceof Oa?t.token:t);K(t,e)}}),e}function G(t,e){if(o(e))return Q(t);var n=e.map(function(t){return[t]});return e.map(function(e){return X(t,e,n)})}function Q(t){var e=ma.parameters(t);if(o(e))return[];if(e.some(o))throw new Pa(t,e);return e.map(function(n){return X(t,n,e)})}function X(t,e,n){var r=[],o=null,s=!1;if(!l(e))return e instanceof as?J(e.token,s,null,null,r):J(e,s,null,null,r);for(var a=null,u=null,c=0;c<e.length;++c){var p=e[c];p instanceof ts?o=p:p instanceof as?o=p.token:p instanceof us?s=!0:p instanceof ps?u=p:p instanceof fs?u=p:p instanceof hs?a=p:p instanceof cs&&(i(p.token)&&(o=p.token),r.push(p))}if(o=x(o),i(o))return J(o,s,a,u,r);throw new Pa(t,n)}function J(t,e,n,r,i){return new Ia(ga.get(t),e,n,r,i)}function Z(t,e){for(var n=[],r=0;r<t._proto.numberOfProviders;++r)n.push(e(t._proto.getProviderAtIndex(r)));return n}function Y(t){var e=tt(t);return nt(e,t),rt(e),$(e),e}function $(t){t.for||(t.for=et)}function tt(t){return t.Symbol||(t.Symbol=function(t){return"@@Symbol("+t+"):"+Ya++}),t.Symbol}function et(t){return"@@"+t}function nt(t,e){if(!t.iterator)if("function"==typeof t.for)t.iterator=t.for("iterator");else if(e.Set&&"function"==typeof(new e.Set)["@@iterator"])t.iterator="@@iterator";else if(e.Map)for(var n=Object.getOwnPropertyNames(e.Map.prototype),r=0;r<n.length;++r){var i=n[r];if("entries"!==i&&"size"!==i&&e.Map.prototype[i]===e.Map.prototype.entries){t.iterator=i;break}}else t.iterator="@@iterator"}function rt(t){t.observable||("function"==typeof t.for?t.observable=t.for("observable"):t.observable="@@observable")}function it(t){return"function"==typeof t}function ot(t){return null!=t&&"object"==typeof t}function st(){try{return Za.apply(this,arguments)}catch(t){return eu.e=t,eu}}function at(t){return Za=t,st}function ut(t,e,n){if(t&&"object"==typeof t){if(t instanceof su)return t;if("function"==typeof t[iu])return t[iu]()}return new su(t,e,n)}function ct(t){throw t}function lt(t){var e=t.value,n=t.subscriber;n.isUnsubscribed||(n.next(e),n.complete())}function pt(t){var e=t.err,n=t.subscriber;n.isUnsubscribed||n.error(e)}function ht(t){var e=this;if(t||(Xa.Rx&&Xa.Rx.config&&Xa.Rx.config.Promise?t=Xa.Rx.config.Promise:Xa.Promise&&(t=Xa.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}function ft(){return""+dt()+dt()+dt()}function dt(){return os.fromCharCode(97+es.floor(25*es.random()))}function vt(t){Au=t}function yt(){var t=$o.wtf;return t&&(Iu=t.trace)?(Nu=Iu.events,!0):!1}function mt(t,e){return void 0===e&&(e=null),Nu.createScope(t,e)}function gt(t,e){return Iu.leaveScope(t,e),e}function _t(t,e){return null}function wt(t,e){return I(t)&&I(e)?N(t,e,wt):I(t)||w(t)||I(e)||w(e)?f(t,e):!0}function bt(t){return xt(t,[])}function xt(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r instanceof Fu){var o=r;if(e.push(o.nativeElement),i(o.nestedViews))for(var s=0;s<o.nestedViews.length;s++)xt(o.nestedViews[s].rootNodesOrAppElements,e)}else e.push(r)}return e}function Ct(t,e){var n;if(o(t))n=dc;else if(t.length<e){var r=t.length;n=ia.createFixedSize(e);for(var i=0;e>i;i++)n[i]=r>i?t[i]:dc}else n=t;return n}function Et(t,e,n,r,i,o,s,a,u,c,l,p,h,f,d,v,y,m,g,_){switch(t){case 1:return e+St(n)+r;case 2:return e+St(n)+r+St(i)+o;case 3:return e+St(n)+r+St(i)+o+St(s)+a;case 4:return e+St(n)+r+St(i)+o+St(s)+a+St(u)+c;case 5:return e+St(n)+r+St(i)+o+St(s)+a+St(u)+c+St(l)+p;case 6:return e+St(n)+r+St(i)+o+St(s)+a+St(u)+c+St(l)+p+St(h)+f;case 7:return e+St(n)+r+St(i)+o+St(s)+a+St(u)+c+St(l)+p+St(h)+f+St(d)+v;case 8:return e+St(n)+r+St(i)+o+St(s)+a+St(u)+c+St(l)+p+St(h)+f+St(d)+v+St(y)+m;case 9:return e+St(n)+r+St(i)+o+St(s)+a+St(u)+c+St(l)+p+St(h)+f+St(d)+v+St(y)+m+St(g)+_;default:throw new ca("Does not support more than 9 expressions")}}function St(t){return null!=t?t.toString():""}function Pt(t,e,n){if(t){if(!wt(e,n))throw new Uu(e,n,null);return!1}return!f(e,n)}function kt(t,e){return t}function At(t){var e,n;return n=ec,function(r){return f(n,r)||(n=r,e=t(r)),e}}function Tt(t){var e,n,r;return n=r=ec,function(i,o){return f(n,i)&&f(r,o)||(n=i,r=o,e=t(i,o)),e}}function Ot(t){var e,n,r,i;return n=r=i=ec,function(o,s,a){return f(n,o)&&f(r,s)&&f(i,a)||(n=o,r=s,i=a,e=t(o,s,a)),e}}function It(t){var e,n,r,i,o;return n=r=i=o=ec,function(s,a,u,c){return f(n,s)&&f(r,a)&&f(i,u)&&f(o,c)||(n=s,r=a,i=u,o=c,e=t(s,a,u,c)),e}}function Nt(t){var e,n,r,i,o,s;return n=r=i=o=s=ec,function(a,u,c,l,p){return f(n,a)&&f(r,u)&&f(i,c)&&f(o,l)&&f(s,p)||(n=a,r=u,i=c,o=l,s=p,e=t(a,u,c,l,p)),e}}function Mt(t){var e,n,r,i,o,s,a;return n=r=i=o=s=a=ec,function(u,c,l,p,h,d){return f(n,u)&&f(r,c)&&f(i,l)&&f(o,p)&&f(s,h)&&f(a,d)||(n=u,r=c,i=l,o=p,s=h,a=d,e=t(u,c,l,p,h,d)),e}}function Vt(t){var e,n,r,i,o,s,a,u;return n=r=i=o=s=a=u=ec,function(c,l,p,h,d,v,y){return f(n,c)&&f(r,l)&&f(i,p)&&f(o,h)&&f(s,d)&&f(a,v)&&f(u,y)||(n=c,r=l,i=p,o=h,s=d,a=v,u=y,e=t(c,l,p,h,d,v,y)),e}}function Rt(t){var e,n,r,i,o,s,a,u,c;return n=r=i=o=s=a=u=c=ec,function(l,p,h,d,v,y,m,g){return f(n,l)&&f(r,p)&&f(i,h)&&f(o,d)&&f(s,v)&&f(a,y)&&f(u,m)&&f(c,g)||(n=l,r=p,i=h,o=d,s=v,a=y,u=m,c=g,e=t(l,p,h,d,v,y,m,g)),e}}function Dt(t){var e,n,r,i,o,s,a,u,c,l;return n=r=i=o=s=a=u=c=l=ec,function(p,h,d,v,y,m,g,_,w){return f(n,p)&&f(r,h)&&f(i,d)&&f(o,v)&&f(s,y)&&f(a,m)&&f(u,g)&&f(c,_)&&f(l,w)||(n=p,r=h,i=d,o=v,s=y,a=m,u=g,c=_,l=w,e=t(p,h,d,v,y,m,g,_,w)),e}}function jt(t){var e,n,r,i,o,s,a,u,c,l,p;return n=r=i=o=s=a=u=c=l=p=ec,function(h,d,v,y,m,g,_,w,b,x){return f(n,h)&&f(r,d)&&f(i,v)&&f(o,y)&&f(s,m)&&f(a,g)&&f(u,_)&&f(c,w)&&f(l,b)&&f(p,x)||(n=h,r=d,i=v,o=y,s=m,a=g,u=_,c=w,l=b,p=x,e=t(h,d,v,y,m,g,_,w,b,x)),e}}function Lt(t){return t instanceof bc}function Ft(){return new gu({enableLongStackTrace:r()})}function Ut(t){if(kc)throw new ca("Already creating a platform...");if(i(Pc)&&!Pc.disposed)throw new ca("There can be only one platform. Destroy the previous one to create a new one.");n(),kc=!0;try{Pc=t.get(Ac)}finally{kc=!1}return Pc}function Bt(t){var e=Ht();if(o(e))throw new ca("Not platform exists!");if(i(e)&&o(e.injector.get(t,null)))throw new ca("A platform with a different configuration has been created. Please destroy it first.");return e}function Ht(){return i(Pc)&&!Pc.disposed?Pc:null}function qt(t,e){var n=t.get(Oc);return n.run(function(){var r=t.get(xc);return Ga.all([r.resolveComponent(e),n.waitForAsyncInitializers()]).then(function(t){return n.bootstrap(t[0])})})}function zt(t,e,n){t.childNodes.forEach(function(t){t instanceof zc&&(e(t)&&n.push(t),zt(t,e,n))})}function Wt(t,e,n){t instanceof zc&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof zc&&Wt(t,e,n)})}function Kt(t){return Wc.get(t)}function Gt(t){Wc.set(t.nativeNode,t)}function Qt(t){Wc.delete(t.nativeNode)}function Xt(){return ma}function Jt(t){var e;if(t instanceof Fu){var n=t;if(e=n.nativeElement,i(n.nestedViews))for(var r=n.nestedViews.length-1;r>=0;r--){var o=n.nestedViews[r];o.rootNodesOrAppElements.length>0&&(e=Jt(o.rootNodesOrAppElements[o.rootNodesOrAppElements.length-1]))}}else e=t;return e}function Zt(){}function Yt(){return hl}function $t(t){return void 0!==t&&null!==t}function te(t){return void 0===t||null===t}function ee(t){return"boolean"==typeof t}function ne(t){return"number"==typeof t}function re(t){return"string"==typeof t}function ie(t){return"object"==typeof t&&null!==t}function oe(t){return ie(t)&&Object.getPrototypeOf(t)===dl}function se(t){return Array.isArray(t)}function ae(){}function ue(t){if("string"==typeof t)return t;if(void 0===t||null===t)return""+t;if(t.name)return t.name;if(t.overriddenName)return t.overriddenName;var e=t.toString(),n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ce(t){return t}function le(t,e){return t[e]}function pe(t){return te(t)?null:t}function he(t){return te(t)?!1:t}function fe(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function de(t,e,n,r){var i=n+"\nreturn "+e+"\n//# sourceURL="+t,o=[],s=[];for(var a in r)o.push(a),s.push(r[a]);return(new(Function.bind.apply(Function,[void 0].concat(o.concat(i))))).apply(void 0,s)}function ve(t){return!fe(t)}function ye(t,e,n){void 0===n&&(n=null);var r=[];return e.forEach(function(e){var i=e.visit(t,n);$t(i)&&r.push(i)}),r}function me(t,e){if($t(t))for(var n=0;n<t.length;n++){var r=t[n];se(r)?me(r,e):e.push(r)}return e}function ge(){throw new Ap("unimplemented")}function _e(t,e){return new th(t,Dl.Character,e,vl.fromCharCode(e))}function we(t,e){return new th(t,Dl.Identifier,0,e)}function be(t,e){return new th(t,Dl.Keyword,0,e)}function xe(t,e){return new th(t,Dl.Operator,0,e)}function Ce(t,e){return new th(t,Dl.String,0,e)}function Ee(t,e){return new th(t,Dl.Number,e,"")}function Se(t){return t>=rh&&uh>=t||t==$h}function Pe(t){return t>=Bh&&Xh>=t||t>=Nh&&Vh>=t||t==Fh||t==hh}function ke(t){if(0==t.length)return!1;var e=new ef(t);if(!Pe(e.peek))return!1;for(e.advance();e.peek!==nh;){if(!Ae(e.peek))return!1;e.advance()}return!0}function Ae(t){return t>=Bh&&Xh>=t||t>=Nh&&Vh>=t||t>=Oh&&Ih>=t||t==Fh||t==hh}function Te(t){return t>=Oh&&Ih>=t}function Oe(t){return t==Hh||t==Mh}function Ie(t){return t==bh||t==_h}function Ne(t){return t===vh||t===lh||t===Uh}function Me(t){switch(t){case zh:return ih;case qh:return sh;case Wh:return ah;case Kh:return rh;case Qh:return oh;default:return t}}function Ve(t,e,n){void 0===n&&(n=null);var r=[];return e.forEach(function(e){var i=e.visit(t,n);$t(i)&&r.push(i)}),r}function Re(t){var e=kf[t.toLowerCase()];return $t(e)?e:Af}function De(t){if("@"!=t[0])return[null,t];var e=_l.firstMatch(Tf,t);return[e[1],e[2]]}function je(t){return De(t)[0]}function Le(t,e){return $t(t)?"@"+t+":"+e:e}function Fe(t,e,n){return void 0===n&&(n=!1),new dd(new wf(t,e),n).tokenize()}function Ue(t){var e=t===Mf?"EOF":vl.fromCharCode(t);return'Unexpected character "'+e+'"'}function Be(t){return'Unknown entity "'+t+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function He(t){return!qe(t)||t===Mf}function qe(t){return t>=Vf&&jf>=t||t===pd}function ze(t){return qe(t)||t===Zf||t===zf||t===Hf||t===Ff||t===Jf}function We(t){return(ad>t||t>cd)&&(rd>t||t>sd)&&(Wf>t||t>Gf)}function Ke(t){return t==Kf||t==Mf||!Je(t)}function Ge(t){return t==Kf||t==Mf||!Xe(t)}function Qe(t,e){return t===td&&e!=td}function Xe(t){return t>=ad&&cd>=t||t>=rd&&sd>=t}function Je(t){return t>=ad&&ud>=t||t>=rd&&id>=t||t>=Wf&&Gf>=t}function Ze(t,e){return Ye(t)==Ye(e)}function Ye(t){return t>=ad&&cd>=t?t-ad+rd:t}function $e(t){for(var e,n=[],r=0;r<t.length;r++){var i=t[r];$t(e)&&e.type==Sf.TEXT&&i.type==Sf.TEXT?(e.parts[0]+=i.parts[0],e.sourceSpan.end=i.sourceSpan.end):(e=i,n.push(e))}return n}function tn(t,e,n){return te(t)&&(t=Re(e).implicitNamespacePrefix,te(t)&&$t(n)&&(t=je(n.name))),Le(t,e)}function en(t,e){return t.length>0&&t[t.length-1]===e}function nn(t){var e=null,n=null,r=null,i=!1,o=null;t.attrs.forEach(function(t){var s=t.name.toLowerCase();s==Pd?e=t.value:s==Od?n=t.value:s==Td?r=t.value:t.name==Vd?i=!0:t.name==Rd&&t.value.length>0&&(o=t.value)}),e=rn(e);var s=t.name.toLowerCase(),a=gd.OTHER;return De(s)[1]==kd?a=gd.NG_CONTENT:s==Nd?a=gd.STYLE:s==Md?a=gd.SCRIPT:s==Ad&&r==Id&&(a=gd.STYLESHEET),new Dd(a,e,n,i,o)}function rn(t){return te(t)||0===t.length?"*":t}function on(t){if(te(t)||0===t.length||"/"==t[0])return!1;var e=_l.firstMatch(Fd,t);return te(e)||"package"==e[1]||"asset"==e[1]}function sn(t,e,n){var r=[],i=vl.replaceAllMapped(n,Ld,function(n){var i=$t(n[1])?n[1]:n[2];return on(i)?(r.push(t.resolve(e,i)),""):n[0]});return new jd(i,r)}function an(t){return vl.replaceAllMapped(t,Bd,function(t){return"-"+t[1].toLowerCase()})}function un(t,e){var n=vl.split(t.trim(),/\s*:\s*/g);return n.length>1?n:e}function cn(t){return vl.replaceAll(t,/\W/g,"_")}function ln(t,e,n){return se(t)?e.visitArray(t,n):oe(t)?e.visitStringMap(t,n):te(t)||ve(t)?e.visitPrimitive(t,n):e.visitOther(t,n)}function pn(t,e,n){return void 0===e&&(e=null),void 0===n&&(n="src"),cl?null==e?"asset:angular2/"+t+"/"+t+".dart":"asset:angular2/lib/"+t+"/src/"+e+".dart":null==e?"asset:@angular/lib/"+t+"/index":"asset:@angular/lib/"+t+"/src/"+e}function hn(t){var e=dn(t);return e&&e[Kd.Scheme]||""}function fn(t,e,n,r,i,o,s){var a=[];return $t(t)&&a.push(t+":"),$t(n)&&(a.push("//"),$t(e)&&a.push(e+"@"),a.push(n),$t(r)&&a.push(":"+r)),$t(i)&&a.push(i),$t(o)&&a.push("?"+o),$t(s)&&a.push("#"+s),a.join("")}function dn(t){return _l.firstMatch(Gd,t)}function vn(t){if("/"==t)return"/";for(var e="/"==t[0]?"/":"",n="/"===t[t.length-1]?"/":"",r=t.split("/"),i=[],o=0,s=0;s<r.length;s++){var a=r[s];switch(a){case"":case".":break;case"..":i.length>0?i.pop():o++;break;default:i.push(a)}}if(""==e){for(;o-- >0;)i.unshift("..");0===i.length&&i.push(".")}return e+i.join("/")+n}function yn(t){var e=t[Kd.Path];return e=te(e)?"":vn(e),t[Kd.Path]=e,fn(t[Kd.Scheme],t[Kd.UserInfo],t[Kd.Domain],t[Kd.Port],e,t[Kd.QueryData],t[Kd.Fragment])}function mn(t,e){var n=dn(encodeURI(e)),r=dn(t);if($t(n[Kd.Scheme]))return yn(n);n[Kd.Scheme]=r[Kd.Scheme];for(var i=Kd.Scheme;i<=Kd.Port;i++)te(n[i])&&(n[i]=r[i]);if("/"==n[Kd.Path][0])return yn(n);var o=r[Kd.Path];te(o)&&(o="/");var s=o.lastIndexOf("/");return o=o.substring(0,s+1)+n[Kd.Path],n[Kd.Path]=o,yn(n)}function gn(t){return sv[t.class](t)}function _n(t,e){var n=xd.parse(e)[0].getMatchingElementTemplate();return iv.create({type:new ev({runtime:Object,name:t.name+"_Host",moduleUrl:t.moduleUrl,isHost:!0}),template:new rv({template:n,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[]}),changeDetection:bs.Default,inputs:[],outputs:[],host:{},lifecycleHooks:[],isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[]})}function wn(t,e){return te(t)?null:t.map(function(t){return xn(t,e)})}function bn(t){return te(t)?null:t.map(Cn)}function xn(t,e){return se(t)?wn(t,e):re(t)||te(t)||ee(t)||ne(t)?t:e(t)}function Cn(t){return se(t)?bn(t):re(t)||te(t)||ee(t)||ne(t)?t:t.toJson()}function En(t){return $t(t)?t:[]}function Sn(t){return new $d({identifier:t})}function Pn(t,e){var n=e.useExisting,r=e.useValue,i=e.deps;return new Zd({token:t.token,useClass:t.useClass,useExisting:n,useFactory:t.useFactory,useValue:r,deps:i,multi:t.multi})}function kn(t,e){var n=e.eager,r=e.providers;return new Ml(t.token,t.multiProvider,t.eager||n,r,t.providerType,t.sourceSpan)}function An(t,e,n,r){return void 0===r&&(r=null),te(r)&&(r=[]),$t(t)&&t.forEach(function(t){if(se(t))An(t,e,n,r);else{var i;t instanceof Zd?i=t:t instanceof ev?i=new Zd({token:new $d({identifier:t}),useClass:t}):n.push(new Uv("Unknown provider type "+t,e)),$t(i)&&r.push(i)}}),r}function Tn(t,e,n){var r=new tv;t.forEach(function(t){var i=new Zd({token:new $d({identifier:t.type}),useClass:t.type});On([i],t.isComponent?fl.Component:fl.Directive,!0,e,n,r)});var i=t.filter(function(t){return t.isComponent}).concat(t.filter(function(t){return!t.isComponent}));return i.forEach(function(t){On(An(t.providers,e,n),fl.PublicService,!1,e,n,r),On(An(t.viewProviders,e,n),fl.PrivateService,!1,e,n,r)}),r}function On(t,e,n,r,i,o){t.forEach(function(t){var s=o.get(t.token);$t(s)&&s.multiProvider!==t.multi&&i.push(new Uv("Mixing multi and non multi provider is not possible for token "+s.token.name,r)),te(s)?(s=new Ml(t.token,t.multi,n,[t],e,r),o.add(t.token,s)):(t.multi||Sp.clear(s.providers),s.providers.push(t))})}function In(t){var e=new tv;return $t(t.viewQueries)&&t.viewQueries.forEach(function(t){return Mn(e,t)}),t.type.diDeps.forEach(function(t){$t(t.viewQuery)&&Mn(e,t.viewQuery)}),e}function Nn(t){var e=new tv;return t.forEach(function(t){$t(t.queries)&&t.queries.forEach(function(t){return Mn(e,t)}),t.type.diDeps.forEach(function(t){$t(t.query)&&Mn(e,t.query)})}),e}function Mn(t,e){e.selectors.forEach(function(n){var r=t.get(n);te(r)&&(r=[],t.add(n,r)),r.push(e)})}function Vn(t){return vl.split(t.trim(),/\s+/g)}function Rn(t,e){var n=new xd,r=De(t)[1];n.setElement(r);for(var i=0;i<e.length;i++){var o=e[i][0],s=De(o)[1],a=e[i][1];if(n.addAttribute(s,a),o.toLowerCase()==Gv){var u=Vn(a);u.forEach(function(t){return n.addClassName(t)})}}return n}function Dn(t){var e=[];return t.forEach(function(t){var n=e.filter(function(e){return e.type.name==t.type.name&&e.type.moduleUrl==t.type.moduleUrl&&e.type.runtime==t.type.runtime}).length>0;n||e.push(t)}),e}function jn(t,e,n){var r=new fm(t,e);return n.visitExpression(r,null)}function Ln(t){var e=new dm;return e.visitAllStatements(t,null),e.varNames}function Fn(t,e){return void 0===e&&(e=null),new Ty(t,e)}function Un(t,e){return void 0===e&&(e=null),new Ly(t,null,e)}function Bn(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),$t(t)?new gy(t,e,n):null}function Hn(t,e){return void 0===e&&(e=null),new jy(t,e)}function qn(t,e){return void 0===e&&(e=null),new Gy(t,e)}function zn(t,e){return void 0===e&&(e=null),new Qy(t,e)}function Wn(t){return new Uy(t)}function Kn(t,e,n){return void 0===n&&(n=null),new qy(t,e,n)}function Gn(t){return vl.replaceAllMapped(t,Vm,function(t){return""})}function Qn(t,e){var n=Xn(t),r=0;return vl.replaceAllMapped(n.escapedString,Rm,function(t){var i=t[2],o="",s=t[4],a="";$t(t[4])&&t[4].startsWith("{"+Fm)&&(o=n.blocks[r++],s=t[4].substring(Fm.length+1),a="{");var u=e(new Um(i,o));return""+t[1]+u.selector+t[3]+a+u.content+s})}function Xn(t){for(var e=vl.split(t,Dm),n=[],r=[],i=0,o=[],s=0;s<e.length;s++){var a=e[s];a==Lm&&i--,i>0?o.push(a):(o.length>0&&(r.push(o.join("")),n.push(Fm),o=[]),n.push(a)),a==jm&&i++}return o.length>0&&(r.push(o.join("")),n.push(Fm)),new Bm(n.join(""),r)}function Jn(t){var e="styles";return $t(t)&&(e+="_"+t.type.name),e}function Zn(t,e){if(te(e))return Zy;var n=le(t.runtime,e);return Un(new Xd({name:t.name+"."+n,moduleUrl:t.moduleUrl,runtime:e}))}function Yn(t,e,n){if(e===n)return t;for(var r=Xy,i=e;i!==n&&$t(i.declarationElement.view);)i=i.declarationElement.view,r=r.prop("parent");if(i!==n)throw new Ap("Internal error: Could not calculate a property in a parent view: "+t);if(t instanceof Wy){var o=t;(n.fields.some(function(t){return t.name==o.name})||n.getters.some(function(t){return t.name==o.name}))&&(r=r.cast(n.classType))}return jn(Xy.name,r,t)}function $n(t,e){var n=[er(t)];return e&&n.push(Zy),Xy.prop("parentInjector").callMethod("get",n)}function tr(t,e){return"viewFactory_"+t.type.name+e}function er(t){return $t(t.value)?Hn(t.value):t.identifierIsInstance?Un(t.identifier).instantiate([],Bn(t.identifier,[],[ry.Const])):Un(t.identifier)}function nr(t){for(var e=[],n=qn([]),r=0;r<t.length;r++){var i=t[r];i.type instanceof _y?(e.length>0&&(n=n.callMethod(Ay.ConcatArray,[qn(e)]),e=[]),n=n.callMethod(Ay.ConcatArray,[i])):e.push(i)}return e.length>0&&(n=n.callMethod(Ay.ConcatArray,[qn(e)])),n}function rr(t,e,n,r){r.fields.push(new im(n.name,null));var i=e<Fv.pureProxies.length?Fv.pureProxies[e]:null;if(te(i))throw new Ap("Unsupported number of argument for pure functions: "+e);r.createMethod.addStmt(Xy.prop(n.name).set(Un(i).callFn([t])).toStmt())}function ir(t){return Sp.flatten(t.values.map(function(t){return t instanceof ig?or(t.view.declarationElement.appElement,t.view,ir(t)):t}))}function or(t,e,n){var r=n.map(function(t){return jn(Xy.name,Fn("nestedView"),t)});return t.callMethod("mapNestedViews",[Fn(e.className),Kn([new Hy("nestedView",e.classType)],[new nm(qn(r))])])}function sr(t,e,n,r){r.fields.push(new im(n,Bn(Fv.QueryList)));var i=Xy.prop(n);return r.createMethod.addStmt(Xy.prop(n).set(Un(Fv.QueryList).instantiate([])).toStmt()),i}function ar(t,e){e.meta.selectors.forEach(function(n){var r=t.get(n);te(r)&&(r=[],t.add(n,r)),r.push(e)})}function ur(t,e,n,r){var i;return i=e>0?Hn(t).lowerEquals(eg.requestNodeIndex).and(eg.requestNodeIndex.lowerEquals(Hn(t+e))):Hn(t).identical(eg.requestNodeIndex),new um(eg.token.identical(er(n.token)).and(i),[new nm(r)])}function cr(t,e,n,r,i,o){var s,a,u=o.view;if(r?(s=qn(n),a=new _y(by)):(s=n[0],a=n[0].type),te(a)&&(a=by),i)u.fields.push(new im(t,a)),u.createMethod.addStmt(Xy.prop(t).set(s).toStmt());else{var c="_"+t;u.fields.push(new im(c,a));var l=new ug(u);l.resetDebugInfo(o.nodeIndex,o.sourceAst),l.addStmt(new um(Xy.prop(c).isBlank(),[Xy.prop(c).set(s).toStmt()])),l.addStmt(new nm(Xy.prop(c))),u.getters.push(new sm(t,l.finish(),a))}return Xy.prop(t)}function lr(t){return ln(t,new hg,null)}function pr(t,e){for(var n=null,r=t.pipeMetas.length-1;r>=0;r--){var i=t.pipeMetas[r];if(i.name==e){n=i;break}}if(te(n))throw new Ap("Illegal state: Could not find pipe "+e+" although the parser should have detected this error!");return n}function hr(t,e){return e>0?Kl.EMBEDDED:t.type.isHost?Kl.HOST:Kl.COMPONENT}function fr(t,e,n){var r=new xg(t,n);return ye(r,e,t.declarationElement.isNull()?t.declarationElement:t.declarationElement.parent),r.nestedViewCount}function dr(t,e){t.afterNodes(),_r(t,e),t.nodes.forEach(function(t){t instanceof lg&&t.hasEmbeddedView&&dr(t.embeddedView,e)})}function vr(t,e){var n={};return Ep.forEach(t,function(t,e){n[e]=t}),e.forEach(function(t){Ep.forEach(t.hostAttributes,function(t,e){var r=n[e];n[e]=$t(r)?mr(e,r,t):t})}),gr(n)}function yr(t){var e={};return t.forEach(function(t){e[t.name]=t.value}),e}function mr(t,e,n){return t==mg||t==gg?e+" "+n:n}function gr(t){var e=[];Ep.forEach(t,function(t,n){e.push([n,t])}),Sp.sort(e,function(t,e){return vl.compare(t[0],e[0])});var n=[];return e.forEach(function(t){n.push([t[0],t[1]])}),n}function _r(t,e){var n=Zy;t.genConfig.genDebugInfo&&(n=Fn("nodeDebugInfos_"+t.component.type.name+t.viewIndex),e.push(n.set(qn(t.nodes.map(wr),new _y(new gy(Fv.StaticNodeDebugInfo),[ry.Const]))).toDeclStmt(null,[My.Final])));var r=Fn("renderType_"+t.component.type.name);0===t.viewIndex&&e.push(r.set(Zy).toDeclStmt(Bn(Fv.RenderComponentType)));var i=br(t,r,n);e.push(i),e.push(xr(t,i,r))}function wr(t){var e=t instanceof lg?t:null,n=[],r=Zy,i=[];return $t(e)&&(n=e.getProviderTokens(),$t(e.component)&&(r=er(Sn(e.component.type))),Ep.forEach(e.referenceTokens,function(t,e){i.push([e,$t(t)?er(t):Zy])})),Un(Fv.StaticNodeDebugInfo).instantiate([qn(n,new _y(by,[ry.Const])),r,zn(i,new wy(by,[ry.Const]))],Bn(Fv.StaticNodeDebugInfo,null,[ry.Const]))}function br(t,e,n){var r=[new Hy(Ym.viewUtils.name,Bn(Fv.ViewUtils)),new Hy(Ym.parentInjector.name,Bn(Fv.Injector)),new Hy(Ym.declarationEl.name,Bn(Fv.AppElement))],i=[Fn(t.className),e,Qm.fromValue(t.viewType),Ym.viewUtils,Ym.parentInjector,Ym.declarationEl,Zm.fromValue(kr(t))];t.genConfig.genDebugInfo&&i.push(n);var o=new om(null,r,[Jy.callFn(i).toStmt()]),s=[new om("createInternal",[new Hy(wg.name,Ey)],Cr(t),Bn(Fv.AppElement)),new om("injectorGetInternal",[new Hy(eg.token.name,by),new Hy(eg.requestNodeIndex.name,Cy),new Hy(eg.notFoundResult.name,by)],Sr(t.injectorGetMethod.finish(),eg.notFoundResult),by),new om("detectChangesInternal",[new Hy(ng.throwOnChange.name,xy)],Er(t)),new om("dirtyParentQueriesInternal",[],t.dirtyParentQueriesMethod.finish()),new om("destroyInternal",[],t.destroyMethod.finish())].concat(t.eventHandlerMethods),a=t.genConfig.genDebugInfo?Fv.DebugAppView:Fv.AppView,u=new am(t.className,Un(a,[Pr(t)]),t.fields,t.getters,o,s.filter(function(t){return t.body.length>0}));return u}function xr(t,e,n){var r,i=[new Hy(Ym.viewUtils.name,Bn(Fv.ViewUtils)),new Hy(Ym.parentInjector.name,Bn(Fv.Injector)),new Hy(Ym.declarationEl.name,Bn(Fv.AppElement))],o=[];return r=t.component.template.templateUrl==t.component.type.moduleUrl?t.component.type.moduleUrl+" class "+t.component.type.name+" - inline template":t.component.template.templateUrl,0===t.viewIndex&&(o=[new um(n.identical(Zy),[n.set(Ym.viewUtils.callMethod("createRenderComponentType",[Hn(r),Hn(t.component.template.ngContentSelectors.length),Xm.fromValue(t.component.template.encapsulation),t.styles])).toStmt()])]),Kn(i,o.concat([new nm(Fn(e.name).instantiate(e.constructorMethod.params.map(function(t){return Fn(t.name)})))]),Bn(Fv.AppView,[Pr(t)])).toDeclStmt(t.viewFactory.name,[My.Final])}function Cr(t){var e=Zy,n=[];t.viewType===Kl.COMPONENT&&(e=$m.renderer.callMethod("createViewRoot",[Xy.prop("declarationAppElement").prop("nativeElement")]),n=[_g.set(e).toDeclStmt(Bn(t.genConfig.renderTypes.renderNode),[My.Final])]);var r;return r=t.viewType===Kl.HOST?t.nodes[0].appElement:Zy,n.concat(t.createMethod.finish()).concat([Xy.callMethod("init",[nr(t.rootNodesOrAppElements),qn(t.nodes.map(function(t){return t.renderNode})),qn(t.disposables),qn(t.subscriptions)]).toStmt(),new nm(r)])}function Er(t){var e=[];if(t.detectChangesInInputsMethod.isEmpty()&&t.updateContentQueriesMethod.isEmpty()&&t.afterContentLifecycleCallbacksMethod.isEmpty()&&t.detectChangesRenderPropertiesMethod.isEmpty()&&t.updateViewQueriesMethod.isEmpty()&&t.afterViewLifecycleCallbacksMethod.isEmpty())return e;Sp.addAll(e,t.detectChangesInInputsMethod.finish()),e.push(Xy.callMethod("detectContentChildrenChanges",[ng.throwOnChange]).toStmt());var n=t.updateContentQueriesMethod.finish().concat(t.afterContentLifecycleCallbacksMethod.finish());n.length>0&&e.push(new um(Wn(ng.throwOnChange),n)),Sp.addAll(e,t.detectChangesRenderPropertiesMethod.finish()),e.push(Xy.callMethod("detectViewChildrenChanges",[ng.throwOnChange]).toStmt());var r=t.updateViewQueriesMethod.finish().concat(t.afterViewLifecycleCallbacksMethod.finish());r.length>0&&e.push(new um(Wn(ng.throwOnChange),r));var i=[],o=Ln(e);return kp.has(o,ng.changed.name)&&i.push(ng.changed.set(Hn(!0)).toDeclStmt(xy)),kp.has(o,ng.changes.name)&&i.push(ng.changes.set(Zy).toDeclStmt(new wy(Bn(Fv.SimpleChange)))),kp.has(o,ng.valUnwrapper.name)&&i.push(ng.valUnwrapper.set(Un(Fv.ValueUnwrapper).instantiate([])).toDeclStmt(null,[My.Final])),i.concat(e);
}function Sr(t,e){return t.length>0?t.concat([new nm(e)]):t}function Pr(t){return t.viewType===Kl.COMPONENT?Bn(t.component.type):by}function kr(t){var e;return e=t.viewType===Kl.COMPONENT?jl(t.component.changeDetection)?bs.CheckAlways:bs.CheckOnce:bs.CheckAlways}function Ar(t,e,n,r){var i=new Sg(t,e,r),o=n.visit(i,rg.Expression);return new Eg(o,i.needsValueUnwrapper)}function Tr(t,e,n){var r=new Sg(t,e,null),i=[];return Mr(n.visit(r,rg.Statement),i),i}function Or(t,e){if(t!==rg.Statement)throw new Ap("Expected a statement, but saw "+e)}function Ir(t,e){if(t!==rg.Expression)throw new Ap("Expected an expression, but saw "+e)}function Nr(t,e){return t===rg.Statement?e.toStmt():e}function Mr(t,e){se(t)?t.forEach(function(t){return Mr(t,e)}):e.push(t)}function Vr(t){return Xy.prop("_expr_"+t)}function Rr(t){return Fn("currVal_"+t)}function Dr(t,e,n,r,i,o,s){var a=Ar(t,i,r,ng.valUnwrapper);if(!te(a.expression)){if(t.fields.push(new im(n.name,null,[My.Private])),t.createMethod.addStmt(Xy.prop(n.name).set(Un(Fv.uninitialized)).toStmt()),a.needsValueUnwrapper){var u=ng.valUnwrapper.callMethod("reset",[]).toStmt();s.addStmt(u)}s.addStmt(e.set(a.expression).toDeclStmt(null,[My.Final]));var c=Un(Fv.checkBinding).callFn([ng.throwOnChange,n,e]);a.needsValueUnwrapper&&(c=ng.valUnwrapper.prop("hasWrappedValue").or(c)),s.addStmt(new um(c,o.concat([Xy.prop(n.name).set(e).toStmt()])))}}function jr(t,e,n){var r=n.bindings.length;n.bindings.push(new Pg(e,t));var i=Rr(r),o=Vr(r);n.detectChangesRenderPropertiesMethod.resetDebugInfo(e.nodeIndex,t),Dr(n,i,o,t.value,n.componentContext,[Xy.prop("renderer").callMethod("setText",[e.renderNode,i]).toStmt()],n.detectChangesRenderPropertiesMethod)}function Lr(t,e,n){var r=n.view,i=n.renderNode;t.forEach(function(t){var o=r.bindings.length;r.bindings.push(new Pg(n,t)),r.detectChangesRenderPropertiesMethod.resetDebugInfo(n.nodeIndex,t);var s,a=Vr(o),u=Rr(o),c=Fr(t,u),l=[];switch(t.type){case Vl.Property:s="setElementProperty",r.genConfig.logBindingUpdate&&l.push(qr(i,t.name,u));break;case Vl.Attribute:s="setElementAttribute",c=c.isBlank().conditional(Zy,c.callMethod("toString",[]));break;case Vl.Class:s="setElementClass";break;case Vl.Style:s="setElementStyle";var p=c.callMethod("toString",[]);$t(t.unit)&&(p=p.plus(Hn(t.unit))),c=c.isBlank().conditional(Zy,p)}l.push(Xy.prop("renderer").callMethod(s,[i,Hn(t.name),c]).toStmt()),Dr(r,u,a,t.value,e,l,r.detectChangesRenderPropertiesMethod)})}function Fr(t,e){var n;switch(t.securityContext){case op.NONE:return e;case op.HTML:n="HTML";break;case op.STYLE:n="STYLE";break;case op.SCRIPT:n="SCRIPT";break;case op.URL:n="URL";break;case op.RESOURCE_URL:n="RESOURCE_URL";break;default:throw new Error("internal error, unexpected SecurityContext "+t.securityContext+".")}var r=$m.viewUtils.prop("sanitizer"),i=[Un(Fv.SecurityContext).prop(n),e];return r.callMethod("sanitize",i)}function Ur(t,e){Lr(t,e.view.componentContext,e)}function Br(t,e,n){Lr(t.hostProperties,e,n)}function Hr(t,e,n){if(0!==t.inputs.length){var r=n.view,i=r.detectChangesInInputsMethod;i.resetDebugInfo(n.nodeIndex,n.sourceAst);var o=t.directive.lifecycleHooks,s=-1!==o.indexOf(Ul.OnChanges),a=t.directive.isComponent&&!jl(t.directive.changeDetection);s&&i.addStmt(ng.changes.set(Zy).toStmt()),a&&i.addStmt(ng.changed.set(Hn(!1)).toStmt()),t.inputs.forEach(function(t){var o=r.bindings.length;r.bindings.push(new Pg(n,t)),i.resetDebugInfo(n.nodeIndex,t);var u=Vr(o),c=Rr(o),l=[e.prop(t.directiveName).set(c).toStmt()];s&&(l.push(new um(ng.changes.identical(Zy),[ng.changes.set(zn([],new wy(Bn(Fv.SimpleChange)))).toStmt()])),l.push(ng.changes.key(Hn(t.directiveName)).set(Un(Fv.SimpleChange).instantiate([u,c])).toStmt())),a&&l.push(ng.changed.set(Hn(!0)).toStmt()),r.genConfig.logBindingUpdate&&l.push(qr(n.renderNode,t.directiveName,c)),Dr(r,c,u,t.value,r.componentContext,l,i)}),a&&i.addStmt(new um(ng.changed,[n.appElement.prop("componentView").callMethod("markAsCheckOnce",[]).toStmt()]))}}function qr(t,e,n){return Xy.prop("renderer").callMethod("setBindingDebugInfo",[t,Hn("ng-reflect-"+an(e)),n.isBlank().conditional(Zy,n.callMethod("toString",[]))]).toStmt()}function zr(t,e,n){var r=[];return t.forEach(function(t){n.view.bindings.push(new Pg(n,t));var e=kg.getOrCreate(n,t.target,t.name,r);e.addAction(t,null,null)}),Sp.forEachWithIndex(e,function(t,e){var i=n.directiveInstances[e];t.hostEvents.forEach(function(e){n.view.bindings.push(new Pg(n,e));var o=kg.getOrCreate(n,e.target,e.name,r);o.addAction(e,t.directive,i)})}),r.forEach(function(t){return t.finishMethod()}),r}function Wr(t,e,n){Ep.forEach(t.directive.outputs,function(t,r){n.filter(function(e){return e.eventName==t}).forEach(function(t){t.listenToDirective(e,r)})})}function Kr(t){t.forEach(function(t){return t.listenToRenderer()})}function Gr(t){return t instanceof em?t.expr:t instanceof nm?t.value:null}function Qr(t){return vl.replaceAll(t,/[^a-zA-Z_]/g,"_")}function Xr(t,e,n){var r=n.view,i=r.detectChangesInInputsMethod,o=t.directive.lifecycleHooks;-1!==o.indexOf(Ul.OnChanges)&&t.inputs.length>0&&i.addStmt(new um(ng.changes.notIdentical(Zy),[e.callMethod("ngOnChanges",[ng.changes]).toStmt()])),-1!==o.indexOf(Ul.OnInit)&&i.addStmt(new um(Ag.and(Tg),[e.callMethod("ngOnInit",[]).toStmt()])),-1!==o.indexOf(Ul.DoCheck)&&i.addStmt(new um(Tg,[e.callMethod("ngDoCheck",[]).toStmt()]))}function Jr(t,e,n){var r=n.view,i=t.lifecycleHooks,o=r.afterContentLifecycleCallbacksMethod;o.resetDebugInfo(n.nodeIndex,n.sourceAst),-1!==i.indexOf(Ul.AfterContentInit)&&o.addStmt(new um(Ag,[e.callMethod("ngAfterContentInit",[]).toStmt()])),-1!==i.indexOf(Ul.AfterContentChecked)&&o.addStmt(e.callMethod("ngAfterContentChecked",[]).toStmt())}function Zr(t,e,n){var r=n.view,i=t.lifecycleHooks,o=r.afterViewLifecycleCallbacksMethod;o.resetDebugInfo(n.nodeIndex,n.sourceAst),-1!==i.indexOf(Ul.AfterViewInit)&&o.addStmt(new um(Ag,[e.callMethod("ngAfterViewInit",[]).toStmt()])),-1!==i.indexOf(Ul.AfterViewChecked)&&o.addStmt(e.callMethod("ngAfterViewChecked",[]).toStmt())}function Yr(t,e,n){var r=n.view.destroyMethod;r.resetDebugInfo(n.nodeIndex,n.sourceAst),-1!==t.lifecycleHooks.indexOf(Ul.OnDestroy)&&r.addStmt(e.callMethod("ngOnDestroy",[]).toStmt())}function $r(t,e,n){var r=n.destroyMethod;-1!==t.lifecycleHooks.indexOf(Ul.OnDestroy)&&r.addStmt(e.callMethod("ngOnDestroy",[]).toStmt())}function ti(t,e){var n=new Og(t);ye(n,e),t.pipes.forEach(function(t){$r(t.meta,t.instance,t.view)})}function ei(t){return t instanceof Es}function ni(t){return t instanceof Ps}function ri(t,e){if(!(e instanceof pl))return!1;var n=e.prototype;switch(t){case Ul.AfterContentInit:return!!n.ngAfterContentInit;case Ul.AfterContentChecked:return!!n.ngAfterContentChecked;case Ul.AfterViewInit:return!!n.ngAfterViewInit;case Ul.AfterViewChecked:return!!n.ngAfterViewChecked;case Ul.OnChanges:return!!n.ngOnChanges;case Ul.DoCheck:return!!n.ngDoCheck;case Ul.OnDestroy:return!!n.ngOnDestroy;case Ul.OnInit:return!!n.ngOnInit;default:return!1}}function ii(t,e){if(Yt()&&!te(e)){if(!se(e))throw new Ap("Expected '"+t+"' to be an array of strings.");for(var n=0;n<e.length;n+=1)if(!re(e[n]))throw new Ap("Expected '"+t+"' to be an array of strings.")}}function oi(t,e){var n=[];return $t(e)&&ai(e,n),$t(t.directives)&&ai(t.directives,n),n}function si(t,e){var n=[];return $t(e)&&ai(e,n),$t(t.pipes)&&ai(t.pipes,n),n}function ai(t,e){for(var n=0;n<t.length;n++){var r=x(t[n]);se(r)?ai(r,e):e.push(r)}}function ui(t){return ie(t)&&$t(t.name)&&$t(t.filePath)}function ci(t){return ui(t)||t instanceof pl}function li(t){return ui(t)?t.filePath:null}function pi(t,e,n){if(ui(e))return li(e);if($t(n.moduleId)){var r=n.moduleId,i=hn(r);return $t(i)&&i.length>0?r:"package:"+r+Ud}return t.importUri(e)}function hi(t){return ln(t,new Ug,null)}function fi(t,e){if(te(t))return null;var n=vl.replaceAllMapped(t,Bg,function(t){return"$"==t[0]?e?"\\$":"$":"\n"==t[0]?"\\n":"\r"==t[0]?"\\r":"\\"+t[0]});return"'"+n+"'"}function di(t){for(var e="",n=0;t>n;n++)e+="  ";return e}function vi(t,e,n){var r=new Qg,i=Wg.createRoot([n]);return r.visitAllStatements(e,i),de(t,n,i.toSource(),r.getArgs())}function yi(t){var e,n=new Jg(Xg),r=Wg.createRoot([]);return e=se(t)?t:[t],e.forEach(function(t){if(t instanceof Yy)t.visitStatement(n,r);else if(t instanceof ky)t.visitExpression(n,r);else{if(!(t instanceof vy))throw new Ap("Don't know how to print debug info for "+t);t.visitType(n,r)}}),r.toSource()}function mi(t){if(t instanceof em){var e=t.expr;if(e instanceof Ry){var n=e.fn;if(n instanceof Ty&&n.builtin===Py.Super)return e}}return null}function gi(t){return $t(t)&&t.hasModifier(ry.Const)}function _i(t){var e,n=new Yg(Zg),r=Wg.createRoot([]);return e=se(t)?t:[t],e.forEach(function(t){if(t instanceof Yy)t.visitStatement(n,r);else if(t instanceof ky)t.visitExpression(n,r);else{if(!(t instanceof vy))throw new Ap("Don't know how to print debug info for "+t);t.visitType(n,r)}}),r.toSource()}function wi(t,e,n){var r=t.concat([new nm(Fn(e))]),i=new t_(null,null,null,null,new Map,new Map,new Map,new Map,n),o=new r_,s=o.visitAllStatements(r,i);return $t(s)?s.value:null}function bi(t){return cl?t instanceof $g:$t(t)&&$t(t.props)&&$t(t.getters)&&$t(t.methods)}function xi(t,e,n,r,i){for(var o=r.createChildWihtLocalVars(),s=0;s<t.length;s++)o.vars.set(t[s],e[s]);var a=i.visitAllStatements(n,o);return $t(a)?a.value:null}function Ci(t,e,n,r){switch(t.length){case 0:return function(){return xi(t,[],e,n,r)};case 1:return function(i){return xi(t,[i],e,n,r)};case 2:return function(i,o){return xi(t,[i,o],e,n,r)};case 3:return function(i,o,s){return xi(t,[i,o,s],e,n,r)};case 4:return function(i,o,s,a){return xi(t,[i,o,s,a],e,n,r)};case 5:return function(i,o,s,a,u){return xi(t,[i,o,s,a,u],e,n,r)};case 6:return function(i,o,s,a,u,c){return xi(t,[i,o,s,a,u,c],e,n,r)};case 7:return function(i,o,s,a,u,c,l){return xi(t,[i,o,s,a,u,c,l],e,n,r)};case 8:return function(i,o,s,a,u,c,l,p){return xi(t,[i,o,s,a,u,c,l,p],e,n,r)};case 9:return function(i,o,s,a,u,c,l,p,h){return xi(t,[i,o,s,a,u,c,l,p,h],e,n,r)};case 10:return function(i,o,s,a,u,c,l,p,h,f){return xi(t,[i,o,s,a,u,c,l,p,h,f],e,n,r)};default:throw new Ap("Declaring functions with more than 10 arguments is not supported right now")}}function Ei(t){if(!t.isComponent)throw new Ap("Could not compile '"+t.type.name+"' because it is not a component.")}function Si(){return new hy(Yt(),!1,!0)}function Pi(t){return void 0!==t&&null!==t}function ki(t){return void 0===t||null===t}function Ai(t){return Array.isArray(t)}function Ti(t,e){if(Pi(t))for(var n=0;n<t.length;n++){var r=t[n];Ai(r)?Ti(r,e):e.push(r)}return e}function Oi(){return O_}function Ii(t){return void 0!==t&&null!==t}function Ni(t){return void 0===t||null===t}function Mi(t){return"string"==typeof t}function Vi(t){return"function"==typeof t}function Ri(t){return Array.isArray(t)}function Di(t){if("string"==typeof t)return t;if(void 0===t||null===t)return""+t;if(t.name)return t.name;if(t.overriddenName)return t.overriddenName;var e=t.toString(),n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ji(t,e,n){for(var r=e.split("."),i=t;r.length>1;){var o=r.shift();i=i.hasOwnProperty(o)&&Ii(i[o])?i[o]:i[o]={}}void 0!==i&&null!==i||(i={}),i[r.shift()]=n}function Li(t){return t.name?t.name:typeof t}function Fi(t){return void 0!==t&&null!==t}function Ui(t){return void 0===t||null===t}function Bi(t){return"number"==typeof t}function Hi(t){return"string"==typeof t}function qi(t){return"function"==typeof t}function zi(t){return"object"==typeof t&&null!==t}function Wi(t){return t instanceof H_.Promise}function Ki(t){return Array.isArray(t)}function Gi(t){return t instanceof q_&&!isNaN(t.valueOf())}function Qi(){}function Xi(t){if("string"==typeof t)return t;if(void 0===t||null===t)return""+t;if(t.name)return t.name;if(t.overriddenName)return t.overriddenName;var e=t.toString(),n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ji(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Zi(t){return Ui(t)?null:t}function Yi(t){return Ui(t)?!1:t}function $i(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function to(){if(Ui(J_))if(Fi(I_.Symbol)&&Fi(Symbol.iterator))J_=Symbol.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),e=0;e<t.length;++e){var n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(J_=n)}return J_}function eo(t){return!$i(t)}function no(t,e){return t.constructor===e}function ro(t,e){if(Fi(t))for(var n=0;n<t.length;n++){var r=t[n];Ki(r)?ro(r,e):e.push(r)}return e}function io(t){return $i(t)?Ki(t)||!(t instanceof ew)&&to()in t:!1}function oo(){throw new lw("unimplemented")}function so(t){return 2==t?"2-digit":"numeric"}function ao(t){return 4>t?"short":"long"}function uo(t){for(var e,n={},r=0;r<t.length;){for(e=r;e<t.length&&t[e]==t[r];)e++;var i=e-r;switch(t[r]){case"G":n.era=ao(i);break;case"y":n.year=so(i);break;case"M":i>=3?n.month=ao(i):n.month=so(i);break;case"d":n.day=so(i);break;case"E":n.weekday=ao(i);break;case"j":n.hour=so(i);break;case"h":n.hour=so(i),n.hour12=!0;break;case"H":n.hour=so(i),n.hour12=!1;break;case"m":n.minute=so(i);break;case"s":n.second=so(i);break;case"z":n.timeZoneName="long";break;case"Z":n.timeZoneName="short"}r=e}return n}function co(t,e){return Ui(e)?null:(e instanceof Array||(e=e.split("/")),e instanceof Array&&cw.isEmpty(e)?null:e.reduce(function(t,e){if(t instanceof sb)return Fi(t.controls[e])?t.controls[e]:null;if(t instanceof ab){var n=e;return Fi(t.at(n))?t.at(n):null}return null},t))}function lo(t){return Y_.isPromise(t)?$_.fromPromise(t):t}function po(t){return Y_.isPromise(t)?t:$_.toPromise(t)}function ho(t,e){return e.map(function(e){return e(t)})}function fo(t,e){return e.map(function(e){return e(t)})}function vo(t){var e=t.reduce(function(t,e){return Fi(e)?uw.merge(t,e):t},{});return uw.isEmpty(e)?null:e}function yo(t,e){return Ui(t)?""+e:(eo(e)||(e="Object"),z_.slice(t+": "+e,0,50))}function mo(t){return t.split(":")[0]}function go(t){return void 0!==t.validate?function(e){return t.validate(e)}:t}function _o(t){return void 0!==t.validate?function(e){return Promise.resolve(t.validate(e))}:t}function wo(t,e){var n=cw.clone(e.path);return n.push(t),n}function bo(t,e){Ui(t)&&Co(e,"Cannot find control"),Ui(e.valueAccessor)&&Co(e,"No value accessor for"),t.validator=db.compose([t.validator,e.validator]),t.asyncValidator=db.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),e.valueAccessor.registerOnChange(function(n){e.viewToModelUpdate(n),t.updateValue(n,{emitModelToViewChange:!1}),t.markAsDirty()}),t.registerOnChange(function(t){return e.valueAccessor.writeValue(t)}),e.valueAccessor.registerOnTouched(function(){return t.markAsTouched()})}function xo(t,e){Ui(t)&&Co(e,"Cannot find control"),t.validator=db.compose([t.validator,e.validator]),t.asyncValidator=db.composeAsync([t.asyncValidator,e.asyncValidator])}function Co(t,e){var n=t.path.join(" -> ");throw new lw(e+" '"+n+"'")}function Eo(t){return Fi(t)?db.compose(t.map(go)):null}function So(t){return Fi(t)?db.composeAsync(t.map(_o)):null}function Po(t,e){if(!uw.contains(t,"model"))return!1;var n=t.model;return n.isFirstChange()?!0:!Ji(e,n.currentValue)}function ko(t,e){if(Ui(e))return null;var n,r,i;return e.forEach(function(e){no(e,yb)?n=e:no(e,wb)||no(e,gb)||no(e,xb)||no(e,kb)?(Fi(r)&&Co(t,"More than one built-in value accessor matches"),r=e):(Fi(i)&&Co(t,"More than one custom value accessor matches"),i=e)}),Fi(i)?i:Fi(r)?r:Fi(n)?n:(Co(t,"No valid value accessor for"),null)}function Ao(t){return String(t).match(tx)?t:"unsafe:"+t}function To(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}function Oo(t){return String(t).match(ex)&&To(t)?t:"unsafe"}function Io(t,e){if(Ii(t))for(var n=0;n<t.length;n++){var r=t[n];Ri(r)?Io(r,e):e.push(r)}return e}function No(){return yx}function Mo(t){Ni(yx)&&(yx=t)}function Vo(){return Ni(Ex)&&(Ex=document.querySelector("base"),Ni(Ex))?null:Ex.getAttribute("href")}function Ro(t){return Ni(Sx)&&(Sx=document.createElement("a")),Sx.setAttribute("href",t),"/"===Sx.pathname.charAt(0)?Sx.pathname:"/"+Sx.pathname}function Do(t){return N_.replaceAllMapped(t,Rx,function(t){return"-"+t[1].toLowerCase()})}function jo(t,e){var n=No().parentElement(t);if(e.length>0&&Ii(n)){var r=No().nextSibling(t);if(Ii(r))for(var i=0;i<e.length;i++)No().insertBefore(r,e[i]);else for(var i=0;i<e.length;i++)No().appendChild(n,e[i])}}function Lo(t,e){for(var n=0;n<e.length;n++)No().appendChild(t,e[n])}function Fo(t){return function(e){var n=t(e);n===!1&&No().preventDefault(e)}}function Uo(t){return N_.replaceAll(Yx,Xx,t)}function Bo(t){return N_.replaceAll(Zx,Xx,t)}function Ho(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Ri(i)?Ho(t,i,n):(i=N_.replaceAll(i,Xx,t),n.push(i))}return n}function qo(t){if("@"!=t[0])return[null,t];var e=R_.firstMatch($x,t);return[e[1],e[2]]}function zo(t){return Kt(t)}function Wo(t){return Oi()?Ko(t):t}function Ko(t){return No().setGlobalVar(iC,zo),No().setGlobalVar(oC,rC),new F_(t)}function Go(){return new ua(No(),!k_)}function Qo(){return No().defaultDoc()}function Xo(){Cx.makeCurrent(),L_(),kx.init()}function Jo(){return Ni(Ht())&&Ut(Ha.resolveAndCreate(dC)),Bt(fC)}function Zo(t,e){ma.reflectionCapabilities=new mC;var n=Ha.resolveAndCreate([gC,Pi(e)?e:[]],Jo().injector);return qt(n,t)}var Yo;Yo="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var $o=Yo,ts=Function,es=$o.Math,ns=!0,rs=!1;$o.assert=function(t){};var is,os=function(){function t(){}return t.fromCharCode=function(t){return String.fromCharCode(t)},t.charCodeAt=function(t,e){return t.charCodeAt(e)},t.split=function(t,e){return t.split(e)},t.equals=function(t,e){return t===e},t.stripLeft=function(t,e){if(t&&t.length){for(var n=0,r=0;r<t.length&&t[r]==e;r++)n++;t=t.substring(n)}return t},t.stripRight=function(t,e){if(t&&t.length){for(var n=t.length,r=t.length-1;r>=0&&t[r]==e;r--)n--;t=t.substring(0,n)}return t},t.replace=function(t,e,n){return t.replace(e,n)},t.replaceAll=function(t,e,n){return t.replace(e,n)},t.slice=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=null),t.slice(e,null===n?void 0:n)},t.replaceAllMapped=function(t,e,n){return t.replace(e,function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.splice(-2,2),n(t)})},t.contains=function(t,e){return-1!=t.indexOf(e)},t.compare=function(t,e){return e>t?-1:t>e?1:0},t}(),ss=null,as=function(){function t(t){this.token=t}return t.prototype.toString=function(){return"@Inject("+h(this.token)+")"},t}(),us=function(){function t(){}return t.prototype.toString=function(){return"@Optional()"},t}(),cs=function(){function t(){}return Object.defineProperty(t.prototype,"token",{get:function(){return null},enumerable:!0,configurable:!0}),t}(),ls=function(){function t(){}return t}(),ps=function(){function t(){}return t.prototype.toString=function(){return"@Self()"},t}(),hs=function(){function t(){}return t.prototype.toString=function(){return"@SkipSelf()"},t}(),fs=function(){function t(){}return t.prototype.toString=function(){return"@Host()"},t}(),ds=function(t){function e(e){t.call(this),this.attributeName=e}return __extends(e,t),Object.defineProperty(e.prototype,"token",{get:function(){return this},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"@Attribute("+h(this.attributeName)+")"},e}(cs),vs=function(t){function e(e,n){var r=void 0===n?{}:n,i=r.descendants,o=void 0===i?!1:i,s=r.first,a=void 0===s?!1:s,u=r.read,c=void 0===u?null:u;t.call(this),this._selector=e,this.descendants=o,this.first=a,this.read=c}return __extends(e,t),Object.defineProperty(e.prototype,"isViewQuery",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selector",{get:function(){return x(this._selector)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVarBindingQuery",{get:function(){return s(this.selector)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"varBindings",{get:function(){return this.selector.split(",")},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"@Query("+h(this.selector)+")"},e}(cs),ys=function(t){function e(e,n){var r=void 0===n?{}:n,i=r.descendants,o=void 0===i?!1:i,s=r.read,a=void 0===s?null:s;t.call(this,e,{descendants:o,read:a})}return __extends(e,t),e}(vs),ms=function(t){function e(e,n){var r=(void 0===n?{}:n).read,i=void 0===r?null:r;t.call(this,e,{descendants:!0,first:!0,read:i})}return __extends(e,t),e}(vs),gs=function(t){function e(e,n){var r=void 0===n?{}:n,i=r.descendants,o=void 0===i?!1:i,s=r.first,a=void 0===s?!1:s,u=r.read,c=void 0===u?null:u;t.call(this,e,{descendants:o,first:a,read:c})}return __extends(e,t),Object.defineProperty(e.prototype,"isViewQuery",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"@ViewQuery("+h(this.selector)+")"},e}(vs),_s=function(t){function e(e,n){var r=(void 0===n?{}:n).read,i=void 0===r?null:r;t.call(this,e,{descendants:!0,read:i})}return __extends(e,t),e}(gs),ws=function(t){function e(e,n){var r=(void 0===n?{}:n).read,i=void 0===r?null:r;t.call(this,e,{descendants:!0,first:!0,read:i})}return __extends(e,t),e}(gs);!function(t){t[t.NeverChecked=0]="NeverChecked",t[t.CheckedBefore=1]="CheckedBefore",t[t.Errored=2]="Errored"}(is||(is={}));var bs;!function(t){t[t.CheckOnce=0]="CheckOnce",t[t.Checked=1]="Checked",t[t.CheckAlways=2]="CheckAlways",t[t.Detached=3]="Detached",t[t.OnPush=4]="OnPush",t[t.Default=5]="Default"}(bs||(bs={}));var xs,Cs=[bs.CheckOnce,bs.Checked,bs.CheckAlways,bs.Detached,bs.OnPush,bs.Default],Es=function(t){function e(e){var n=void 0===e?{}:e,r=n.selector,i=n.inputs,o=n.outputs,s=n.properties,a=n.events,u=n.host,c=n.bindings,l=n.providers,p=n.exportAs,h=n.queries;t.call(this),this.selector=r,this._inputs=i,this._properties=s,this._outputs=o,this._events=a,this.host=u,this.exportAs=p,this.queries=h,this._providers=l,this._bindings=c}return __extends(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){return i(this._properties)&&this._properties.length>0?this._properties:this._inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"properties",{get:function(){return this.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return i(this._events)&&this._events.length>0?this._events:this._outputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return this.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providers",{get:function(){return i(this._bindings)&&this._bindings.length>0?this._bindings:this._providers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bindings",{get:function(){return this.providers},enumerable:!0,configurable:!0}),e}(ls),Ss=function(t){function e(e){var n=void 0===e?{}:e,r=n.selector,i=n.inputs,o=n.outputs,s=n.properties,a=n.events,u=n.host,c=n.exportAs,l=n.moduleId,p=n.bindings,h=n.providers,f=n.viewBindings,d=n.viewProviders,v=n.changeDetection,y=void 0===v?bs.Default:v,m=n.queries,g=n.templateUrl,_=n.template,w=n.styleUrls,b=n.styles,x=n.directives,C=n.pipes,E=n.encapsulation;t.call(this,{selector:r,inputs:i,outputs:o,properties:s,events:a,host:u,exportAs:c,bindings:p,providers:h,queries:m}),this.changeDetection=y,this._viewProviders=d,this._viewBindings=f,this.templateUrl=g,this.template=_,this.styleUrls=w,this.styles=b,this.directives=x,this.pipes=C,this.encapsulation=E,this.moduleId=l}return __extends(e,t),Object.defineProperty(e.prototype,"viewProviders",{get:function(){return i(this._viewBindings)&&this._viewBindings.length>0?this._viewBindings:this._viewProviders},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewBindings",{get:function(){return this.viewProviders},enumerable:!0,configurable:!0}),e}(Es),Ps=function(t){function e(e){var n=e.name,r=e.pure;t.call(this),this.name=n,this._pure=r}return __extends(e,t),Object.defineProperty(e.prototype,"pure",{get:function(){return i(this._pure)?this._pure:!0},enumerable:!0,configurable:!0}),e}(ls),ks=function(){function t(t){this.bindingPropertyName=t}return t}(),As=function(){function t(t){this.bindingPropertyName=t}return t}(),Ts=function(){function t(t){this.hostPropertyName=t}return t}(),Os=function(){function t(t,e){this.eventName=t,this.args=e}return t}();!function(t){t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None"}(xs||(xs={}));var Is=[xs.Emulated,xs.Native,xs.None],Ns=function(){function t(t){var e=void 0===t?{}:t,n=e.templateUrl,r=e.template,i=e.directives,o=e.pipes,s=e.encapsulation,a=e.styles,u=e.styleUrls;this.templateUrl=n,this.template=r,this.styleUrls=u,this.styles=a,this.directives=i,this.pipes=o,this.encapsulation=s}return t}(),Ms=0,Vs=$o.Reflect,Rs=k(Ss,function(t){return t.View=js}),Ds=k(Es),js=k(Ns,function(t){return t.View=js}),Ls=A(ds),Fs=T(ys),Us=k(Ps),Bs=T(ks),Hs=T(As),qs=A(as),zs=A(us),Ws=k(ls),Ks=A(ps),Gs=A(fs),Qs=A(hs),Xs=function(t){function e(e){t.call(this,e)}return __extends(e,t),Object.defineProperty(e.prototype,"wrapperMessage",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrapperStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalException",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return""},enumerable:!0,configurable:!0}),e}(Error),Js=$o.Map,Zs=$o.Set,Ys=function(){try{if(1===new Js([[1,2]]).size)return function(t){return new Js(t)}}catch(t){}return function(t){for(var e=new Js,n=0;n<t.length;n++){var r=t[n];e.set(r[0],r[1])}return e}}(),$s=function(){try{if(new Js(new Js))return function(t){return new Js(t)}}catch(t){}return function(t){var e=new Js;return t.forEach(function(t,n){e.set(n,t)}),e}}(),ta=function(){return(new Js).keys().next?function(t){for(var e,n=t.keys();!(e=n.next()).done;)t.set(e.value,null)}:function(t){t.forEach(function(e,n){t.set(n,null)})}}(),ea=function(){try{if((new Js).values().next)return function(t,e){return e?Array.from(t.values()):Array.from(t.keys())}}catch(t){}return function(t,e){var n=ia.createFixedSize(t.size),r=0;return t.forEach(function(t,i){n[r]=e?t:i,r++}),n}}(),na=function(){function t(){}return t.clone=function(t){return $s(t)},t.createFromStringMap=function(t){var e=new Js;for(var n in t)e.set(n,t[n]);return e},t.toStringMap=function(t){var e={};return t.forEach(function(t,n){return e[n]=t}),e},t.createFromPairs=function(t){return Ys(t)},t.clearValues=function(t){ta(t)},t.iterable=function(t){return t},t.keys=function(t){return ea(t,!1)},t.values=function(t){return ea(t,!0)},t}(),ra=function(){function t(){}return t.create=function(){return{}},t.contains=function(t,e){return t.hasOwnProperty(e)},t.get=function(t,e){return t.hasOwnProperty(e)?t[e]:void 0},t.set=function(t,e,n){t[e]=n},t.keys=function(t){return Object.keys(t)},t.values=function(t){return Object.keys(t).reduce(function(e,n){return e.push(t[n]),e},[])},t.isEmpty=function(t){for(var e in t)return!1;return!0},t.delete=function(t,e){delete t[e]},t.forEach=function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},t.merge=function(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},t.equals=function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i,o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0},t}(),ia=function(){function t(){}return t.createFixedSize=function(t){return new Array(t)},t.createGrowableSize=function(t){return new Array(t)},t.clone=function(t){return t.slice(0)},t.forEachWithIndex=function(t,e){for(var n=0;n<t.length;n++)e(t[n],n)},t.first=function(t){return t?t[0]:null},t.last=function(t){return t&&0!=t.length?t[t.length-1]:null},t.indexOf=function(t,e,n){return void 0===n&&(n=0),t.indexOf(e,n)},t.contains=function(t,e){return-1!==t.indexOf(e)},t.reversed=function(e){var n=t.clone(e);return n.reverse()},t.concat=function(t,e){return t.concat(e)},t.insert=function(t,e,n){t.splice(e,0,n)},t.removeAt=function(t,e){var n=t[e];return t.splice(e,1),n},t.removeAll=function(t,e){for(var n=0;n<e.length;++n){var r=t.indexOf(e[n]);t.splice(r,1)}},t.remove=function(t,e){var n=t.indexOf(e);return n>-1?(t.splice(n,1),!0):!1},t.clear=function(t){t.length=0},t.isEmpty=function(t){return 0==t.length},t.fill=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=null),t.fill(e,n,null===r?t.length:r)},t.equals=function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},t.slice=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=null),t.slice(e,null===n?void 0:n)},t.splice=function(t,e,n){return t.splice(e,n)},t.sort=function(t,e){i(e)?t.sort(e):t.sort()},t.toString=function(t){return t.toString()},t.toJSON=function(t){return JSON.stringify(t)},t.maximum=function(t,e){if(0==t.length)return null;for(var n=null,r=-(1/0),i=0;i<t.length;i++){var s=t[i];if(!o(s)){var a=e(s);a>r&&(n=s,r=a)}}return n},t.flatten=function(t){var e=[];return O(t,e),e},t.addAll=function(t,e){for(var n=0;n<e.length;n++)t.push(e[n])},t}(),oa=function(){var t=new Zs([1,2,3]);return 3===t.size?function(t){return new Zs(t)}:function(t){var e=new Zs(t);if(e.size!==t.length)for(var n=0;n<t.length;n++)e.add(t[n]);return e}}(),sa=function(){function t(){}return t.createFromList=function(t){return oa(t)},t.has=function(t,e){return t.has(e)},t.delete=function(t,e){t.delete(e)},t}(),aa=function(){function t(){this.res=[]}return t.prototype.log=function(t){this.res.push(t)},t.prototype.logError=function(t){this.res.push(t)},t.prototype.logGroup=function(t){this.res.push(t)},t.prototype.logGroupEnd=function(){},t}(),ua=function(){function t(t,e){void 0===e&&(e=!0),this._logger=t,this._rethrowException=e}return t.exceptionToString=function(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var i=new aa,o=new t(i,!1);return o.call(e,n,r),i.res.join("\n")},t.prototype.call=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=this._findOriginalException(t),s=this._findOriginalStack(t),a=this._findContext(t);if(this._logger.logGroup("EXCEPTION: "+this._extractMessage(t)),i(e)&&o(s)&&(this._logger.logError("STACKTRACE:"),this._logger.logError(this._longStackTrace(e))),i(n)&&this._logger.logError("REASON: "+n),i(r)&&this._logger.logError("ORIGINAL EXCEPTION: "+this._extractMessage(r)),i(s)&&(this._logger.logError("ORIGINAL STACKTRACE:"),this._logger.logError(this._longStackTrace(s))),i(a)&&(this._logger.logError("ERROR CONTEXT:"),this._logger.logError(a)),this._logger.logGroupEnd(),this._rethrowException)throw t},t.prototype._extractMessage=function(t){return t instanceof Xs?t.wrapperMessage:t.toString()},t.prototype._longStackTrace=function(t){return I(t)?t.join("\n\n-----async gap-----\n"):t.toString()},t.prototype._findContext=function(t){try{return t instanceof Xs?i(t.context)?t.context:this._findContext(t.originalException):null}catch(t){return null}},t.prototype._findOriginalException=function(t){if(!(t instanceof Xs))return null;for(var e=t.originalException;e instanceof Xs&&i(e.originalException);)e=e.originalException;return e},t.prototype._findOriginalStack=function(t){if(!(t instanceof Xs))return null;for(var e=t,n=t.originalStack;e instanceof Xs&&i(e.originalException);)e=e.originalException,e instanceof Xs&&i(e.originalException)&&(n=e.originalStack);return n},t}(),ca=function(t){function e(e){void 0===e&&(e="--"),t.call(this,e),this.message=e,this.stack=new Error(e).stack}return __extends(e,t),e.prototype.toString=function(){return this.message},e}(Error),la=function(t){function e(e,n,r,i){
t.call(this,e),this._wrapperMessage=e,this._originalException=n,this._originalStack=r,this._context=i,this._wrapperStack=new Error(e).stack}return __extends(e,t),Object.defineProperty(e.prototype,"wrapperMessage",{get:function(){return this._wrapperMessage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrapperStack",{get:function(){return this._wrapperStack},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalException",{get:function(){return this._originalException},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalStack",{get:function(){return this._originalStack},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return ua.exceptionToString(this)},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.message},e}(Xs),pa=new Object,ha=pa,fa=function(){function t(){}return t.prototype.get=function(t,e){return V()},t}();fa.THROW_IF_NOT_FOUND=pa;var da=function(){function t(){}return t}(),va=function(t){function e(e){t.call(this),this._injectableInfo=new Js,this._getters=new Js,this._setters=new Js,this._methods=new Js,this._usedKeys=null,this.reflectionCapabilities=e}return __extends(e,t),e.prototype.isReflectionEnabled=function(){return this.reflectionCapabilities.isReflectionEnabled()},e.prototype.trackUsage=function(){this._usedKeys=new Zs},e.prototype.listUnusedKeys=function(){var t=this;if(null==this._usedKeys)throw new ca("Usage tracking is disabled");var e=na.keys(this._injectableInfo);return e.filter(function(e){return!sa.has(t._usedKeys,e)})},e.prototype.registerFunction=function(t,e){this._injectableInfo.set(t,e)},e.prototype.registerType=function(t,e){this._injectableInfo.set(t,e)},e.prototype.registerGetters=function(t){R(this._getters,t)},e.prototype.registerSetters=function(t){R(this._setters,t)},e.prototype.registerMethods=function(t){R(this._methods,t)},e.prototype.factory=function(t){if(this._containsReflectionInfo(t)){var e=this._getReflectionInfo(t).factory;return i(e)?e:null}return this.reflectionCapabilities.factory(t)},e.prototype.parameters=function(t){if(this._injectableInfo.has(t)){var e=this._getReflectionInfo(t).parameters;return i(e)?e:[]}return this.reflectionCapabilities.parameters(t)},e.prototype.annotations=function(t){if(this._injectableInfo.has(t)){var e=this._getReflectionInfo(t).annotations;return i(e)?e:[]}return this.reflectionCapabilities.annotations(t)},e.prototype.propMetadata=function(t){if(this._injectableInfo.has(t)){var e=this._getReflectionInfo(t).propMetadata;return i(e)?e:{}}return this.reflectionCapabilities.propMetadata(t)},e.prototype.interfaces=function(t){if(this._injectableInfo.has(t)){var e=this._getReflectionInfo(t).interfaces;return i(e)?e:[]}return this.reflectionCapabilities.interfaces(t)},e.prototype.getter=function(t){return this._getters.has(t)?this._getters.get(t):this.reflectionCapabilities.getter(t)},e.prototype.setter=function(t){return this._setters.has(t)?this._setters.get(t):this.reflectionCapabilities.setter(t)},e.prototype.method=function(t){return this._methods.has(t)?this._methods.get(t):this.reflectionCapabilities.method(t)},e.prototype._getReflectionInfo=function(t){return i(this._usedKeys)&&this._usedKeys.add(t),this._injectableInfo.get(t)},e.prototype._containsReflectionInfo=function(t){return this._injectableInfo.has(t)},e.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},e}(da),ya=function(){function t(t){this._reflect=i(t)?t:$o.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){switch(t.length){case 0:return function(){return new t};case 1:return function(e){return new t(e)};case 2:return function(e,n){return new t(e,n)};case 3:return function(e,n,r){return new t(e,n,r)};case 4:return function(e,n,r,i){return new t(e,n,r,i)};case 5:return function(e,n,r,i,o){return new t(e,n,r,i,o)};case 6:return function(e,n,r,i,o,s){return new t(e,n,r,i,o,s)};case 7:return function(e,n,r,i,o,s,a){return new t(e,n,r,i,o,s,a)};case 8:return function(e,n,r,i,o,s,a,u){return new t(e,n,r,i,o,s,a,u)};case 9:return function(e,n,r,i,o,s,a,u,c){return new t(e,n,r,i,o,s,a,u,c)};case 10:return function(e,n,r,i,o,s,a,u,c,l){return new t(e,n,r,i,o,s,a,u,c,l)};case 11:return function(e,n,r,i,o,s,a,u,c,l,p){return new t(e,n,r,i,o,s,a,u,c,l,p)};case 12:return function(e,n,r,i,o,s,a,u,c,l,p,h){return new t(e,n,r,i,o,s,a,u,c,l,p,h)};case 13:return function(e,n,r,i,o,s,a,u,c,l,p,h,f){return new t(e,n,r,i,o,s,a,u,c,l,p,h,f)};case 14:return function(e,n,r,i,o,s,a,u,c,l,p,h,f,d){return new t(e,n,r,i,o,s,a,u,c,l,p,h,f,d)};case 15:return function(e,n,r,i,o,s,a,u,c,l,p,h,f,d,v){return new t(e,n,r,i,o,s,a,u,c,l,p,h,f,d,v)};case 16:return function(e,n,r,i,o,s,a,u,c,l,p,h,f,d,v,y){return new t(e,n,r,i,o,s,a,u,c,l,p,h,f,d,v,y)};case 17:return function(e,n,r,i,o,s,a,u,c,l,p,h,f,d,v,y,m){return new t(e,n,r,i,o,s,a,u,c,l,p,h,f,d,v,y,m)};case 18:return function(e,n,r,i,o,s,a,u,c,l,p,h,f,d,v,y,m,g){return new t(e,n,r,i,o,s,a,u,c,l,p,h,f,d,v,y,m,g)};case 19:return function(e,n,r,i,o,s,a,u,c,l,p,h,f,d,v,y,m,g,_){return new t(e,n,r,i,o,s,a,u,c,l,p,h,f,d,v,y,m,g,_)};case 20:return function(e,n,r,i,o,s,a,u,c,l,p,h,f,d,v,y,m,g,_,w){return new t(e,n,r,i,o,s,a,u,c,l,p,h,f,d,v,y,m,g,_,w)}}throw new Error("Cannot create a factory for '"+h(t)+"' because its constructor has more than 20 arguments")},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n="undefined"==typeof t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)"undefined"==typeof t?n[r]=[]:t[r]!=Object?n[r]=[t[r]]:n[r]=[],i(e)&&i(e[r])&&(n[r]=n[r].concat(e[r]));return n},t.prototype.parameters=function(t){if(i(t.parameters))return t.parameters;if(i(t.ctorParameters)){var e=t.ctorParameters,n=e.map(function(t){return t&&t.type}),r=e.map(function(t){return t&&D(t.decorators)});return this._zipTypesAndAnnotations(n,r)}if(i(this._reflect)&&i(this._reflect.getMetadata)){var o=this._reflect.getMetadata("parameters",t),s=this._reflect.getMetadata("design:paramtypes",t);if(i(s)||i(o))return this._zipTypesAndAnnotations(s,o)}var a=new Array(t.length);return a.fill(void 0),a},t.prototype.annotations=function(t){if(i(t.annotations)){var e=t.annotations;return a(e)&&e.annotations&&(e=e.annotations),e}if(i(t.decorators))return D(t.decorators);if(i(this._reflect)&&i(this._reflect.getMetadata)){var e=this._reflect.getMetadata("annotations",t);if(i(e))return e}return[]},t.prototype.propMetadata=function(t){if(i(t.propMetadata)){var e=t.propMetadata;return a(e)&&e.propMetadata&&(e=e.propMetadata),e}if(i(t.propDecorators)){var n=t.propDecorators,r={};return Object.keys(n).forEach(function(t){r[t]=D(n[t])}),r}if(i(this._reflect)&&i(this._reflect.getMetadata)){var e=this._reflect.getMetadata("propMetadata",t);if(i(e))return e}return{}},t.prototype.interfaces=function(t){throw new ca("JavaScript does not support interfaces")},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){var e="if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);";return new Function("o","args",e)},t.prototype.importUri=function(t){return"./"+h(t)},t}(),ma=new va(new ya),ga=function(){function t(t,e){if(this.token=t,this.id=e,o(t))throw new ca("Token must be defined!")}return Object.defineProperty(t.prototype,"displayName",{get:function(){return h(this.token)},enumerable:!0,configurable:!0}),t.get=function(t){return wa.get(x(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return wa.numberOfKeys},enumerable:!0,configurable:!0}),t}(),_a=function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof ga)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new ga(t,ga.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}(),wa=new _a,ba=function(t){function e(e,n,r){t.call(this,"DI Exception"),this.keys=[n],this.injectors=[e],this.constructResolvingMessage=r,this.message=this.constructResolvingMessage(this.keys)}return __extends(e,t),e.prototype.addKey=function(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)},Object.defineProperty(e.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:!0,configurable:!0}),e}(ca),xa=function(t){function e(e,n){t.call(this,e,n,function(t){var e=h(ia.first(t).token);return"No provider for "+e+"!"+L(t)})}return __extends(e,t),e}(ba),Ca=function(t){function e(e,n){t.call(this,e,n,function(t){return"Cannot instantiate cyclic dependency!"+L(t)})}return __extends(e,t),e}(ba),Ea=function(t){function e(e,n,r,i){t.call(this,"DI Exception",n,r,null),this.keys=[i],this.injectors=[e]}return __extends(e,t),e.prototype.addKey=function(t,e){this.injectors.push(t),this.keys.push(e)},Object.defineProperty(e.prototype,"wrapperMessage",{get:function(){var t=h(ia.first(this.keys).token);return"Error during instantiation of "+t+"!"+L(this.keys)+"."},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"causeKey",{get:function(){return this.keys[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:!0,configurable:!0}),e}(la),Sa=function(t){function e(e){t.call(this,"Invalid provider - only instances of Provider and Type are allowed, got: "+e.toString())}return __extends(e,t),e}(ca),Pa=function(t){function e(n,r){t.call(this,e._genMessage(n,r))}return __extends(e,t),e._genMessage=function(t,e){for(var n=[],r=0,i=e.length;i>r;r++){var s=e[r];o(s)||0==s.length?n.push("?"):n.push(s.map(h).join(" "))}return"Cannot resolve all parameters for '"+h(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+h(t)+"' is decorated with Injectable."},e}(ca),ka=function(t){function e(e){t.call(this,"Index "+e+" is out-of-bounds.")}return __extends(e,t),e}(ca),Aa=function(t){function e(e,n){t.call(this,"Cannot mix multi providers and regular providers, got: "+e.toString()+" "+n.toString())}return __extends(e,t),e}(ca),Ta=function(){function t(t,e){var n=e.useClass,r=e.useValue,i=e.useExisting,o=e.useFactory,s=e.deps,a=e.multi;this.token=t,this.useClass=n,this.useValue=r,this.useExisting=i,this.useFactory=o,this.dependencies=s,this._multi=a}return Object.defineProperty(t.prototype,"multi",{get:function(){return v(this._multi)},enumerable:!0,configurable:!0}),t}(),Oa=function(){function t(t){this.token=t}return t.prototype.toClass=function(t){if(!u(t))throw new ca('Trying to create a class provider but "'+h(t)+'" is not a class!');return new Ta(this.token,{useClass:t})},t.prototype.toValue=function(t){return new Ta(this.token,{useValue:t})},t.prototype.toAlias=function(t){if(o(t))throw new ca("Can not alias "+h(this.token)+" to a blank value!");return new Ta(this.token,{useExisting:t})},t.prototype.toFactory=function(t,e){if(!a(t))throw new ca('Trying to create a factory provider but "'+h(t)+'" is not a function!');return new Ta(this.token,{useFactory:t,deps:e})},t}(),Ia=function(){function t(t,e,n,r,i){this.key=t,this.optional=e,this.lowerBoundVisibility=n,this.upperBoundVisibility=r,this.properties=i}return t.fromKey=function(e){return new t(e,!1,null,null,[])},t}(),Na=[],Ma=function(){function t(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n}return Object.defineProperty(t.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),t}(),Va=function(){function t(t,e){this.factory=t,this.dependencies=e}return t}(),Ra=10,Da=new Object,ja=function(){function t(t,e){this.provider0=null,this.provider1=null,this.provider2=null,this.provider3=null,this.provider4=null,this.provider5=null,this.provider6=null,this.provider7=null,this.provider8=null,this.provider9=null,this.keyId0=null,this.keyId1=null,this.keyId2=null,this.keyId3=null,this.keyId4=null,this.keyId5=null,this.keyId6=null,this.keyId7=null,this.keyId8=null,this.keyId9=null;var n=e.length;n>0&&(this.provider0=e[0],this.keyId0=e[0].key.id),n>1&&(this.provider1=e[1],this.keyId1=e[1].key.id),n>2&&(this.provider2=e[2],this.keyId2=e[2].key.id),n>3&&(this.provider3=e[3],this.keyId3=e[3].key.id),n>4&&(this.provider4=e[4],this.keyId4=e[4].key.id),n>5&&(this.provider5=e[5],this.keyId5=e[5].key.id),n>6&&(this.provider6=e[6],this.keyId6=e[6].key.id),n>7&&(this.provider7=e[7],this.keyId7=e[7].key.id),n>8&&(this.provider8=e[8],this.keyId8=e[8].key.id),n>9&&(this.provider9=e[9],this.keyId9=e[9].key.id)}return t.prototype.getProviderAtIndex=function(t){if(0==t)return this.provider0;if(1==t)return this.provider1;if(2==t)return this.provider2;if(3==t)return this.provider3;if(4==t)return this.provider4;if(5==t)return this.provider5;if(6==t)return this.provider6;if(7==t)return this.provider7;if(8==t)return this.provider8;if(9==t)return this.provider9;throw new ka(t)},t.prototype.createInjectorStrategy=function(t){return new Ua(t,this)},t}(),La=function(){function t(t,e){this.providers=e;var n=e.length;this.keyIds=ia.createFixedSize(n);for(var r=0;n>r;r++)this.keyIds[r]=e[r].key.id}return t.prototype.getProviderAtIndex=function(t){if(0>t||t>=this.providers.length)throw new ka(t);return this.providers[t]},t.prototype.createInjectorStrategy=function(t){return new Ba(this,t)},t}(),Fa=function(){function t(t){this.numberOfProviders=t.length,this._strategy=t.length>Ra?new La(this,t):new ja(this,t)}return t.fromResolvedProviders=function(e){return new t(e)},t.prototype.getProviderAtIndex=function(t){return this._strategy.getProviderAtIndex(t)},t}(),Ua=function(){function t(t,e){this.injector=t,this.protoStrategy=e,this.obj0=Da,this.obj1=Da,this.obj2=Da,this.obj3=Da,this.obj4=Da,this.obj5=Da,this.obj6=Da,this.obj7=Da,this.obj8=Da,this.obj9=Da}return t.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},t.prototype.instantiateProvider=function(t){return this.injector._new(t)},t.prototype.getObjByKeyId=function(t){var e=this.protoStrategy,n=this.injector;return e.keyId0===t?(this.obj0===Da&&(this.obj0=n._new(e.provider0)),this.obj0):e.keyId1===t?(this.obj1===Da&&(this.obj1=n._new(e.provider1)),this.obj1):e.keyId2===t?(this.obj2===Da&&(this.obj2=n._new(e.provider2)),this.obj2):e.keyId3===t?(this.obj3===Da&&(this.obj3=n._new(e.provider3)),this.obj3):e.keyId4===t?(this.obj4===Da&&(this.obj4=n._new(e.provider4)),this.obj4):e.keyId5===t?(this.obj5===Da&&(this.obj5=n._new(e.provider5)),this.obj5):e.keyId6===t?(this.obj6===Da&&(this.obj6=n._new(e.provider6)),this.obj6):e.keyId7===t?(this.obj7===Da&&(this.obj7=n._new(e.provider7)),this.obj7):e.keyId8===t?(this.obj8===Da&&(this.obj8=n._new(e.provider8)),this.obj8):e.keyId9===t?(this.obj9===Da&&(this.obj9=n._new(e.provider9)),this.obj9):Da},t.prototype.getObjAtIndex=function(t){if(0==t)return this.obj0;if(1==t)return this.obj1;if(2==t)return this.obj2;if(3==t)return this.obj3;if(4==t)return this.obj4;if(5==t)return this.obj5;if(6==t)return this.obj6;if(7==t)return this.obj7;if(8==t)return this.obj8;if(9==t)return this.obj9;throw new ka(t)},t.prototype.getMaxNumberOfObjects=function(){return Ra},t}(),Ba=function(){function t(t,e){this.protoStrategy=t,this.injector=e,this.objs=ia.createFixedSize(t.providers.length),ia.fill(this.objs,Da)}return t.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},t.prototype.instantiateProvider=function(t){return this.injector._new(t)},t.prototype.getObjByKeyId=function(t){for(var e=this.protoStrategy,n=0;n<e.keyIds.length;n++)if(e.keyIds[n]===t)return this.objs[n]===Da&&(this.objs[n]=this.injector._new(e.providers[n])),this.objs[n];return Da},t.prototype.getObjAtIndex=function(t){if(0>t||t>=this.objs.length)throw new ka(t);return this.objs[t]},t.prototype.getMaxNumberOfObjects=function(){return this.objs.length},t}(),Ha=function(){function t(){}return t.resolve=function(t){return z(t)},t.resolveAndCreate=function(e,n){void 0===n&&(n=null);var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return void 0===e&&(e=null),new qa(Fa.fromResolvedProviders(t),e)},t.fromResolvedBindings=function(e){return t.fromResolvedProviders(e)},Object.defineProperty(t.prototype,"parent",{get:function(){return V()},enumerable:!0,configurable:!0}),t.prototype.debugContext=function(){return null},t.prototype.resolveAndCreateChild=function(t){return V()},t.prototype.createChildFromResolved=function(t){return V()},t.prototype.resolveAndInstantiate=function(t){return V()},t.prototype.instantiateResolved=function(t){return V()},t}(),qa=function(){function t(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),this._debugContext=n,this._constructionCounter=0,this._proto=t,this._parent=e,this._strategy=t._strategy.createInjectorStrategy(this)}return t.prototype.debugContext=function(){return this._debugContext()},t.prototype.get=function(t,e){return void 0===e&&(e=ha),this._getByKey(ga.get(t),null,null,e)},t.prototype.getAt=function(t){return this._strategy.getObjAtIndex(t)},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"internalStrategy",{get:function(){return this._strategy},enumerable:!0,configurable:!0}),t.prototype.resolveAndCreateChild=function(t){var e=Ha.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new Fa(e),r=new t(n);return r._parent=this,r},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(Ha.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype._new=function(t){if(this._constructionCounter++>this._strategy.getMaxNumberOfObjects())throw new Ca(this,t.key);return this._instantiateProvider(t)},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=ia.createFixedSize(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,r,i,o,s,a,u,c,l,p,h,f,d,v,y,m,g,_,w,b,x=e.factory,C=e.dependencies,E=C.length;try{n=E>0?this._getByReflectiveDependency(t,C[0]):null,r=E>1?this._getByReflectiveDependency(t,C[1]):null,i=E>2?this._getByReflectiveDependency(t,C[2]):null,o=E>3?this._getByReflectiveDependency(t,C[3]):null,s=E>4?this._getByReflectiveDependency(t,C[4]):null,a=E>5?this._getByReflectiveDependency(t,C[5]):null,u=E>6?this._getByReflectiveDependency(t,C[6]):null,c=E>7?this._getByReflectiveDependency(t,C[7]):null,l=E>8?this._getByReflectiveDependency(t,C[8]):null,p=E>9?this._getByReflectiveDependency(t,C[9]):null,h=E>10?this._getByReflectiveDependency(t,C[10]):null,f=E>11?this._getByReflectiveDependency(t,C[11]):null,d=E>12?this._getByReflectiveDependency(t,C[12]):null,v=E>13?this._getByReflectiveDependency(t,C[13]):null,y=E>14?this._getByReflectiveDependency(t,C[14]):null,m=E>15?this._getByReflectiveDependency(t,C[15]):null,g=E>16?this._getByReflectiveDependency(t,C[16]):null,_=E>17?this._getByReflectiveDependency(t,C[17]):null,w=E>18?this._getByReflectiveDependency(t,C[18]):null,b=E>19?this._getByReflectiveDependency(t,C[19]):null}catch(e){throw(e instanceof ba||e instanceof Ea)&&e.addKey(this,t.key),e}var S;try{switch(E){case 0:S=x();break;case 1:S=x(n);break;case 2:S=x(n,r);break;case 3:S=x(n,r,i);break;case 4:S=x(n,r,i,o);break;case 5:S=x(n,r,i,o,s);break;case 6:S=x(n,r,i,o,s,a);break;case 7:S=x(n,r,i,o,s,a,u);break;case 8:S=x(n,r,i,o,s,a,u,c);break;case 9:S=x(n,r,i,o,s,a,u,c,l);break;case 10:S=x(n,r,i,o,s,a,u,c,l,p);break;case 11:S=x(n,r,i,o,s,a,u,c,l,p,h);break;case 12:S=x(n,r,i,o,s,a,u,c,l,p,h,f);break;case 13:S=x(n,r,i,o,s,a,u,c,l,p,h,f,d);break;case 14:S=x(n,r,i,o,s,a,u,c,l,p,h,f,d,v);break;case 15:S=x(n,r,i,o,s,a,u,c,l,p,h,f,d,v,y);break;case 16:S=x(n,r,i,o,s,a,u,c,l,p,h,f,d,v,y,m);break;case 17:S=x(n,r,i,o,s,a,u,c,l,p,h,f,d,v,y,m,g);break;case 18:S=x(n,r,i,o,s,a,u,c,l,p,h,f,d,v,y,m,g,_);break;case 19:S=x(n,r,i,o,s,a,u,c,l,p,h,f,d,v,y,m,g,_,w);break;case 20:S=x(n,r,i,o,s,a,u,c,l,p,h,f,d,v,y,m,g,_,w,b);break;default:throw new ca("Cannot instantiate '"+t.key.displayName+"' because it has more than 20 dependencies")}}catch(e){throw new Ea(this,e,e.stack,t.key)}return S},t.prototype._getByReflectiveDependency=function(t,e){return this._getByKey(e.key,e.lowerBoundVisibility,e.upperBoundVisibility,e.optional?null:ha)},t.prototype._getByKey=function(t,e,n,r){return t===za?this:n instanceof ps?this._getByKeySelf(t,r):this._getByKeyDefault(t,r,e)},t.prototype._throwOrNull=function(t,e){if(e!==ha)return e;throw new xa(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._strategy.getObjByKeyId(t.id);return n!==Da?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var i;for(i=r instanceof hs?this._parent:this;i instanceof t;){var o=i,s=o._strategy.getObjByKeyId(e.id);if(s!==Da)return s;i=o._parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+Z(this,function(t){return' "'+t.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t}(),za=ga.get(fa),Wa=function(){function t(t){this._desc=t}return t.prototype.toString=function(){return"Token "+this._desc},t}(),Ka=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t}(),Ga=function(){function t(){}return t.resolve=function(t){return Promise.resolve(t)},t.reject=function(t,e){return Promise.reject(t)},t.catchError=function(t,e){return t.catch(e)},t.all=function(t){return 0==t.length?Promise.resolve([]):Promise.all(t)},t.then=function(t,e,n){return t.then(e,n)},t.wrap=function(t){return new Promise(function(e,n){try{e(t())}catch(t){n(t)}})},t.scheduleMicrotask=function(e){t.then(t.resolve(null),e,function(t){})},t.isPromise=function(t){return t instanceof Promise},t.completer=function(){return new Ka},t}(),Qa={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},Xa=Qa[typeof self]&&self||Qa[typeof window]&&window,Ja=(Qa[typeof exports]&&exports&&!exports.nodeType&&exports,Qa[typeof module]&&module&&!module.nodeType&&module,Qa[typeof global]&&global);!Ja||Ja.global!==Ja&&Ja.window!==Ja||(Xa=Ja);var Za,Ya=0,$a=Y(Xa),tu=Array.isArray||function(t){return t&&"number"==typeof t.length},eu={e:{}},nu=function(){function t(t){this.isUnsubscribed=!1,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.isUnsubscribed){this.isUnsubscribed=!0;var n=this,r=n._unsubscribe,i=n._subscriptions;if(this._subscriptions=null,it(r)){var o=at(r).call(this);o===eu&&(e=!0,(t=t||[]).push(eu.e))}if(tu(i))for(var s=-1,a=i.length;++s<a;){var u=i[s];if(ot(u)){var o=at(u.unsubscribe).call(u);if(o===eu){e=!0,t=t||[];var c=eu.e;c instanceof ru?t=t.concat(c.errors):t.push(c)}}}if(e)throw new ru(t)}},t.prototype.add=function(e){if(e&&e!==this&&e!==t.EMPTY){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.isUnsubscribed||"function"!=typeof n.unsubscribe)break;this.isUnsubscribed?n.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(n);break;default:throw new Error("Unrecognized subscription "+e+" added to Subscription.")}}},t.prototype.remove=function(e){if(null!=e&&e!==this&&e!==t.EMPTY){var n=this._subscriptions;if(n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},t}();nu.EMPTY=function(t){return t.isUnsubscribed=!0,t}(new nu);var ru=function(t){function e(e){t.call(this,"unsubscriptoin error(s)"),this.errors=e,this.name="UnsubscriptionError"}return __extends(e,t),e}(Error),iu=$a.for("rxSubscriber"),ou={isUnsubscribed:!0,next:function(t){},error:function(t){throw t},complete:function(){}},su=function(t){function e(n,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ou;break;case 1:if(!n){this.destination=ou;break}if("object"==typeof n){n instanceof e?this.destination=n:(this.syncErrorThrowable=!0,this.destination=new au(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new au(this,n,r,i)}}return __extends(e,t),e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.isUnsubscribed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype[iu]=function(){return this},e}(nu),au=function(t){function e(e,n,r,i){t.call(this),this._parent=e;var o,s=this;it(n)?o=n:n&&(s=n,o=n.next,r=n.error,i=n.complete),this._context=s,this._next=o,this._error=r,this._complete=i}return __extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parent;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parent;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){if(!this.isStopped){var t=this._parent;this._complete?t.syncErrorThrowable?(this.__tryOrSetError(t,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parent;this._context=null,this._parent=null,t.unsubscribe()},e}(su),uu=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=ut(t,e,n);if(r?i.add(this._subscribe(r.call(i))):i.add(this._subscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype.forEach=function(t,e,n){if(n||(Xa.Rx&&Xa.Rx.config&&Xa.Rx.config.Promise?n=Xa.Rx.config.Promise:Xa.Promise&&(n=Xa.Promise)),!n)throw new Error("no Promise impl found");var r=this;return new n(function(n,i){r.subscribe(function(n){var r=at(t).call(e,n);r===eu&&i(eu.e)},i,n)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[$a.observable]=function(){return this},t}();uu.create=function(t){return new uu(t)};var cu=function(t){function e(e,n){t.call(this),this.subject=e,this.observer=n,this.isUnsubscribed=!1}return __extends(e,t),e.prototype.unsubscribe=function(){if(!this.isUnsubscribed){this.isUnsubscribed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isUnsubscribed){var n=e.indexOf(this.observer);-1!==n&&e.splice(n,1)}}},e}(nu),lu=function(t){function e(){t.call(this,"object unsubscribed"),this.name="ObjectUnsubscribedError"}return __extends(e,t),e}(Error),pu=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n,this.observers=[],this.isUnsubscribed=!1,this.isStopped=!1,this.hasErrored=!1,this.dispatching=!1,this.hasCompleted=!1}return __extends(e,t),e.prototype.lift=function(t){var n=new e(this.destination||this,this);return n.operator=t,n},e.prototype.add=function(t){nu.prototype.add.call(this,t)},e.prototype.remove=function(t){nu.prototype.remove.call(this,t)},e.prototype.unsubscribe=function(){nu.prototype.unsubscribe.call(this)},e.prototype._subscribe=function(t){if(this.source)return this.source.subscribe(t);if(!t.isUnsubscribed){if(this.hasErrored)return t.error(this.errorValue);if(this.hasCompleted)return t.complete();this.throwIfUnsubscribed();var e=new cu(this,t);return this.observers.push(t),e}},e.prototype._unsubscribe=function(){this.source=null,this.isStopped=!0,this.observers=null,this.destination=null},e.prototype.next=function(t){this.throwIfUnsubscribed(),this.isStopped||(this.dispatching=!0,this._next(t),this.dispatching=!1,this.hasErrored?this._error(this.errorValue):this.hasCompleted&&this._complete())},e.prototype.error=function(t){this.throwIfUnsubscribed(),this.isStopped||(this.isStopped=!0,this.hasErrored=!0,this.errorValue=t,this.dispatching||this._error(t))},e.prototype.complete=function(){this.throwIfUnsubscribed(),this.isStopped||(this.isStopped=!0,this.hasCompleted=!0,this.dispatching||this._complete())},e.prototype.asObservable=function(){var t=new hu(this);return t},e.prototype._next=function(t){this.destination?this.destination.next(t):this._finalNext(t)},e.prototype._finalNext=function(t){for(var e=-1,n=this.observers.slice(0),r=n.length;++e<r;)n[e].next(t)},e.prototype._error=function(t){this.destination?this.destination.error(t):this._finalError(t)},e.prototype._finalError=function(t){var e=-1,n=this.observers;if(this.observers=null,this.isUnsubscribed=!0,n)for(var r=n.length;++e<r;)n[e].error(t);this.isUnsubscribed=!1,this.unsubscribe()},e.prototype._complete=function(){this.destination?this.destination.complete():this._finalComplete()},e.prototype._finalComplete=function(){var t=-1,e=this.observers;if(this.observers=null,this.isUnsubscribed=!0,e)for(var n=e.length;++t<n;)e[t].complete();this.isUnsubscribed=!1,this.unsubscribe()},e.prototype.throwIfUnsubscribed=function(){this.isUnsubscribed&&ct(new lu)},e.prototype[iu]=function(){return new su(this)},e}(uu);pu.create=function(t,e){return new pu(t,e)};var hu=function(t){function e(e){t.call(this),this.source=e}return __extends(e,t),e}(uu),fu=function(t){function e(e,n){void 0===n&&(n=null),t.call(this),this.promise=e,this.scheduler=n}return __extends(e,t),e.create=function(t,n){return void 0===n&&(n=null),new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,r=this.scheduler;if(null==r)this._isScalar?t.isUnsubscribed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.isUnsubscribed||(t.next(n),t.complete())},function(e){t.isUnsubscribed||t.error(e)}).then(null,function(t){Xa.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.isUnsubscribed)return r.schedule(lt,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.isUnsubscribed||t.add(r.schedule(lt,0,{value:n,subscriber:t}))},function(e){t.isUnsubscribed||t.add(r.schedule(pt,0,{err:e,subscriber:t}))}).then(null,function(t){Xa.setTimeout(function(){throw t})})},e}(uu),du=function(){function t(){}return t.subscribe=function(t,e,n,r){return void 0===r&&(r=function(){}),n="function"==typeof n&&n||p,r="function"==typeof r&&r||p,t.subscribe({next:e,error:n,complete:r})},t.isObservable=function(t){return!!t.subscribe},t.hasSubscribers=function(t){return t.observers.length>0},t.dispose=function(t){t.unsubscribe()},t.callNext=function(t,e){t.next(e)},t.callEmit=function(t,e){t.emit(e)},t.callError=function(t,e){t.error(e)},t.callComplete=function(t){t.complete();
},t.fromPromise=function(t){return fu.create(t)},t.toPromise=function(t){return ht.call(t)},t}(),vu=function(t){function e(e){void 0===e&&(e=!0),t.call(this),this._isAsync=e}return __extends(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.next=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},s=function(){return null};return e&&"object"==typeof e?(i=this._isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this._isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this._isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this._isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this._isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this._isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),t.prototype.subscribe.call(this,i,o,s)},e}(pu),yu=function(){function t(t,e){this.error=t,this.stackTrace=e}return t}(),mu=function(){function t(t){var e=this,n=t.trace,r=t.onEnter,i=t.onLeave,o=t.setMicrotask,s=t.setMacrotask,a=t.onError;if(this.onEnter=r,this.onLeave=i,this.setMicrotask=o,this.setMacrotask=s,this.onError=a,!Zone)throw new Error("Angular requires Zone.js polyfill.");this.outer=this.inner=Zone.current,Zone.wtfZoneSpec&&(this.inner=this.inner.fork(Zone.wtfZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this.inner=this.inner.fork(Zone.longStackTraceZoneSpec)),this.inner=this.inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,s){try{return e.onEnter(),t.invokeTask(r,i,o,s)}finally{e.onLeave()}},onInvoke:function(t,n,r,i,o,s,a){try{return e.onEnter(),t.invoke(r,i,o,s,a)}finally{e.onLeave()}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n==r&&("microTask"==i.change?e.setMicrotask(i.microTask):"macroTask"==i.change&&e.setMacrotask(i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.onError(new yu(i,i.stack)),!1}})}return t.isInAngularZone=function(){return Zone.current.get("isAngularZone")===!0},t.prototype.runInner=function(t){return this.inner.run(t)},t.prototype.runInnerGuarded=function(t){return this.inner.runGuarded(t)},t.prototype.runOuter=function(t){return this.outer.run(t)},t}(),gu=function(){function t(t){var e=this,n=t.enableLongStackTrace,r=void 0===n?!1:n;this._hasPendingMicrotasks=!1,this._hasPendingMacrotasks=!1,this._isStable=!0,this._nesting=0,this._onUnstable=new vu(!1),this._onMicrotaskEmpty=new vu(!1),this._onStable=new vu(!1),this._onErrorEvents=new vu(!1),this._zoneImpl=new mu({trace:r,onEnter:function(){e._nesting++,e._isStable&&(e._isStable=!1,e._onUnstable.emit(null))},onLeave:function(){e._nesting--,e._checkStable()},setMicrotask:function(t){e._hasPendingMicrotasks=t,e._checkStable()},setMacrotask:function(t){e._hasPendingMacrotasks=t},onError:function(t){return e._onErrorEvents.emit(t)}})}return t.isInAngularZone=function(){return mu.isInAngularZone()},t.assertInAngularZone=function(){if(!mu.isInAngularZone())throw new ca("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(mu.isInAngularZone())throw new ca("Expected to not be in Angular Zone, but it is!")},t.prototype._checkStable=function(){var t=this;if(0==this._nesting&&!this._hasPendingMicrotasks&&!this._isStable)try{this._nesting++,this._onMicrotaskEmpty.emit(null)}finally{if(this._nesting--,!this._hasPendingMicrotasks)try{this.runOutsideAngular(function(){return t._onStable.emit(null)})}finally{this._isStable=!0}}},Object.defineProperty(t.prototype,"onUnstable",{get:function(){return this._onUnstable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onMicrotaskEmpty",{get:function(){return this._onMicrotaskEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onStable",{get:function(){return this._onStable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onError",{get:function(){return this._onErrorEvents},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingMicrotasks",{get:function(){return this._hasPendingMicrotasks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingMacrotasks",{get:function(){return this._hasPendingMacrotasks},enumerable:!0,configurable:!0}),t.prototype.run=function(t){return this._zoneImpl.runInner(t)},t.prototype.runGuarded=function(t){return this._zoneImpl.runInnerGuarded(t)},t.prototype.runOutsideAngular=function(t){return this._zoneImpl.runOuter(t)},t}(),_u=new Wa("AppId"),wu={provide:_u,useFactory:ft,deps:[]},bu=new Wa("Platform Initializer"),xu=new Wa("Application Initializer"),Cu=new Wa("Application Packages Root URL"),Eu=function(){function e(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return e.prototype._watchAngularEvents=function(){var e=this;du.subscribe(this._ngZone.onUnstable,function(t){e._didWork=!0,e._isZoneStable=!1}),this._ngZone.runOutsideAngular(function(){du.subscribe(e._ngZone.onStable,function(n){gu.assertNotInAngularZone(),t(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})})})},e.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},e.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new ca("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},e.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},e.prototype._runCallbacksIfReady=function(){var e=this;this.isStable()?t(function(){for(;0!==e._callbacks.length;)e._callbacks.pop()(e._didWork);e._didWork=!1}):this._didWork=!0},e.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},e.prototype.getPendingRequestCount=function(){return this._pendingCount},e.prototype.findBindings=function(t,e,n){return[]},e.prototype.findProviders=function(t,e,n){return[]},e}();Eu.decorators=[{type:Ws}],Eu.ctorParameters=[{type:gu}];var Su=function(){function t(){this._applications=new Js,Au.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.getTestability=function(t){return this._applications.get(t)},t.prototype.getAllTestabilities=function(){return na.values(this._applications)},t.prototype.getAllRootElements=function(){return na.keys(this._applications)},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Au.findTestabilityInTree(this,t,e)},t}();Su.decorators=[{type:Ws}],Su.ctorParameters=[];var Pu,ku=function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}(),Au=new ku;!function(t){t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL"}(Pu||(Pu={}));var Tu,Ou=function(){function t(){}return t}();!function(t){t[t.HOST=0]="HOST",t[t.COMPONENT=1]="COMPONENT",t[t.EMBEDDED=2]="EMBEDDED"}(Tu||(Tu={}));var Iu,Nu,Mu=function(){function t(t){this.nativeElement=t}return t}(),Vu=yt(),Ru=Vu?mt:function(t,e){return _t},Du=Vu?gt:function(t,e){return e},ju=function(){function t(){}return Object.defineProperty(t.prototype,"element",{get:function(){return V()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return V()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){return V()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return V()},enumerable:!0,configurable:!0}),t}(),Lu=function(){function t(t){this._element=t,this._createComponentInContainerScope=Ru("ViewContainerRef#createComponent()"),this._insertScope=Ru("ViewContainerRef#insert()"),this._removeScope=Ru("ViewContainerRef#remove()"),this._detachScope=Ru("ViewContainerRef#detach()")}return t.prototype.get=function(t){return this._element.nestedViews[t].ref},Object.defineProperty(t.prototype,"length",{get:function(){var t=this._element.nestedViews;return i(t)?t.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element.elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this._element.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){return this._element.parentInjector},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=-1);var r=t.createEmbeddedView(e);return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r){void 0===e&&(e=-1),void 0===n&&(n=null),void 0===r&&(r=null);var o=this._createComponentInContainerScope(),s=i(n)?n:this._element.parentInjector,a=t.create(s,r);return this.insert(a.hostView,e),Du(o,a)},t.prototype.insert=function(t,e){void 0===e&&(e=-1);var n=this._insertScope();-1==e&&(e=this.length);var r=t;return this._element.attachView(r.internalView,e),Du(n,r)},t.prototype.indexOf=function(t){return ia.indexOf(this._element.nestedViews,t.internalView)},t.prototype.remove=function(t){void 0===t&&(t=-1);var e=this._removeScope();-1==t&&(t=this.length-1);var n=this._element.detachView(t);n.destroy(),Du(e)},t.prototype.detach=function(t){void 0===t&&(t=-1);var e=this._detachScope();-1==t&&(t=this.length-1);var n=this._element.detachView(t);return Du(e,n.ref)},t.prototype.clear=function(){for(var t=this.length-1;t>=0;t--)this.remove(t)},t}(),Fu=function(){function t(t,e,n,r){this.index=t,this.parentIndex=e,this.parentView=n,this.nativeElement=r,this.nestedViews=null,this.componentView=null}return Object.defineProperty(t.prototype,"elementRef",{get:function(){return new Mu(this.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vcRef",{get:function(){return new Lu(this)},enumerable:!0,configurable:!0}),t.prototype.initComponent=function(t,e,n){this.component=t,this.componentConstructorViewQueries=e,this.componentView=n},Object.defineProperty(t.prototype,"parentInjector",{get:function(){return this.parentView.injector(this.parentIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this.parentView.injector(this.index)},enumerable:!0,configurable:!0}),t.prototype.mapNestedViews=function(t,e){var n=[];return i(this.nestedViews)&&this.nestedViews.forEach(function(r){r.clazz===t&&n.push(e(r))}),n},t.prototype.attachView=function(t,e){if(t.type===Tu.COMPONENT)throw new ca("Component views can't be moved!");var n=this.nestedViews;null==n&&(n=[],this.nestedViews=n),ia.insert(n,e,t);var r;if(e>0){var o=n[e-1];r=o.lastRootNode}else r=this.nativeElement;i(r)&&t.renderer.attachViewAfter(r,t.flatRootNodes),t.addToContentChildren(this)},t.prototype.detachView=function(t){var e=ia.removeAt(this.nestedViews,t);if(e.type===Tu.COMPONENT)throw new ca("Component views can't be moved!");return e.renderer.detachView(e.flatRootNodes),e.removeFromContentChildren(this),e},t}(),Uu=function(t){function e(e,n,r){t.call(this,"Expression has changed after it was checked. "+("Previous value: '"+e+"'. Current value: '"+n+"'"))}return __extends(e,t),e}(ca),Bu=function(t){function e(e,n,r){t.call(this,"Error in "+r.source,e,n,r)}return __extends(e,t),e}(la),Hu=function(t){function e(e){t.call(this,"Attempt to use a destroyed view: "+e)}return __extends(e,t),e}(ca),qu=function(){function t(t){this.factories=t}return t.create=function(e,n){if(i(n)){var r=ia.clone(n.factories);return e=e.concat(r),new t(e)}return new t(e)},t.extend=function(e){return new Ta(t,{useFactory:function(n){if(o(n))throw new ca("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new hs,new us]]})},t.prototype.find=function(t){var n=this.factories.find(function(e){return e.supports(t)});if(i(n))return n;throw new ca("Cannot find a differ supporting object '"+t+"' of type '"+e(t)+"'")},t}(),zu=function(){function t(){}return t.prototype.supports=function(t){return I(t)},t.prototype.create=function(t,e){return new Ku(e)},t}(),Wu=function(t,e){return e},Ku=function(){function t(t){this._trackByFn=t,this._length=null,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i(this._trackByFn)?this._trackByFn:Wu}return Object.defineProperty(t.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(o(t)&&(t=[]),!I(t))throw new ca("Error trying to diff '"+t+"'");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(l(t)){var a=t;for(this._length=t.length,n=0;n<this._length;n++)r=a[n],i=this._trackByFn(n,r),null!==o&&f(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,n)),f(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,n),s=!0),o=o._next}else n=0,M(t,function(t){i=e._trackByFn(n,t),null!==o&&f(o.trackById,i)?(s&&(o=e._verifyReinsertion(o,t,i,n)),f(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),s=!0),o=o._next,n++}),this._length=n;return this._truncate(o),this._collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),t=null===this._linkedRecords?null:this._linkedRecords.get(n,r),null!==t?(f(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n),null!==t?(f(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Gu(e,n),i,r)),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),null===this._additionsTail?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Xu),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(null===this._movesTail?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t},t.prototype.toString=function(){var t=[];this.forEachItem(function(e){return t.push(e)});var e=[];this.forEachPreviousItem(function(t){return e.push(t)});var n=[];this.forEachAddedItem(function(t){return n.push(t)});var r=[];this.forEachMovedItem(function(t){return r.push(t)});var i=[];this.forEachRemovedItem(function(t){return i.push(t)});var o=[];return this.forEachIdentityChange(function(t){return o.push(t)}),"collection: "+t.join(", ")+"\nprevious: "+e.join(", ")+"\nadditions: "+n.join(", ")+"\nmoves: "+r.join(", ")+"\nremovals: "+i.join(", ")+"\nidentityChanges: "+o.join(", ")+"\n"},t}(),Gu=function(){function t(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return t.prototype.toString=function(){return this.previousIndex===this.currentIndex?h(this.item):h(this.item)+"["+h(this.previousIndex)+"->"+h(this.currentIndex)+"]"},t}(),Qu=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<n.currentIndex)&&f(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Xu=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=d(t.trackById),n=this.map.get(e);i(n)||(n=new Qu,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){void 0===e&&(e=null);var n=d(t),r=this.map.get(n);return o(r)?null:r.get(t,e)},t.prototype.remove=function(t){var e=d(t.trackById),n=this.map.get(e);return n.remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t.prototype.toString=function(){return"_DuplicateMap("+h(this.map)+")"},t}(),Ju=function(){function t(t){this.factories=t}return t.create=function(e,n){if(i(n)){var r=ia.clone(n.factories);return e=e.concat(r),new t(e)}return new t(e)},t.extend=function(e){return new Ta(t,{useFactory:function(n){if(o(n))throw new ca("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new hs,new us]]})},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(i(e))return e;throw new ca("Cannot find a differ supporting object '"+t+"'")},t}(),Zu=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||y(t)},t.prototype.create=function(t){return new Yu},t}(),Yu=function(){function t(){this._records=new Map,this._mapHead=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(o(t)&&(t=na.createFromPairs([])),!(t instanceof Map||y(t)))throw new ca("Error trying to diff '"+t+"'");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._records,r=this._mapHead,i=null,o=null,s=!1;return this._forEach(t,function(t,a){var u;null!==r&&a===r.key?(u=r,f(t,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=t,e._addToChanges(r))):(s=!0,null!==r&&(r._next=null,e._removeFromSeq(i,r),e._addToRemovals(r)),n.has(a)?u=n.get(a):(u=new $u(a),n.set(a,u),u.currentValue=t,e._addToAdditions(u))),s&&(e._isInRemovals(u)&&e._removeFromRemovals(u),null==o?e._mapHead=u:o._next=u),i=r,o=u,r=null===r?null:r._next}),this._truncate(i,r),this.isDirty},t.prototype._reset=function(){if(this.isDirty){var t;for(t=this._previousMapHead=this._mapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=this._removalsTail=null}},t.prototype._truncate=function(t,e){for(;null!==e;){null===t?this._mapHead=null:t._next=null;var n=e._next;this._addToRemovals(e),t=e,e=n}for(var r=this._removalsHead;null!==r;r=r._nextRemoved)r.previousValue=r.currentValue,r.currentValue=null,this._records.delete(r.key)},t.prototype._isInRemovals=function(t){return t===this._removalsHead||null!==t._nextRemoved||null!==t._prevRemoved},t.prototype._addToRemovals=function(t){null===this._removalsHead?this._removalsHead=this._removalsTail=t:(this._removalsTail._nextRemoved=t,t._prevRemoved=this._removalsTail,this._removalsTail=t)},t.prototype._removeFromSeq=function(t,e){var n=e._next;null===t?this._mapHead=n:t._next=n},t.prototype._removeFromRemovals=function(t){var e=t._prevRemoved,n=t._nextRemoved;null===e?this._removalsHead=n:e._nextRemoved=n,null===n?this._removalsTail=e:n._prevRemoved=e,t._prevRemoved=t._nextRemoved=null},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype.toString=function(){var t,e=[],n=[],r=[],i=[],o=[];for(t=this._mapHead;null!==t;t=t._next)e.push(h(t));for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n.push(h(t));for(t=this._changesHead;null!==t;t=t._nextChanged)r.push(h(t));for(t=this._additionsHead;null!==t;t=t._nextAdded)i.push(h(t));for(t=this._removalsHead;null!==t;t=t._nextRemoved)o.push(h(t));return"map: "+e.join(", ")+"\nprevious: "+n.join(", ")+"\nadditions: "+i.join(", ")+"\nchanges: "+r.join(", ")+"\nremovals: "+o.join(", ")+"\n"},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):ra.forEach(t,e)},t}(),$u=function(){function t(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._nextAdded=null,this._nextRemoved=null,this._prevRemoved=null,this._nextChanged=null}return t.prototype.toString=function(){return f(this.previousValue,this.currentValue)?h(this.key):h(this.key)+"["+h(this.previousValue)+"->"+h(this.currentValue)+"]"},t}(),tc=function(){function t(){}return t}(),ec=new Object,nc=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t}(),rc=function(){function t(){this.hasWrappedValue=!1}return t.prototype.unwrap=function(t){return t instanceof nc?(this.hasWrappedValue=!0,t.wrapped):t},t.prototype.reset=function(){this.hasWrappedValue=!1},t}(),ic=function(){function t(t,e){this.previousValue=t,this.currentValue=e}return t.prototype.isFirstChange=function(){return this.previousValue===ec},t}(),oc=[new Zu],sc=[new zu],ac=new qu(sc),uc=new Ju(oc),cc=function(){function t(t,e,n,r,i){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=i}return t}(),lc=function(){function t(){}return Object.defineProperty(t.prototype,"injector",{get:function(){return V()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return V()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return V()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return V()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return V()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return V()},enumerable:!0,configurable:!0}),t}(),pc=function(){function t(){}return t}(),hc=function(){function t(){}return t}(),fc=function(){function t(t,e,n){this._renderer=t,this._appId=e,this._nextCompTypeId=0,this.sanitizer=n}return t.prototype.createRenderComponentType=function(t,e,n,r){return new cc(this._appId+"-"+this._nextCompTypeId++,t,e,n,r)},t.prototype.renderComponent=function(t){return this._renderer.renderComponent(t)},t}();fc.decorators=[{type:Ws}],fc.ctorParameters=[{type:hc},{type:void 0,decorators:[{type:qs,args:[_u]}]},{type:Ou}];var dc=[],vc=9,yc=[],mc={},gc=function(){function t(){}return Object.defineProperty(t.prototype,"location",{get:function(){return V()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return V()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"instance",{get:function(){return V()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostView",{get:function(){return V()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changeDetectorRef",{get:function(){return V()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentType",{get:function(){return V()},enumerable:!0,configurable:!0}),t}(),_c=function(t){function e(e,n){t.call(this),this._hostElement=e,this._componentType=n}return __extends(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this._hostElement.elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return this._hostElement.injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instance",{get:function(){return this._hostElement.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostView",{get:function(){return this._hostElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeDetectorRef",{get:function(){return this._hostElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._componentType},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._hostElement.parentView.destroy()},e.prototype.onDestroy=function(t){this.hostView.onDestroy(t)},e}(gc),wc=new Object,bc=function(){function t(t,e,n){this.selector=t,this._viewFactory=e,this._componentType=n}return Object.defineProperty(t.prototype,"componentType",{get:function(){return this._componentType},enumerable:!0,configurable:!0}),t.prototype.create=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=t.get(fc);o(e)&&(e=[]);var i=this._viewFactory(r,t,null),s=i.create(wc,e,n);return new _c(s,this._componentType)},t}(),xc=function(){function t(){}return t}(),Cc=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.resolveComponent=function(t){var e=ma.annotations(t),n=e.find(Lt);if(o(n))throw new ca("No precompiled component "+h(t)+" found");return Ga.resolve(n)},e.prototype.clearCache=function(){},e}(xc);Cc.decorators=[{type:Ws}];var Ec=g,Sc=function(){function t(){}return t.prototype.log=function(t){m(t)},t.prototype.warn=function(t){Ec(t)},t}();Sc.decorators=[{type:Ws}];var Pc,kc=!1,Ac=function(){function t(){}return Object.defineProperty(t.prototype,"injector",{get:function(){throw V()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disposed",{get:function(){throw V()},enumerable:!0,configurable:!0}),t}(),Tc=function(t){function e(e){if(t.call(this),this._injector=e,this._applications=[],this._disposeListeners=[],this._disposed=!1,!kc)throw new ca("Platforms have to be created via `createPlatform`!");var n=e.get(bu,null);i(n)&&n.forEach(function(t){return t()})}return __extends(e,t),e.prototype.registerDisposeListener=function(t){this._disposeListeners.push(t)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.addApplication=function(t){this._applications.push(t)},e.prototype.dispose=function(){ia.clone(this._applications).forEach(function(t){return t.dispose()}),this._disposeListeners.forEach(function(t){return t()}),this._disposed=!0},e.prototype._applicationDisposed=function(t){ia.remove(this._applications,t)},e}(Ac);Tc.decorators=[{type:Ws}],Tc.ctorParameters=[{type:fa}];var Oc=function(){function t(){}return Object.defineProperty(t.prototype,"injector",{get:function(){return V()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zone",{get:function(){return V()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentTypes",{get:function(){return V()},enumerable:!0,configurable:!0}),t}(),Ic=function(t){function e(e,n,o){var s=this;t.call(this),this._platform=e,this._zone=n,this._injector=o,this._bootstrapListeners=[],this._disposeListeners=[],this._rootComponents=[],this._rootComponentTypes=[],this._changeDetectorRefs=[],this._runningTick=!1,this._enforceNoNewChanges=!1;var a=o.get(gu);
this._enforceNoNewChanges=r(),a.run(function(){s._exceptionHandler=o.get(ua)}),this._asyncInitDonePromise=this.run(function(){var t,e=o.get(xu,null),n=[];if(i(e))for(var r=0;r<e.length;r++){var a=e[r]();c(a)&&n.push(a)}return n.length>0?(t=Ga.all(n).then(function(t){return s._asyncInitDone=!0}),s._asyncInitDone=!1):(s._asyncInitDone=!0,t=Ga.resolve(!0)),t}),du.subscribe(a.onError,function(t){s._exceptionHandler.call(t.error,t.stackTrace)}),du.subscribe(this._zone.onMicrotaskEmpty,function(t){s._zone.run(function(){s.tick()})})}return __extends(e,t),e.prototype.registerBootstrapListener=function(t){this._bootstrapListeners.push(t)},e.prototype.registerDisposeListener=function(t){this._disposeListeners.push(t)},e.prototype.registerChangeDetector=function(t){this._changeDetectorRefs.push(t)},e.prototype.unregisterChangeDetector=function(t){ia.remove(this._changeDetectorRefs,t)},e.prototype.waitForAsyncInitializers=function(){return this._asyncInitDonePromise},e.prototype.run=function(t){var e,n=this,r=this.injector.get(gu),i=Ga.completer();return r.run(function(){try{e=t(),c(e)&&Ga.then(e,function(t){i.resolve(t)},function(t,e){i.reject(t,e),n._exceptionHandler.call(t,e)})}catch(t){throw n._exceptionHandler.call(t,t.stack),t}}),c(e)?i.promise:e},e.prototype.bootstrap=function(t){var e=this;if(!this._asyncInitDone)throw new ca("Cannot bootstrap as there are still asynchronous initializers running. Wait for them using waitForAsyncInitializers().");return this.run(function(){e._rootComponentTypes.push(t.componentType);var n=t.create(e._injector,[],t.selector);n.onDestroy(function(){e._unloadComponent(n)});var o=n.injector.get(Eu,null);i(o)&&n.injector.get(Su).registerApplication(n.location.nativeElement,o),e._loadComponent(n);var s=e._injector.get(Sc);return r()&&s.log("Angular 2 is running in the development mode. Call enableProdMode() to enable the production mode."),n})},e.prototype._loadComponent=function(t){this._changeDetectorRefs.push(t.changeDetectorRef),this.tick(),this._rootComponents.push(t),this._bootstrapListeners.forEach(function(e){return e(t)})},e.prototype._unloadComponent=function(t){ia.contains(this._rootComponents,t)&&(this.unregisterChangeDetector(t.changeDetectorRef),ia.remove(this._rootComponents,t))},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zone",{get:function(){return this._zone},enumerable:!0,configurable:!0}),e.prototype.tick=function(){if(this._runningTick)throw new ca("ApplicationRef.tick is called recursively");var t=e._tickScope();try{this._runningTick=!0,this._changeDetectorRefs.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._changeDetectorRefs.forEach(function(t){return t.checkNoChanges()})}finally{this._runningTick=!1,Du(t)}},e.prototype.dispose=function(){ia.clone(this._rootComponents).forEach(function(t){return t.destroy()}),this._disposeListeners.forEach(function(t){return t()}),this._platform._applicationDisposed(this)},Object.defineProperty(e.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),e}(Oc);Ic._tickScope=Ru("ApplicationRef#tick()"),Ic.decorators=[{type:Ws}],Ic.ctorParameters=[{type:Tc},{type:gu},{type:fa}];var Nc=[Tc,{provide:Ac,useExisting:Tc}],Mc=[{provide:gu,useFactory:Ft,deps:[]},Ic,{provide:Oc,useExisting:Ic}],Vc=function(){function t(){this._dirty=!0,this._results=[],this._emitter=new vu}return Object.defineProperty(t.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return ia.first(this._results)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return ia.last(this._results)},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.toArray=function(){return ia.clone(this._results)},t.prototype[_()]=function(){return this._results[_()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=ia.flatten(t),this._dirty=!1},t.prototype.notifyOnChanges=function(){this._emitter.emit(this)},t.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),t}(),Rc=function(){function t(){}return t}(),Dc=function(t){function e(e){t.call(this),this._compiler=e}return __extends(e,t),e.prototype.loadAsRoot=function(t,e,n,r,o){return this._compiler.resolveComponent(t).then(function(t){var s=t.create(n,o,i(e)?e:t.selector);return i(r)&&s.onDestroy(r),s})},e.prototype.loadNextToLocation=function(t,e,n,r){return void 0===n&&(n=null),void 0===r&&(r=null),this._compiler.resolveComponent(t).then(function(t){var o=e.parentInjector,s=i(n)&&n.length>0?Ha.fromResolvedProviders(n,o):o;return e.createComponent(t,e.length,s,r)})},e}(Rc);Dc.decorators=[{type:Ws}],Dc.ctorParameters=[{type:xc}];var jc,Lc=new Object,Fc=function(){function t(){}return Object.defineProperty(t.prototype,"elementRef",{get:function(){return null},enumerable:!0,configurable:!0}),t}(),Uc=function(t){function e(e,n){t.call(this),this._appElement=e,this._viewFactory=n}return __extends(e,t),e.prototype.createEmbeddedView=function(t){var e=this._viewFactory(this._appElement.parentView.viewUtils,this._appElement.parentInjector,this._appElement);return o(t)&&(t=Lc),e.create(t,null,null),e.ref},Object.defineProperty(e.prototype,"elementRef",{get:function(){return this._appElement.elementRef},enumerable:!0,configurable:!0}),e}(Fc),Bc=function(){function t(t){this._view=t,this._view=t}return Object.defineProperty(t.prototype,"internalView",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootNodes",{get:function(){return this._view.flatRootNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._view.destroyed},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){this._view.markPathToRootAsCheckOnce()},t.prototype.detach=function(){this._view.cdMode=bs.Detached},t.prototype.detectChanges=function(){this._view.detectChanges(!1)},t.prototype.checkNoChanges=function(){this._view.detectChanges(!0)},t.prototype.reattach=function(){this._view.cdMode=bs.CheckAlways,this.markForCheck()},t.prototype.onDestroy=function(t){this._view.disposables.push(t)},t.prototype.destroy=function(){this._view.destroy()},t}(),Hc=function(){function t(t,e){this.name=t,this.callback=e}return t}(),qc=function(){function t(t,e,n){this._debugInfo=n,this.nativeNode=t,i(e)&&e instanceof zc?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return i(this._debugInfo)?this._debugInfo.injector:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return i(this._debugInfo)?this._debugInfo.component:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return i(this._debugInfo)?this._debugInfo.context:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return i(this._debugInfo)?this._debugInfo.references:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return i(this._debugInfo)?this._debugInfo.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return i(this._debugInfo)?this._debugInfo.source:null},enumerable:!0,configurable:!0}),t.prototype.inject=function(t){return this.injector.get(t)},t}(),zc=function(t){function e(e,n,r){t.call(this,e,n,r),this.properties={},this.attributes={},this.childNodes=[],this.nativeElement=e}return __extends(e,t),e.prototype.addChild=function(t){i(t)&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n=this.childNodes.indexOf(t);if(-1!==n){var r=this.childNodes.slice(0,n+1),o=this.childNodes.slice(n+1);this.childNodes=ia.concat(ia.concat(r,e),o);for(var s=0;s<e.length;++s){var a=e[s];i(a.parent)&&a.parent.removeChild(a),a.parent=this}}},e.prototype.query=function(t){var e=this.queryAll(t);return e.length>0?e[0]:null},e.prototype.queryAll=function(t){var e=[];return zt(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return Wt(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){var t=[];return this.childNodes.forEach(function(n){n instanceof e&&t.push(n)}),t},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(qc),Wc=new Map,Kc=new Wa("Platform Directives"),Gc=new Wa("Platform Pipes"),Qc=[Nc,{provide:va,useFactory:Xt,deps:[]},{provide:da,useExisting:va},Su,Sc],Xc=[Mc,{provide:xc,useClass:Cc},wu,fc,{provide:qu,useValue:ac},{provide:Ju,useValue:uc},{provide:Rc,useClass:Dc}];!function(t){t[t.OnInit=0]="OnInit",t[t.OnDestroy=1]="OnDestroy",t[t.DoCheck=2]="DoCheck",t[t.OnChanges=3]="OnChanges",t[t.AfterContentInit=4]="AfterContentInit",t[t.AfterContentChecked=5]="AfterContentChecked",t[t.AfterViewInit=6]="AfterViewInit",t[t.AfterViewChecked=7]="AfterViewChecked"}(jc||(jc={}));var Jc,Zc=[jc.OnInit,jc.OnDestroy,jc.DoCheck,jc.OnChanges,jc.AfterContentInit,jc.AfterContentChecked,jc.AfterViewInit,jc.AfterViewChecked],Yc=function(){function t(t,e,n){this.providerTokens=t,this.componentToken=e,this.refTokens=n}return t}(),$c=function(){function t(t,e,n,r){this._view=t,this._nodeIndex=e,this._tplRow=n,this._tplCol=r}return Object.defineProperty(t.prototype,"_staticNodeInfo",{get:function(){return i(this._nodeIndex)?this._view.staticNodeDebugInfos[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){var t=this._staticNodeInfo;return i(t)&&i(t.componentToken)?this.injector.get(t.componentToken):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){for(var t=this._view;i(t.declarationAppElement)&&t.type!==Tu.COMPONENT;)t=t.declarationAppElement.parentView;return i(t.declarationAppElement)?t.declarationAppElement.nativeElement:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this._view.injector(this._nodeIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return i(this._nodeIndex)&&i(this._view.allNodes)?this._view.allNodes[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=this._staticNodeInfo;return i(t)?t.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this._view.componentType.templateUrl+":"+this._tplRow+":"+this._tplCol},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t=this,e={},n=this._staticNodeInfo;if(i(n)){var r=n.refTokens;ra.forEach(r,function(n,r){var s;s=o(n)?i(t._view.allNodes)?t._view.allNodes[t._nodeIndex]:null:t._view.injectorGet(n,t._nodeIndex,null),e[r]=s})}return e},enumerable:!0,configurable:!0}),t}(),tl=new Object,el=function(t){function e(e,n){t.call(this),this._view=e,this._nodeIndex=n}return __extends(e,t),e.prototype.get=function(t,e){void 0===e&&(e=ha);var n=tl;return n===tl&&(n=this._view.injectorGet(t,this._nodeIndex,tl)),n===tl&&(n=this._view.parentInjector.get(t,e)),n},e}(fa),nl=Ru("AppView#check(ascii id)"),rl=function(){function t(t,e,n,r,i,o,s){this.clazz=t,this.componentType=e,this.type=n,this.viewUtils=r,this.parentInjector=i,this.declarationAppElement=o,this.cdMode=s,this.contentChildren=[],this.viewChildren=[],this.viewContainerElement=null,this.cdState=is.NeverChecked,this.destroyed=!1,this.ref=new Bc(this),n===Tu.COMPONENT||n===Tu.HOST?this.renderer=r.renderComponent(e):this.renderer=o.parentView.renderer}return t.prototype.create=function(t,e,n){this.context=t;var r;switch(this.type){case Tu.COMPONENT:r=Ct(e,this.componentType.slotCount);break;case Tu.EMBEDDED:r=this.declarationAppElement.parentView.projectableNodes;break;case Tu.HOST:r=e}return this._hasExternalHostElement=i(n),this.projectableNodes=r,this.createInternal(n)},t.prototype.createInternal=function(t){return null},t.prototype.init=function(t,e,n,r){this.rootNodesOrAppElements=t,this.allNodes=e,this.disposables=n,this.subscriptions=r,this.type===Tu.COMPONENT&&(this.declarationAppElement.parentView.viewChildren.push(this),this.dirtyParentQueriesInternal())},t.prototype.selectOrCreateHostElement=function(t,e,n){var r;return r=i(e)?this.renderer.selectRootElement(e,n):this.renderer.createElement(null,t,n)},t.prototype.injectorGet=function(t,e,n){return this.injectorGetInternal(t,e,n)},t.prototype.injectorGetInternal=function(t,e,n){return n},t.prototype.injector=function(t){return i(t)?new el(this,t):this.parentInjector},t.prototype.destroy=function(){this._hasExternalHostElement?this.renderer.detachView(this.flatRootNodes):i(this.viewContainerElement)&&this.viewContainerElement.detachView(this.viewContainerElement.nestedViews.indexOf(this)),this._destroyRecurse()},t.prototype._destroyRecurse=function(){if(!this.destroyed){for(var t=this.contentChildren,e=0;e<t.length;e++)t[e]._destroyRecurse();t=this.viewChildren;for(var e=0;e<t.length;e++)t[e]._destroyRecurse();this.destroyLocal(),this.destroyed=!0}},t.prototype.destroyLocal=function(){for(var t=this.type===Tu.COMPONENT?this.declarationAppElement.nativeElement:null,e=0;e<this.disposables.length;e++)this.disposables[e]();for(var e=0;e<this.subscriptions.length;e++)du.dispose(this.subscriptions[e]);this.destroyInternal(),this._hasExternalHostElement?this.renderer.detachView(this.flatRootNodes):i(this.viewContainerElement)?this.viewContainerElement.detachView(this.viewContainerElement.nestedViews.indexOf(this)):this.dirtyParentQueriesInternal(),this.renderer.destroyView(t,this.allNodes)},t.prototype.destroyInternal=function(){},Object.defineProperty(t.prototype,"changeDetectorRef",{get:function(){return this.ref},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return i(this.declarationAppElement)?this.declarationAppElement.parentView:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flatRootNodes",{get:function(){return bt(this.rootNodesOrAppElements)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastRootNode",{get:function(){var t=this.rootNodesOrAppElements.length>0?this.rootNodesOrAppElements[this.rootNodesOrAppElements.length-1]:null;return Jt(t)},enumerable:!0,configurable:!0}),t.prototype.dirtyParentQueriesInternal=function(){},t.prototype.detectChanges=function(t){var e=nl(this.clazz);this.cdMode!==bs.Detached&&this.cdMode!==bs.Checked&&this.cdState!==is.Errored&&(this.destroyed&&this.throwDestroyedError("detectChanges"),this.detectChangesInternal(t),this.cdMode===bs.CheckOnce&&(this.cdMode=bs.Checked),this.cdState=is.CheckedBefore,Du(e))},t.prototype.detectChangesInternal=function(t){this.detectContentChildrenChanges(t),this.detectViewChildrenChanges(t)},t.prototype.detectContentChildrenChanges=function(t){for(var e=0;e<this.contentChildren.length;++e)this.contentChildren[e].detectChanges(t)},t.prototype.detectViewChildrenChanges=function(t){for(var e=0;e<this.viewChildren.length;++e)this.viewChildren[e].detectChanges(t)},t.prototype.addToContentChildren=function(t){t.parentView.contentChildren.push(this),this.viewContainerElement=t,this.dirtyParentQueriesInternal()},t.prototype.removeFromContentChildren=function(t){ia.remove(t.parentView.contentChildren,this),this.dirtyParentQueriesInternal(),this.viewContainerElement=null},t.prototype.markAsCheckOnce=function(){this.cdMode=bs.CheckOnce},t.prototype.markPathToRootAsCheckOnce=function(){for(var t=this;i(t)&&t.cdMode!==bs.Detached;){t.cdMode===bs.Checked&&(t.cdMode=bs.CheckOnce);var e=t.type===Tu.COMPONENT?t.declarationAppElement:t.viewContainerElement;t=i(e)?e.parentView:null}},t.prototype.eventHandler=function(t){return t},t.prototype.throwDestroyedError=function(t){throw new Hu(t)},t}(),il=function(t){function e(e,n,r,i,o,s,a,u){t.call(this,e,n,r,i,o,s,a),this.staticNodeDebugInfos=u,this._currentDebugContext=null}return __extends(e,t),e.prototype.create=function(e,n,r){this._resetDebug();try{return t.prototype.create.call(this,e,n,r)}catch(t){throw this._rethrowWithContext(t,t.stack),t}},e.prototype.injectorGet=function(e,n,r){this._resetDebug();try{return t.prototype.injectorGet.call(this,e,n,r)}catch(t){throw this._rethrowWithContext(t,t.stack),t}},e.prototype.destroyLocal=function(){this._resetDebug();try{t.prototype.destroyLocal.call(this)}catch(t){throw this._rethrowWithContext(t,t.stack),t}},e.prototype.detectChanges=function(e){this._resetDebug();try{t.prototype.detectChanges.call(this,e)}catch(t){throw this._rethrowWithContext(t,t.stack),t}},e.prototype._resetDebug=function(){this._currentDebugContext=null},e.prototype.debug=function(t,e,n){return this._currentDebugContext=new $c(this,t,e,n)},e.prototype._rethrowWithContext=function(t,e){if(!(t instanceof Bu)&&(t instanceof Uu||(this.cdState=is.Errored),i(this._currentDebugContext)))throw new Bu(t,e,this._currentDebugContext)},e.prototype.eventHandler=function(e){var n=this,r=t.prototype.eventHandler.call(this,e);return function(t){n._resetDebug();try{return r(t)}catch(t){throw n._rethrowWithContext(t,t.stack),t}}},e}(rl),ol=function(){function t(t){this._delegate=t}return t.prototype.renderComponent=function(t){return new sl(this._delegate.renderComponent(t))},t}(),sl=function(){function t(t){this._delegate=t}return t.prototype.selectRootElement=function(t,e){var n=this._delegate.selectRootElement(t,e),r=new zc(n,null,e);return Gt(r),n},t.prototype.createElement=function(t,e,n){var r=this._delegate.createElement(t,e,n),i=new zc(r,Kt(t),n);return i.name=e,Gt(i),r},t.prototype.createViewRoot=function(t){return this._delegate.createViewRoot(t)},t.prototype.createTemplateAnchor=function(t,e){var n=this._delegate.createTemplateAnchor(t,e),r=new qc(n,Kt(t),e);return Gt(r),n},t.prototype.createText=function(t,e,n){var r=this._delegate.createText(t,e,n),i=new qc(r,Kt(t),n);return Gt(i),r},t.prototype.projectNodes=function(t,e){var n=Kt(t);if(i(n)&&n instanceof zc){var r=n;e.forEach(function(t){r.addChild(Kt(t))})}this._delegate.projectNodes(t,e)},t.prototype.attachViewAfter=function(t,e){var n=Kt(t);if(i(n)){var r=n.parent;if(e.length>0&&i(r)){var o=[];e.forEach(function(t){return o.push(Kt(t))}),r.insertChildrenAfter(n,o)}}this._delegate.attachViewAfter(t,e)},t.prototype.detachView=function(t){t.forEach(function(t){var e=Kt(t);i(e)&&i(e.parent)&&e.parent.removeChild(e)}),this._delegate.detachView(t)},t.prototype.destroyView=function(t,e){e.forEach(function(t){Qt(Kt(t))}),this._delegate.destroyView(t,e)},t.prototype.listen=function(t,e,n){var r=Kt(t);return i(r)&&r.listeners.push(new Hc(e,n)),this._delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this._delegate.listenGlobal(t,e,n)},t.prototype.setElementProperty=function(t,e,n){var r=Kt(t);i(r)&&r instanceof zc&&(r.properties[e]=n),this._delegate.setElementProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=Kt(t);i(r)&&r instanceof zc&&(r.attributes[e]=n),this._delegate.setElementAttribute(t,e,n)},t.prototype.setBindingDebugInfo=function(t,e,n){this._delegate.setBindingDebugInfo(t,e,n)},t.prototype.setElementClass=function(t,e,n){this._delegate.setElementClass(t,e,n)},t.prototype.setElementStyle=function(t,e,n){this._delegate.setElementStyle(t,e,n)},t.prototype.invokeElementMethod=function(t,e,n){this._delegate.invokeElementMethod(t,e,n)},t.prototype.setText=function(t,e){this._delegate.setText(t,e)},t}(),al={isDefaultChangeDetectionStrategy:C,ChangeDetectorState:is,CHANGE_DETECTION_STRATEGY_VALUES:Cs,constructDependencies:G,LifecycleHooks:jc,LIFECYCLE_HOOKS_VALUES:Zc,ReflectorReader:da,ReflectorComponentResolver:Cc,AppElement:Fu,AppView:rl,DebugAppView:il,ViewType:Tu,MAX_INTERPOLATION_VALUES:vc,checkBinding:Pt,flattenNestedViewRenderNodes:bt,interpolate:Et,ViewUtils:fc,VIEW_ENCAPSULATION_VALUES:Is,DebugContext:$c,StaticNodeDebugInfo:Yc,devModeEqual:wt,uninitialized:ec,ValueUnwrapper:rc,RenderDebugInfo:lc,SecurityContext:Pu,SanitizationService:Ou,TemplateRef_:Uc,wtfInit:Zt,ReflectionCapabilities:ya,makeDecorator:k,DebugDomRootRenderer:ol,createProvider:B,isProviderLiteral:U,EMPTY_ARRAY:yc,EMPTY_MAP:mc,pureProxy1:At,pureProxy2:Tt,pureProxy3:Ot,pureProxy4:It,pureProxy5:Nt,pureProxy6:Mt,pureProxy7:Vt,pureProxy8:Rt,pureProxy9:Dt,pureProxy10:jt,castByValue:kt,Console:Sc},ul=function(){function t(){}return t}();Jc="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var cl=!1,ll=Jc,pl=Function,hl=!0;ll.assert=function(t){};var fl,dl=Object.getPrototypeOf({}),vl=function(){function t(){}return t.fromCharCode=function(t){return String.fromCharCode(t)},t.charCodeAt=function(t,e){return t.charCodeAt(e)},t.split=function(t,e){return t.split(e)},t.equals=function(t,e){return t===e},t.stripLeft=function(t,e){if(t&&t.length){for(var n=0,r=0;r<t.length&&t[r]==e;r++)n++;t=t.substring(n)}return t},t.stripRight=function(t,e){if(t&&t.length){for(var n=t.length,r=t.length-1;r>=0&&t[r]==e;r--)n--;t=t.substring(0,n)}return t},t.replace=function(t,e,n){return t.replace(e,n)},t.replaceAll=function(t,e,n){return t.replace(e,n)},t.slice=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=null),t.slice(e,null===n?void 0:n)},t.replaceAllMapped=function(t,e,n){return t.replace(e,function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.splice(-2,2),n(t)})},t.contains=function(t,e){return-1!=t.indexOf(e)},t.compare=function(t,e){return e>t?-1:t>e?1:0},t}(),yl=function(){function t(t){void 0===t&&(t=[]),this.parts=t}return t.prototype.add=function(t){this.parts.push(t)},t.prototype.toString=function(){return this.parts.join("")},t}(),ml=function(t){function e(e){t.call(this),this.message=e}return __extends(e,t),e.prototype.toString=function(){return this.message},e}(Error),gl=function(){function t(){}return t.toFixed=function(t,e){return t.toFixed(e)},t.equal=function(t,e){return t===e},t.parseIntAutoRadix=function(t){var e=parseInt(t);if(isNaN(e))throw new ml("Invalid integer literal when parsing "+t);return e},t.parseInt=function(t,e){if(10==e){if(/^(\-|\+)?[0-9]+$/.test(t))return parseInt(t,e)}else if(16==e){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(t))return parseInt(t,e)}else{var n=parseInt(t,e);if(!isNaN(n))return n}throw new ml("Invalid integer literal when parsing "+t+" in base "+e)},t.parseFloat=function(t){return parseFloat(t)},Object.defineProperty(t,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),t.isNaN=function(t){return isNaN(t)},t.isInteger=function(t){return Number.isInteger(t)},t}(),_l=function(){function t(){}return t.create=function(t,e){return void 0===e&&(e=""),e=e.replace(/g/g,""),new ll.RegExp(t,e+"g")},t.firstMatch=function(t,e){return t.lastIndex=0,t.exec(e)},t.test=function(t,e){return t.lastIndex=0,t.test(e)},t.matcher=function(t,e){return t.lastIndex=0,{re:t,input:e}},t.replaceAll=function(t,e,n){var r=t.exec(e),i="";t.lastIndex=0;for(var o=0;r;)i+=e.substring(o,r.index),i+=n(r),o=r.index+r[0].length,t.lastIndex=o,r=t.exec(e);return i+=e.substring(o)},t}(),wl=function(){function t(){}return t.next=function(t){return t.re.exec(t.input)},t}(),bl=function(){function t(){}return t.apply=function(t,e){return t.apply(null,e)},t}(),xl=function(){function t(t,e,n){this.value=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}(),Cl=function(){function t(t,e,n){this.value=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitBoundText(this,e)},t}(),El=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitAttr(this,e)},t}(),Sl=function(){function t(t,e,n,r,i,o){this.name=t,this.type=e,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=o}return t.prototype.visit=function(t,e){return t.visitElementProperty(this,e)},t}(),Pl=function(){function t(t,e,n,r){this.name=t,this.target=e,this.handler=n,this.sourceSpan=r}return t.prototype.visit=function(t,e){return t.visitEvent(this,e)},Object.defineProperty(t.prototype,"fullName",{get:function(){return $t(this.target)?this.target+":"+this.name:this.name},enumerable:!0,configurable:!0}),t}(),kl=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitReference(this,e)},t}(),Al=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitVariable(this,e)},t}(),Tl=function(){function t(t,e,n,r,i,o,s,a,u,c,l){this.name=t,this.attrs=e,this.inputs=n,this.outputs=r,this.references=i,this.directives=o,this.providers=s,this.hasViewContainer=a,this.children=u,this.ngContentIndex=c,this.sourceSpan=l}return t.prototype.visit=function(t,e){return t.visitElement(this,e)},t}(),Ol=function(){function t(t,e,n,r,i,o,s,a,u,c){this.attrs=t,this.outputs=e,this.references=n,this.variables=r,this.directives=i,this.providers=o,this.hasViewContainer=s,this.children=a,this.ngContentIndex=u,this.sourceSpan=c}return t.prototype.visit=function(t,e){return t.visitEmbeddedTemplate(this,e)},t}(),Il=function(){function t(t,e,n,r){this.directiveName=t,this.templateName=e,this.value=n,this.sourceSpan=r}return t.prototype.visit=function(t,e){return t.visitDirectiveProperty(this,e)},t}(),Nl=function(){function t(t,e,n,r,i){this.directive=t,this.inputs=e,this.hostProperties=n,this.hostEvents=r,this.sourceSpan=i}return t.prototype.visit=function(t,e){return t.visitDirective(this,e)},t}(),Ml=function(){function t(t,e,n,r,i,o){this.token=t,this.multiProvider=e,this.eager=n,this.providers=r,this.providerType=i,this.sourceSpan=o}return t.prototype.visit=function(t,e){return null},t}();!function(t){t[t.PublicService=0]="PublicService",t[t.PrivateService=1]="PrivateService",t[t.Component=2]="Component",t[t.Directive=3]="Directive",t[t.Builtin=4]="Builtin"}(fl||(fl={}));var Vl,Rl=function(){function t(t,e,n){this.index=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitNgContent(this,e)},t}();!function(t){t[t.Property=0]="Property",t[t.Attribute=1]="Attribute",t[t.Class=2]="Class",t[t.Style=3]="Style"}(Vl||(Vl={}));var Dl,jl=al.isDefaultChangeDetectionStrategy,Ll=al.ChangeDetectorState,Fl=al.CHANGE_DETECTION_STRATEGY_VALUES,Ul=al.LifecycleHooks,Bl=al.LIFECYCLE_HOOKS_VALUES,Hl=al.ReflectorReader,ql=al.AppElement,zl=al.AppView,Wl=al.DebugAppView,Kl=al.ViewType,Gl=al.MAX_INTERPOLATION_VALUES,Ql=al.checkBinding,Xl=al.flattenNestedViewRenderNodes,Jl=al.interpolate,Zl=al.ViewUtils,Yl=al.VIEW_ENCAPSULATION_VALUES,$l=al.DebugContext,tp=al.StaticNodeDebugInfo,ep=al.devModeEqual,np=al.uninitialized,rp=al.ValueUnwrapper,ip=al.TemplateRef_,op=al.SecurityContext,sp=al.createProvider,ap=al.isProviderLiteral,up=al.EMPTY_ARRAY,cp=al.EMPTY_MAP,lp=al.pureProxy1,pp=al.pureProxy2,hp=al.pureProxy3,fp=al.pureProxy4,dp=al.pureProxy5,vp=al.pureProxy6,yp=al.pureProxy7,mp=al.pureProxy8,gp=al.pureProxy9,_p=al.pureProxy10,wp=al.castByValue,bp=al.Console,xp=ll.Map,Cp=ll.Set,Ep=(function(){try{if(1===new xp([[1,2]]).size)return function(t){return new xp(t)}}catch(t){}return function(t){for(var e=new xp,n=0;n<t.length;n++){var r=t[n];e.set(r[0],r[1])}return e}}(),function(){try{if(new xp(new xp))return function(t){return new xp(t)}}catch(t){}return function(t){var e=new xp;return t.forEach(function(t,n){e.set(n,t)}),e}}(),function(){return(new xp).keys().next?function(t){for(var e,n=t.keys();!(e=n.next()).done;)t.set(e.value,null)}:function(t){t.forEach(function(e,n){t.set(n,null)})}}(),function(){try{if((new xp).values().next)return function(t,e){return e?Array.from(t.values()):Array.from(t.keys())}}catch(t){}return function(t,e){var n=Sp.createFixedSize(t.size),r=0;return t.forEach(function(t,i){n[r]=e?t:i,r++}),n}}(),function(){function t(){}return t.create=function(){return{}},t.contains=function(t,e){return t.hasOwnProperty(e)},t.get=function(t,e){return t.hasOwnProperty(e)?t[e]:void 0},t.set=function(t,e,n){t[e]=n},t.keys=function(t){return Object.keys(t)},t.values=function(t){return Object.keys(t).reduce(function(e,n){return e.push(t[n]),e},[])},t.isEmpty=function(t){for(var e in t)return!1;return!0},t.delete=function(t,e){delete t[e]},t.forEach=function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},t.merge=function(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},t.equals=function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i,o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0},t}()),Sp=function(){function t(){}return t.createFixedSize=function(t){return new Array(t)},t.createGrowableSize=function(t){return new Array(t)},t.clone=function(t){return t.slice(0)},t.forEachWithIndex=function(t,e){for(var n=0;n<t.length;n++)e(t[n],n)},t.first=function(t){return t?t[0]:null},t.last=function(t){return t&&0!=t.length?t[t.length-1]:null},t.indexOf=function(t,e,n){return void 0===n&&(n=0),t.indexOf(e,n)},t.contains=function(t,e){return-1!==t.indexOf(e)},t.reversed=function(e){var n=t.clone(e);return n.reverse()},t.concat=function(t,e){return t.concat(e)},t.insert=function(t,e,n){t.splice(e,0,n)},t.removeAt=function(t,e){var n=t[e];return t.splice(e,1),n},t.removeAll=function(t,e){for(var n=0;n<e.length;++n){var r=t.indexOf(e[n]);t.splice(r,1)}},t.remove=function(t,e){var n=t.indexOf(e);return n>-1?(t.splice(n,1),!0):!1},t.clear=function(t){t.length=0},t.isEmpty=function(t){return 0==t.length},t.fill=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=null),t.fill(e,n,null===r?t.length:r)},t.equals=function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},t.slice=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=null),t.slice(e,null===n?void 0:n)},t.splice=function(t,e,n){return t.splice(e,n)},t.sort=function(t,e){$t(e)?t.sort(e):t.sort()},t.toString=function(t){return t.toString()},t.toJSON=function(t){return JSON.stringify(t)},t.maximum=function(t,e){if(0==t.length)return null;for(var n=null,r=-(1/0),i=0;i<t.length;i++){var o=t[i];if(!te(o)){var s=e(o);s>r&&(n=o,r=s)}}return n},t.flatten=function(t){var e=[];return me(t,e),e},t.addAll=function(t,e){for(var n=0;n<e.length;n++)t.push(e[n])},t}(),Pp=function(){var t=new Cp([1,2,3]);return 3===t.size?function(t){return new Cp(t)}:function(t){var e=new Cp(t);if(e.size!==t.length)for(var n=0;n<t.length;n++)e.add(t[n]);return e}}(),kp=function(){function t(){}return t.createFromList=function(t){return Pp(t)},t.has=function(t,e){return t.has(e)},t.delete=function(t,e){t.delete(e)},t}(),Ap=function(t){function e(e){void 0===e&&(e="--"),t.call(this,e),this.message=e,this.stack=new Error(e).stack}return __extends(e,t),e.prototype.toString=function(){return this.message;
},e}(Error),Tp=function(){function t(){}return t.prototype.visit=function(t,e){return void 0===e&&(e=null),null},t.prototype.toString=function(){return"AST"},t}(),Op=function(t){function e(e,n,r){t.call(this),this.prefix=e,this.uninterpretedExpression=n,this.location=r}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitQuote(this,e)},e.prototype.toString=function(){return"Quote"},e}(Tp),Ip=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.visit=function(t,e){void 0===e&&(e=null)},e}(Tp),Np=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitImplicitReceiver(this,e)},e}(Tp),Mp=function(t){function e(e){t.call(this),this.expressions=e}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitChain(this,e)},e}(Tp),Vp=function(t){function e(e,n,r){t.call(this),this.condition=e,this.trueExp=n,this.falseExp=r}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitConditional(this,e)},e}(Tp),Rp=function(t){function e(e,n){t.call(this),this.receiver=e,this.name=n}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPropertyRead(this,e)},e}(Tp),Dp=function(t){function e(e,n,r){t.call(this),this.receiver=e,this.name=n,this.value=r}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPropertyWrite(this,e)},e}(Tp),jp=function(t){function e(e,n){t.call(this),this.receiver=e,this.name=n}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitSafePropertyRead(this,e)},e}(Tp),Lp=function(t){function e(e,n){t.call(this),this.obj=e,this.key=n}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitKeyedRead(this,e)},e}(Tp),Fp=function(t){function e(e,n,r){t.call(this),this.obj=e,this.key=n,this.value=r}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitKeyedWrite(this,e)},e}(Tp),Up=function(t){function e(e,n,r){t.call(this),this.exp=e,this.name=n,this.args=r}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPipe(this,e)},e}(Tp),Bp=function(t){function e(e){t.call(this),this.value=e}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralPrimitive(this,e)},e}(Tp),Hp=function(t){function e(e){t.call(this),this.expressions=e}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralArray(this,e)},e}(Tp),qp=function(t){function e(e,n){t.call(this),this.keys=e,this.values=n}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralMap(this,e)},e}(Tp),zp=function(t){function e(e,n){t.call(this),this.strings=e,this.expressions=n}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitInterpolation(this,e)},e}(Tp),Wp=function(t){function e(e,n,r){t.call(this),this.operation=e,this.left=n,this.right=r}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitBinary(this,e)},e}(Tp),Kp=function(t){function e(e){t.call(this),this.expression=e}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPrefixNot(this,e)},e}(Tp),Gp=function(t){function e(e,n,r){t.call(this),this.receiver=e,this.name=n,this.args=r}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitMethodCall(this,e)},e}(Tp),Qp=function(t){function e(e,n,r){t.call(this),this.receiver=e,this.name=n,this.args=r}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitSafeMethodCall(this,e)},e}(Tp),Xp=function(t){function e(e,n){t.call(this),this.target=e,this.args=n}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitFunctionCall(this,e)},e}(Tp),Jp=function(t){function e(e,n,r){t.call(this),this.ast=e,this.source=n,this.location=r}return __extends(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),this.ast.visit(t,e)},e.prototype.toString=function(){return this.source+" in "+this.location},e}(Tp),Zp=function(){function t(t,e,n,r){this.key=t,this.keyIsVar=e,this.name=n,this.expression=r}return t}(),Yp=function(){function t(){}return t.prototype.visitBinary=function(t,e){return t.left.visit(this),t.right.visit(this),null},t.prototype.visitChain=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitConditional=function(t,e){return t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this),null},t.prototype.visitPipe=function(t,e){return t.exp.visit(this),this.visitAll(t.args,e),null},t.prototype.visitFunctionCall=function(t,e){return t.target.visit(this),this.visitAll(t.args,e),null},t.prototype.visitImplicitReceiver=function(t,e){return null},t.prototype.visitInterpolation=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitKeyedRead=function(t,e){return t.obj.visit(this),t.key.visit(this),null},t.prototype.visitKeyedWrite=function(t,e){return t.obj.visit(this),t.key.visit(this),t.value.visit(this),null},t.prototype.visitLiteralArray=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitLiteralMap=function(t,e){return this.visitAll(t.values,e)},t.prototype.visitLiteralPrimitive=function(t,e){return null},t.prototype.visitMethodCall=function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)},t.prototype.visitPrefixNot=function(t,e){return t.expression.visit(this),null},t.prototype.visitPropertyRead=function(t,e){return t.receiver.visit(this),null},t.prototype.visitPropertyWrite=function(t,e){return t.receiver.visit(this),t.value.visit(this),null},t.prototype.visitSafePropertyRead=function(t,e){return t.receiver.visit(this),null},t.prototype.visitSafeMethodCall=function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)},t.prototype.visitAll=function(t,e){var n=this;return t.forEach(function(t){return t.visit(n,e)}),null},t.prototype.visitQuote=function(t,e){return null},t}();!function(t){t[t.Character=0]="Character",t[t.Identifier=1]="Identifier",t[t.Keyword=2]="Keyword",t[t.String=3]="String",t[t.Operator=4]="Operator",t[t.Number=5]="Number"}(Dl||(Dl={}));var $p=function(){function t(){}return t.prototype.tokenize=function(t){for(var e=new ef(t),n=[],r=e.scanToken();null!=r;)n.push(r),r=e.scanToken();return n},t}();$p.decorators=[{type:Ws}];var th=function(){function t(t,e,n,r){this.index=t,this.type=e,this.numValue=n,this.strValue=r}return t.prototype.isCharacter=function(t){return this.type==Dl.Character&&this.numValue==t},t.prototype.isNumber=function(){return this.type==Dl.Number},t.prototype.isString=function(){return this.type==Dl.String},t.prototype.isOperator=function(t){return this.type==Dl.Operator&&this.strValue==t},t.prototype.isIdentifier=function(){return this.type==Dl.Identifier},t.prototype.isKeyword=function(){return this.type==Dl.Keyword},t.prototype.isKeywordDeprecatedVar=function(){return this.type==Dl.Keyword&&"var"==this.strValue},t.prototype.isKeywordLet=function(){return this.type==Dl.Keyword&&"let"==this.strValue},t.prototype.isKeywordNull=function(){return this.type==Dl.Keyword&&"null"==this.strValue},t.prototype.isKeywordUndefined=function(){return this.type==Dl.Keyword&&"undefined"==this.strValue},t.prototype.isKeywordTrue=function(){return this.type==Dl.Keyword&&"true"==this.strValue},t.prototype.isKeywordFalse=function(){return this.type==Dl.Keyword&&"false"==this.strValue},t.prototype.toNumber=function(){return this.type==Dl.Number?this.numValue:-1},t.prototype.toString=function(){switch(this.type){case Dl.Character:case Dl.Identifier:case Dl.Keyword:case Dl.Operator:case Dl.String:return this.strValue;case Dl.Number:return this.numValue.toString();default:return null}},t}(),eh=new th(-1,Dl.Character,0,""),nh=0,rh=9,ih=10,oh=11,sh=12,ah=13,uh=32,ch=33,lh=34,ph=35,hh=36,fh=37,dh=38,vh=39,yh=40,mh=41,gh=42,_h=43,wh=44,bh=45,xh=46,Ch=47,Eh=58,Sh=59,Ph=60,kh=61,Ah=62,Th=63,Oh=48,Ih=57,Nh=65,Mh=69,Vh=90,Rh=91,Dh=92,jh=93,Lh=94,Fh=95,Uh=96,Bh=97,Hh=101,qh=102,zh=110,Wh=114,Kh=116,Gh=117,Qh=118,Xh=122,Jh=123,Zh=124,Yh=125,$h=160,tf=function(t){function e(e){t.call(this),this.message=e}return __extends(e,t),e.prototype.toString=function(){return this.message},e}(Ap),ef=function(){function t(t){this.input=t,this.peek=0,this.index=-1,this.length=t.length,this.advance()}return t.prototype.advance=function(){this.peek=++this.index>=this.length?nh:vl.charCodeAt(this.input,this.index)},t.prototype.scanToken=function(){for(var t=this.input,e=this.length,n=this.peek,r=this.index;uh>=n;){if(++r>=e){n=nh;break}n=vl.charCodeAt(t,r)}if(this.peek=n,this.index=r,r>=e)return null;if(Pe(n))return this.scanIdentifier();if(Te(n))return this.scanNumber(r);var i=r;switch(n){case xh:return this.advance(),Te(this.peek)?this.scanNumber(i):_e(i,xh);case yh:case mh:case Jh:case Yh:case Rh:case jh:case wh:case Eh:case Sh:return this.scanCharacter(i,n);case vh:case lh:return this.scanString();case ph:case _h:case bh:case gh:case Ch:case fh:case Lh:return this.scanOperator(i,vl.fromCharCode(n));case Th:return this.scanComplexOperator(i,"?",xh,".");case Ph:case Ah:return this.scanComplexOperator(i,vl.fromCharCode(n),kh,"=");case ch:case kh:return this.scanComplexOperator(i,vl.fromCharCode(n),kh,"=",kh,"=");case dh:return this.scanComplexOperator(i,"&",dh,"&");case Zh:return this.scanComplexOperator(i,"|",Zh,"|");case $h:for(;Se(this.peek);)this.advance();return this.scanToken()}return this.error("Unexpected character ["+vl.fromCharCode(n)+"]",0),null},t.prototype.scanCharacter=function(t,e){return this.advance(),_e(t,e)},t.prototype.scanOperator=function(t,e){return this.advance(),xe(t,e)},t.prototype.scanComplexOperator=function(t,e,n,r,i,o){this.advance();var s=e;return this.peek==n&&(this.advance(),s+=r),$t(i)&&this.peek==i&&(this.advance(),s+=o),xe(t,s)},t.prototype.scanIdentifier=function(){var t=this.index;for(this.advance();Ae(this.peek);)this.advance();var e=this.input.substring(t,this.index);return kp.has(nf,e)?be(t,e):we(t,e)},t.prototype.scanNumber=function(t){var e=this.index===t;for(this.advance();;){if(Te(this.peek));else if(this.peek==xh)e=!1;else{if(!Oe(this.peek))break;this.advance(),Ie(this.peek)&&this.advance(),Te(this.peek)||this.error("Invalid exponent",-1),e=!1}this.advance()}var n=this.input.substring(t,this.index),r=e?gl.parseIntAutoRadix(n):gl.parseFloat(n);return Ee(t,r)},t.prototype.scanString=function(){var t=this.index,e=this.peek;this.advance();for(var n,r=this.index,i=this.input;this.peek!=e;)if(this.peek==Dh){null==n&&(n=new yl),n.add(i.substring(r,this.index)),this.advance();var o;if(this.peek==Gh){var s=i.substring(this.index+1,this.index+5);try{o=gl.parseInt(s,16)}catch(t){this.error("Invalid unicode escape [\\u"+s+"]",0)}for(var a=0;5>a;a++)this.advance()}else o=Me(this.peek),this.advance();n.add(vl.fromCharCode(o)),r=this.index}else this.peek==nh?this.error("Unterminated quote",0):this.advance();var u=i.substring(r,this.index);this.advance();var c=u;return null!=n&&(n.add(u),c=n.toString()),Ce(t,c)},t.prototype.error=function(t,e){var n=this.index+e;throw new tf("Lexer Error: "+t+" at column "+n+" in expression ["+this.input+"]")},t}(),nf=(kp.createFromList(["+","-","*","/","%","^","=","==","!=","===","!==","<",">","<=",">=","&&","||","&","|","!","?","#","?."]),kp.createFromList(["var","let","null","undefined","true","false","if","else"])),rf=new Np,of=/\{\{([\s\S]*?)\}\}/g,sf=function(t){function e(e,n,r,i){t.call(this,"Parser Error: "+e+" "+r+" ["+n+"] in "+i)}return __extends(e,t),e}(Ap),af=function(){function t(t,e){this.strings=t,this.expressions=e}return t}(),uf=function(){function t(t,e){this.templateBindings=t,this.warnings=e}return t}(),cf=function(){function t(t){this._lexer=t}return t.prototype.parseAction=function(t,e){this._checkNoInterpolation(t,e);var n=this._lexer.tokenize(this._stripComments(t)),r=new pf(t,e,n,!0).parseChain();return new Jp(r,t,e)},t.prototype.parseBinding=function(t,e){var n=this._parseBindingAst(t,e);return new Jp(n,t,e)},t.prototype.parseSimpleBinding=function(t,e){var n=this._parseBindingAst(t,e);if(!hf.check(n))throw new sf("Host binding expression can only contain field access and constants",t,e);return new Jp(n,t,e)},t.prototype._parseBindingAst=function(t,e){var n=this._parseQuote(t,e);if($t(n))return n;this._checkNoInterpolation(t,e);var r=this._lexer.tokenize(this._stripComments(t));return new pf(t,e,r,!1).parseChain()},t.prototype._parseQuote=function(t,e){if(te(t))return null;var n=t.indexOf(":");if(-1==n)return null;var r=t.substring(0,n).trim();if(!ke(r))return null;var i=t.substring(n+1);return new Op(r,i,e)},t.prototype.parseTemplateBindings=function(t,e){var n=this._lexer.tokenize(t);return new pf(t,e,n,!1).parseTemplateBindings()},t.prototype.parseInterpolation=function(t,e){var n=this.splitInterpolation(t,e);if(null==n)return null;for(var r=[],i=0;i<n.expressions.length;++i){var o=this._lexer.tokenize(this._stripComments(n.expressions[i])),s=new pf(t,e,o,!1).parseChain();r.push(s)}return new Jp(new zp(n.strings,r),t,e)},t.prototype.splitInterpolation=function(t,e){var n=vl.split(t,of);if(n.length<=1)return null;for(var r=[],i=[],o=0;o<n.length;o++){var s=n[o];if(o%2===0)r.push(s);else{if(!(s.trim().length>0))throw new sf("Blank expressions are not allowed in interpolated strings",t,"at column "+this._findInterpolationErrorColumn(n,o)+" in",e);i.push(s)}}return new af(r,i)},t.prototype.wrapLiteralPrimitive=function(t,e){return new Jp(new Bp(t),t,e)},t.prototype._stripComments=function(t){var e=this._commentStart(t);return $t(e)?t.substring(0,e).trim():t},t.prototype._commentStart=function(t){for(var e=null,n=0;n<t.length-1;n++){var r=vl.charCodeAt(t,n),i=vl.charCodeAt(t,n+1);if(r===Ch&&i==Ch&&te(e))return n;e===r?e=null:te(e)&&Ne(r)&&(e=r)}return null},t.prototype._checkNoInterpolation=function(t,e){var n=vl.split(t,of);if(n.length>1)throw new sf("Got interpolation ({{}}) where expression was expected",t,"at column "+this._findInterpolationErrorColumn(n,1)+" in",e)},t.prototype._findInterpolationErrorColumn=function(t,e){for(var n="",r=0;e>r;r++)n+=r%2===0?t[r]:"{{"+t[r]+"}}";return n.length},t}();cf.decorators=[{type:Ws}],cf.ctorParameters=[{type:$p}];var lf,pf=function(){function t(t,e,n,r){this.input=t,this.location=e,this.tokens=n,this.parseAction=r,this.index=0}return t.prototype.peek=function(t){var e=this.index+t;return e<this.tokens.length?this.tokens[e]:eh},Object.defineProperty(t.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index:this.input.length},enumerable:!0,configurable:!0}),t.prototype.advance=function(){this.index++},t.prototype.optionalCharacter=function(t){return this.next.isCharacter(t)?(this.advance(),!0):!1},t.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},t.prototype.peekDeprecatedKeywordVar=function(){return this.next.isKeywordDeprecatedVar()},t.prototype.peekDeprecatedOperatorHash=function(){return this.next.isOperator("#")},t.prototype.expectCharacter=function(t){this.optionalCharacter(t)||this.error("Missing expected "+vl.fromCharCode(t))},t.prototype.optionalOperator=function(t){return this.next.isOperator(t)?(this.advance(),!0):!1},t.prototype.expectOperator=function(t){this.optionalOperator(t)||this.error("Missing expected operator "+t)},t.prototype.expectIdentifierOrKeyword=function(){var t=this.next;return t.isIdentifier()||t.isKeyword()||this.error("Unexpected token "+t+", expected identifier or keyword"),this.advance(),t.toString()},t.prototype.expectIdentifierOrKeywordOrString=function(){var t=this.next;return t.isIdentifier()||t.isKeyword()||t.isString()||this.error("Unexpected token "+t+", expected identifier, keyword, or string"),this.advance(),t.toString()},t.prototype.parseChain=function(){for(var t=[];this.index<this.tokens.length;){var e=this.parsePipe();if(t.push(e),this.optionalCharacter(Sh))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(Sh););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==t.length?new Ip:1==t.length?t[0]:new Mp(t)},t.prototype.parsePipe=function(){var t=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var e=this.expectIdentifierOrKeyword(),n=[];this.optionalCharacter(Eh);)n.push(this.parseExpression());t=new Up(t,e,n)}while(this.optionalOperator("|"))}return t},t.prototype.parseExpression=function(){return this.parseConditional()},t.prototype.parseConditional=function(){var t=this.inputIndex,e=this.parseLogicalOr();if(this.optionalOperator("?")){var n=this.parsePipe();if(!this.optionalCharacter(Eh)){var r=this.inputIndex,i=this.input.substring(t,r);this.error("Conditional expression "+i+" requires all 3 expressions")}var o=this.parsePipe();return new Vp(e,n,o)}return e},t.prototype.parseLogicalOr=function(){for(var t=this.parseLogicalAnd();this.optionalOperator("||");)t=new Wp("||",t,this.parseLogicalAnd());return t},t.prototype.parseLogicalAnd=function(){for(var t=this.parseEquality();this.optionalOperator("&&");)t=new Wp("&&",t,this.parseEquality());return t},t.prototype.parseEquality=function(){for(var t=this.parseRelational();;)if(this.optionalOperator("=="))t=new Wp("==",t,this.parseRelational());else if(this.optionalOperator("==="))t=new Wp("===",t,this.parseRelational());else if(this.optionalOperator("!="))t=new Wp("!=",t,this.parseRelational());else{if(!this.optionalOperator("!=="))return t;t=new Wp("!==",t,this.parseRelational())}},t.prototype.parseRelational=function(){for(var t=this.parseAdditive();;)if(this.optionalOperator("<"))t=new Wp("<",t,this.parseAdditive());else if(this.optionalOperator(">"))t=new Wp(">",t,this.parseAdditive());else if(this.optionalOperator("<="))t=new Wp("<=",t,this.parseAdditive());else{if(!this.optionalOperator(">="))return t;t=new Wp(">=",t,this.parseAdditive())}},t.prototype.parseAdditive=function(){for(var t=this.parseMultiplicative();;)if(this.optionalOperator("+"))t=new Wp("+",t,this.parseMultiplicative());else{if(!this.optionalOperator("-"))return t;t=new Wp("-",t,this.parseMultiplicative())}},t.prototype.parseMultiplicative=function(){for(var t=this.parsePrefix();;)if(this.optionalOperator("*"))t=new Wp("*",t,this.parsePrefix());else if(this.optionalOperator("%"))t=new Wp("%",t,this.parsePrefix());else{if(!this.optionalOperator("/"))return t;t=new Wp("/",t,this.parsePrefix())}},t.prototype.parsePrefix=function(){return this.optionalOperator("+")?this.parsePrefix():this.optionalOperator("-")?new Wp("-",new Bp(0),this.parsePrefix()):this.optionalOperator("!")?new Kp(this.parsePrefix()):this.parseCallChain()},t.prototype.parseCallChain=function(){for(var t=this.parsePrimary();;)if(this.optionalCharacter(xh))t=this.parseAccessMemberOrMethodCall(t,!1);else if(this.optionalOperator("?."))t=this.parseAccessMemberOrMethodCall(t,!0);else if(this.optionalCharacter(Rh)){var e=this.parsePipe();if(this.expectCharacter(jh),this.optionalOperator("=")){var n=this.parseConditional();t=new Fp(t,e,n)}else t=new Lp(t,e)}else{if(!this.optionalCharacter(yh))return t;var r=this.parseCallArguments();this.expectCharacter(mh),t=new Xp(t,r)}},t.prototype.parsePrimary=function(){if(this.optionalCharacter(yh)){var t=this.parsePipe();return this.expectCharacter(mh),t}if(this.next.isKeywordNull()||this.next.isKeywordUndefined())return this.advance(),new Bp(null);if(this.next.isKeywordTrue())return this.advance(),new Bp(!0);if(this.next.isKeywordFalse())return this.advance(),new Bp(!1);if(this.optionalCharacter(Rh)){var e=this.parseExpressionList(jh);return this.expectCharacter(jh),new Hp(e)}if(this.next.isCharacter(Jh))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(rf,!1);if(this.next.isNumber()){var n=this.next.toNumber();return this.advance(),new Bp(n)}if(this.next.isString()){var r=this.next.toString();return this.advance(),new Bp(r)}throw this.index>=this.tokens.length?this.error("Unexpected end of expression: "+this.input):this.error("Unexpected token "+this.next),new Ap("Fell through all cases in parsePrimary")},t.prototype.parseExpressionList=function(t){var e=[];if(!this.next.isCharacter(t))do e.push(this.parsePipe());while(this.optionalCharacter(wh));return e},t.prototype.parseLiteralMap=function(){var t=[],e=[];if(this.expectCharacter(Jh),!this.optionalCharacter(Yh)){do{var n=this.expectIdentifierOrKeywordOrString();t.push(n),this.expectCharacter(Eh),e.push(this.parsePipe())}while(this.optionalCharacter(wh));this.expectCharacter(Yh)}return new qp(t,e)},t.prototype.parseAccessMemberOrMethodCall=function(t,e){void 0===e&&(e=!1);var n=this.expectIdentifierOrKeyword();if(this.optionalCharacter(yh)){var r=this.parseCallArguments();return this.expectCharacter(mh),e?new Qp(t,n,r):new Gp(t,n,r)}if(!e){if(this.optionalOperator("=")){this.parseAction||this.error("Bindings cannot contain assignments");var i=this.parseConditional();return new Dp(t,n,i)}return new Rp(t,n)}return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),null):new jp(t,n)},t.prototype.parseCallArguments=function(){if(this.next.isCharacter(mh))return[];var t=[];do t.push(this.parsePipe());while(this.optionalCharacter(wh));return t},t.prototype.parseBlockContent=function(){this.parseAction||this.error("Binding expression cannot contain chained expression");for(var t=[];this.index<this.tokens.length&&!this.next.isCharacter(Yh);){var e=this.parseExpression();if(t.push(e),this.optionalCharacter(Sh))for(;this.optionalCharacter(Sh););}return 0==t.length?new Ip:1==t.length?t[0]:new Mp(t)},t.prototype.expectTemplateBindingKey=function(){var t="",e=!1;do t+=this.expectIdentifierOrKeywordOrString(),e=this.optionalOperator("-"),e&&(t+="-");while(e);return t.toString()},t.prototype.parseTemplateBindings=function(){for(var t=[],e=null,n=[];this.index<this.tokens.length;){var r=this.peekKeywordLet();!r&&this.peekDeprecatedKeywordVar()&&(r=!0,n.push('"var" inside of expressions is deprecated. Use "let" instead!')),!r&&this.peekDeprecatedOperatorHash()&&(r=!0,n.push('"#" inside of expressions is deprecated. Use "let" instead!')),r&&this.advance();var i=this.expectTemplateBindingKey();r||(null==e?e=i:i=e+i[0].toUpperCase()+i.substring(1)),this.optionalCharacter(Eh);var o=null,s=null;if(r)o=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.next!==eh&&!this.peekKeywordLet()&&!this.peekDeprecatedKeywordVar()&&!this.peekDeprecatedOperatorHash()){var a=this.inputIndex,u=this.parsePipe(),c=this.input.substring(a,this.inputIndex);s=new Jp(u,c,this.location)}t.push(new Zp(i,r,o,s)),this.optionalCharacter(Sh)||this.optionalCharacter(wh)}return new uf(t,n)},t.prototype.error=function(t,e){void 0===e&&(e=null),te(e)&&(e=this.index);var n=e<this.tokens.length?"at column "+(this.tokens[e].index+1)+" in":"at the end of the expression";throw new sf(t,this.input,n,this.location)},t}(),hf=function(){function t(){this.simple=!0}return t.check=function(e){var n=new t;return e.visit(n),n.simple},t.prototype.visitImplicitReceiver=function(t,e){},t.prototype.visitInterpolation=function(t,e){this.simple=!1},t.prototype.visitLiteralPrimitive=function(t,e){},t.prototype.visitPropertyRead=function(t,e){},t.prototype.visitPropertyWrite=function(t,e){this.simple=!1},t.prototype.visitSafePropertyRead=function(t,e){this.simple=!1},t.prototype.visitMethodCall=function(t,e){this.simple=!1},t.prototype.visitSafeMethodCall=function(t,e){this.simple=!1},t.prototype.visitFunctionCall=function(t,e){this.simple=!1},t.prototype.visitLiteralArray=function(t,e){this.visitAll(t.expressions)},t.prototype.visitLiteralMap=function(t,e){this.visitAll(t.values)},t.prototype.visitBinary=function(t,e){this.simple=!1},t.prototype.visitPrefixNot=function(t,e){this.simple=!1},t.prototype.visitConditional=function(t,e){this.simple=!1},t.prototype.visitPipe=function(t,e){this.simple=!1},t.prototype.visitKeyedRead=function(t,e){this.simple=!1},t.prototype.visitKeyedWrite=function(t,e){this.simple=!1},t.prototype.visitAll=function(t){for(var e=Sp.createFixedSize(t.length),n=0;n<t.length;++n)e[n]=t[n].visit(this);return e},t.prototype.visitChain=function(t,e){this.simple=!1},t.prototype.visitQuote=function(t,e){this.simple=!1},t}(),ff=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}(),df=function(){function t(t,e,n,r,i){this.switchValue=t,this.type=e,this.cases=n,this.sourceSpan=r,this.switchValueSourceSpan=i}return t.prototype.visit=function(t,e){return t.visitExpansion(this,e)},t}(),vf=function(){function t(t,e,n,r,i){this.value=t,this.expression=e,this.sourceSpan=n,this.valueSourceSpan=r,this.expSourceSpan=i}return t.prototype.visit=function(t,e){return t.visitExpansionCase(this,e)},t}(),yf=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitAttr(this,e)},t}(),mf=function(){function t(t,e,n,r,i,o){this.name=t,this.attrs=e,this.children=n,this.sourceSpan=r,this.startSourceSpan=i,this.endSourceSpan=o}return t.prototype.visit=function(t,e){return t.visitElement(this,e)},t}(),gf=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitComment(this,e)},t}(),_f=function(){function t(t,e,n,r){this.file=t,this.offset=e,this.line=n,this.col=r}return t.prototype.toString=function(){return this.file.url+"@"+this.line+":"+this.col},t}(),wf=function(){function t(t,e){this.content=t,this.url=e}return t}(),bf=function(){function t(t,e){this.start=t,this.end=e}return t.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},t}();!function(t){t[t.WARNING=0]="WARNING",t[t.FATAL=1]="FATAL"}(lf||(lf={}));var xf,Cf=function(){function t(t,e,n){void 0===n&&(n=lf.FATAL),this.span=t,this.msg=e,this.level=n}return t.prototype.toString=function(){var t=this.span.start.file.content,e=this.span.start.offset;e>t.length-1&&(e=t.length-1);for(var n=e,r=0,i=0;100>r&&e>0&&(e--,r++,"\n"!=t[e]||3!=++i););for(r=0,i=0;100>r&&n<t.length-1&&(n++,r++,"\n"!=t[n]||3!=++i););var o=t.substring(e,this.span.start.offset)+"[ERROR ->]"+t.substring(this.span.start.offset,n+1);return this.msg+' ("'+o+'"): '+this.span.start},t}(),Ef={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",alefsym:"ℵ",Alpha:"Α",alpha:"α",amp:"&",and:"∧",ang:"∠",apos:"'",Aring:"Å",aring:"å",asymp:"≈",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",bdquo:"„",Beta:"Β",beta:"β",brvbar:"¦",bull:"•",cap:"∩",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",Chi:"Χ",chi:"χ",circ:"ˆ",clubs:"♣",cong:"≅",copy:"©",crarr:"↵",cup:"∪",curren:"¤",dagger:"†",Dagger:"‡",darr:"↓",dArr:"⇓",deg:"°",Delta:"Δ",delta:"δ",diams:"♦",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",empty:"∅",emsp:" ",ensp:" ",Epsilon:"Ε",epsilon:"ε",equiv:"≡",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",exist:"∃",fnof:"ƒ",forall:"∀",frac12:"½",frac14:"¼",frac34:"¾",frasl:"⁄",Gamma:"Γ",gamma:"γ",ge:"≥",gt:">",harr:"↔",hArr:"⇔",hearts:"♥",hellip:"…",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",image:"ℑ",infin:"∞",int:"∫",Iota:"Ι",iota:"ι",iquest:"¿",isin:"∈",Iuml:"Ï",iuml:"ï",Kappa:"Κ",kappa:"κ",Lambda:"Λ",lambda:"λ",lang:"⟨",laquo:"«",larr:"←",lArr:"⇐",lceil:"⌈",ldquo:"“",le:"≤",lfloor:"⌊",lowast:"∗",loz:"◊",lrm:"‎",lsaquo:"‹",lsquo:"‘",lt:"<",macr:"¯",mdash:"—",micro:"µ",middot:"·",minus:"−",Mu:"Μ",mu:"μ",nabla:"∇",nbsp:" ",ndash:"–",ne:"≠",ni:"∋",not:"¬",notin:"∉",nsub:"⊄",Ntilde:"Ñ",ntilde:"ñ",Nu:"Ν",nu:"ν",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",OElig:"Œ",oelig:"œ",Ograve:"Ò",ograve:"ò",oline:"‾",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",oplus:"⊕",or:"∨",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",otimes:"⊗",Ouml:"Ö",ouml:"ö",para:"¶",permil:"‰",perp:"⊥",Phi:"Φ",phi:"φ",Pi:"Π",pi:"π",piv:"ϖ",plusmn:"±",pound:"£",prime:"′",Prime:"″",prod:"∏",prop:"∝",Psi:"Ψ",psi:"ψ",quot:'"',radic:"√",rang:"⟩",raquo:"»",rarr:"→",rArr:"⇒",rceil:"⌉",rdquo:"”",real:"ℜ",reg:"®",rfloor:"⌋",Rho:"Ρ",rho:"ρ",rlm:"‏",rsaquo:"›",rsquo:"’",sbquo:"‚",Scaron:"Š",scaron:"š",sdot:"⋅",sect:"§",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sim:"∼",spades:"♠",sub:"⊂",sube:"⊆",sum:"∑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supe:"⊇",szlig:"ß",Tau:"Τ",tau:"τ",there4:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thinsp:" ",THORN:"Þ",thorn:"þ",tilde:"˜",times:"×",trade:"™",Uacute:"Ú",uacute:"ú",uarr:"↑",uArr:"⇑",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",Uuml:"Ü",uuml:"ü",weierp:"℘",Xi:"Ξ",xi:"ξ",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ",Yuml:"Ÿ",Zeta:"Ζ",zeta:"ζ",zwj:"‍",zwnj:"‌"};!function(t){t[t.RAW_TEXT=0]="RAW_TEXT",t[t.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",t[t.PARSABLE_DATA=2]="PARSABLE_DATA"}(xf||(xf={}));var Sf,Pf=function(){function t(t){var e=this,n=void 0===t?{}:t,r=n.closedByChildren,i=n.requiredParents,o=n.implicitNamespacePrefix,s=n.contentType,a=n.closedByParent,u=n.isVoid,c=n.ignoreFirstLf;this.closedByChildren={},this.closedByParent=!1,$t(r)&&r.length>0&&r.forEach(function(t){return e.closedByChildren[t]=!0}),this.isVoid=he(u),this.closedByParent=he(a)||this.isVoid,$t(i)&&i.length>0&&(this.requiredParents={},this.parentToAdd=i[0],i.forEach(function(t){return e.requiredParents[t]=!0})),this.implicitNamespacePrefix=o,this.contentType=$t(s)?s:xf.PARSABLE_DATA,this.ignoreFirstLf=he(c)}return t.prototype.requireExtraParent=function(t){if(te(this.requiredParents))return!1;if(te(t))return!0;var e=t.toLowerCase();return 1!=this.requiredParents[e]&&"template"!=e},t.prototype.isClosedByChild=function(t){return this.isVoid||he(this.closedByChildren[t.toLowerCase()])},t}(),kf={base:new Pf({isVoid:!0}),meta:new Pf({isVoid:!0}),area:new Pf({isVoid:!0}),embed:new Pf({isVoid:!0}),link:new Pf({isVoid:!0}),img:new Pf({isVoid:!0}),input:new Pf({isVoid:!0}),param:new Pf({isVoid:!0}),hr:new Pf({isVoid:!0}),br:new Pf({isVoid:!0}),source:new Pf({isVoid:!0}),track:new Pf({isVoid:!0}),wbr:new Pf({isVoid:!0}),p:new Pf({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new Pf({closedByChildren:["tbody","tfoot"]}),tbody:new Pf({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new Pf({closedByChildren:["tbody"],closedByParent:!0}),tr:new Pf({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new Pf({closedByChildren:["td","th"],closedByParent:!0}),th:new Pf({closedByChildren:["td","th"],closedByParent:!0}),col:new Pf({requiredParents:["colgroup"],isVoid:!0}),svg:new Pf({implicitNamespacePrefix:"svg"}),math:new Pf({implicitNamespacePrefix:"math"}),li:new Pf({closedByChildren:["li"],closedByParent:!0}),dt:new Pf({closedByChildren:["dt","dd"]}),dd:new Pf({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new Pf({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new Pf({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new Pf({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new Pf({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new Pf({closedByChildren:["optgroup"],closedByParent:!0}),option:new Pf({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new Pf({ignoreFirstLf:!0}),listing:new Pf({ignoreFirstLf:!0}),style:new Pf({contentType:xf.RAW_TEXT}),script:new Pf({contentType:xf.RAW_TEXT}),title:new Pf({contentType:xf.ESCAPABLE_RAW_TEXT}),textarea:new Pf({contentType:xf.ESCAPABLE_RAW_TEXT,
ignoreFirstLf:!0})},Af=new Pf,Tf=/^@([^:]+):(.+)/g;!function(t){t[t.TAG_OPEN_START=0]="TAG_OPEN_START",t[t.TAG_OPEN_END=1]="TAG_OPEN_END",t[t.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",t[t.TAG_CLOSE=3]="TAG_CLOSE",t[t.TEXT=4]="TEXT",t[t.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",t[t.RAW_TEXT=6]="RAW_TEXT",t[t.COMMENT_START=7]="COMMENT_START",t[t.COMMENT_END=8]="COMMENT_END",t[t.CDATA_START=9]="CDATA_START",t[t.CDATA_END=10]="CDATA_END",t[t.ATTR_NAME=11]="ATTR_NAME",t[t.ATTR_VALUE=12]="ATTR_VALUE",t[t.DOC_TYPE=13]="DOC_TYPE",t[t.EXPANSION_FORM_START=14]="EXPANSION_FORM_START",t[t.EXPANSION_CASE_VALUE=15]="EXPANSION_CASE_VALUE",t[t.EXPANSION_CASE_EXP_START=16]="EXPANSION_CASE_EXP_START",t[t.EXPANSION_CASE_EXP_END=17]="EXPANSION_CASE_EXP_END",t[t.EXPANSION_FORM_END=18]="EXPANSION_FORM_END",t[t.EOF=19]="EOF"}(Sf||(Sf={}));var Of=function(){function t(t,e,n){this.type=t,this.parts=e,this.sourceSpan=n}return t}(),If=function(t){function e(e,n,r){t.call(this,r,e),this.tokenType=n}return __extends(e,t),e}(Cf),Nf=function(){function t(t,e){this.tokens=t,this.errors=e}return t}(),Mf=0,Vf=9,Rf=10,Df=13,jf=32,Lf=33,Ff=34,Uf=35,Bf=38,Hf=39,qf=45,zf=47,Wf=48,Kf=59,Gf=57,Qf=58,Xf=60,Jf=61,Zf=62,Yf=91,$f=93,td=123,ed=125,nd=44,rd=65,id=70,od=88,sd=90,ad=97,ud=102,cd=122,ld=120,pd=160,hd=/\r\n?/g,fd=function(){function t(t){this.error=t}return t}(),dd=function(){function t(t,e){this.file=t,this.tokenizeExpansionForms=e,this.peek=-1,this.nextPeek=-1,this.index=-1,this.line=0,this.column=-1,this.expansionCaseStack=[],this.tokens=[],this.errors=[],this.input=t.content,this.length=t.content.length,this._advance()}return t.prototype._processCarriageReturns=function(t){return vl.replaceAll(t,hd,"\n")},t.prototype.tokenize=function(){for(;this.peek!==Mf;){var t=this._getLocation();try{this._attemptCharCode(Xf)?this._attemptCharCode(Lf)?this._attemptCharCode(Yf)?this._consumeCdata(t):this._attemptCharCode(qf)?this._consumeComment(t):this._consumeDocType(t):this._attemptCharCode(zf)?this._consumeTagClose(t):this._consumeTagOpen(t):Qe(this.peek,this.nextPeek)&&this.tokenizeExpansionForms?this._consumeExpansionFormStart():this.peek===Jf&&this.tokenizeExpansionForms?this._consumeExpansionCaseStart():this.peek===ed&&this.isInExpansionCase()&&this.tokenizeExpansionForms?this._consumeExpansionCaseEnd():this.peek===ed&&this.isInExpansionForm()&&this.tokenizeExpansionForms?this._consumeExpansionFormEnd():this._consumeText()}catch(t){if(!(t instanceof fd))throw t;this.errors.push(t.error)}}return this._beginToken(Sf.EOF),this._endToken([]),new Nf($e(this.tokens),this.errors)},t.prototype._getLocation=function(){return new _f(this.file,this.index,this.line,this.column)},t.prototype._getSpan=function(t,e){return te(t)&&(t=this._getLocation()),te(e)&&(e=this._getLocation()),new bf(t,e)},t.prototype._beginToken=function(t,e){void 0===e&&(e=null),te(e)&&(e=this._getLocation()),this.currentTokenStart=e,this.currentTokenType=t},t.prototype._endToken=function(t,e){void 0===e&&(e=null),te(e)&&(e=this._getLocation());var n=new Of(this.currentTokenType,t,new bf(this.currentTokenStart,e));return this.tokens.push(n),this.currentTokenStart=null,this.currentTokenType=null,n},t.prototype._createError=function(t,e){var n=new If(t,this.currentTokenType,e);return this.currentTokenStart=null,this.currentTokenType=null,new fd(n)},t.prototype._advance=function(){if(this.index>=this.length)throw this._createError(Ue(Mf),this._getSpan());this.peek===Rf?(this.line++,this.column=0):this.peek!==Rf&&this.peek!==Df&&this.column++,this.index++,this.peek=this.index>=this.length?Mf:vl.charCodeAt(this.input,this.index),this.nextPeek=this.index+1>=this.length?Mf:vl.charCodeAt(this.input,this.index+1)},t.prototype._attemptCharCode=function(t){return this.peek===t?(this._advance(),!0):!1},t.prototype._attemptCharCodeCaseInsensitive=function(t){return Ze(this.peek,t)?(this._advance(),!0):!1},t.prototype._requireCharCode=function(t){var e=this._getLocation();if(!this._attemptCharCode(t))throw this._createError(Ue(this.peek),this._getSpan(e,e))},t.prototype._attemptStr=function(t){for(var e=0;e<t.length;e++)if(!this._attemptCharCode(vl.charCodeAt(t,e)))return!1;return!0},t.prototype._attemptStrCaseInsensitive=function(t){for(var e=0;e<t.length;e++)if(!this._attemptCharCodeCaseInsensitive(vl.charCodeAt(t,e)))return!1;return!0},t.prototype._requireStr=function(t){var e=this._getLocation();if(!this._attemptStr(t))throw this._createError(Ue(this.peek),this._getSpan(e))},t.prototype._attemptCharCodeUntilFn=function(t){for(;!t(this.peek);)this._advance()},t.prototype._requireCharCodeUntilFn=function(t,e){var n=this._getLocation();if(this._attemptCharCodeUntilFn(t),this.index-n.offset<e)throw this._createError(Ue(this.peek),this._getSpan(n,n))},t.prototype._attemptUntilChar=function(t){for(;this.peek!==t;)this._advance()},t.prototype._readChar=function(t){if(t&&this.peek===Bf)return this._decodeEntity();var e=this.index;return this._advance(),this.input[e]},t.prototype._decodeEntity=function(){var t=this._getLocation();if(this._advance(),!this._attemptCharCode(Uf)){var e=this._savePosition();if(this._attemptCharCodeUntilFn(Ge),this.peek!=Kf)return this._restorePosition(e),"&";this._advance();var n=this.input.substring(t.offset+1,this.index-1),r=Ef[n];if(te(r))throw this._createError(Be(n),this._getSpan(t));return r}var i=this._attemptCharCode(ld)||this._attemptCharCode(od),o=this._getLocation().offset;if(this._attemptCharCodeUntilFn(Ke),this.peek!=Kf)throw this._createError(Ue(this.peek),this._getSpan());this._advance();var s=this.input.substring(o,this.index-1);try{var a=gl.parseInt(s,i?16:10);return vl.fromCharCode(a)}catch(e){var u=this.input.substring(t.offset+1,this.index-1);throw this._createError(Be(u),this._getSpan(t))}},t.prototype._consumeRawText=function(t,e,n){var r,i=this._getLocation();this._beginToken(t?Sf.ESCAPABLE_RAW_TEXT:Sf.RAW_TEXT,i);for(var o=[];;){if(r=this._getLocation(),this._attemptCharCode(e)&&n())break;for(this.index>r.offset&&o.push(this.input.substring(r.offset,this.index));this.peek!==e;)o.push(this._readChar(t))}return this._endToken([this._processCarriageReturns(o.join(""))],r)},t.prototype._consumeComment=function(t){var e=this;this._beginToken(Sf.COMMENT_START,t),this._requireCharCode(qf),this._endToken([]);var n=this._consumeRawText(!1,qf,function(){return e._attemptStr("->")});this._beginToken(Sf.COMMENT_END,n.sourceSpan.end),this._endToken([])},t.prototype._consumeCdata=function(t){var e=this;this._beginToken(Sf.CDATA_START,t),this._requireStr("CDATA["),this._endToken([]);var n=this._consumeRawText(!1,$f,function(){return e._attemptStr("]>")});this._beginToken(Sf.CDATA_END,n.sourceSpan.end),this._endToken([])},t.prototype._consumeDocType=function(t){this._beginToken(Sf.DOC_TYPE,t),this._attemptUntilChar(Zf),this._advance(),this._endToken([this.input.substring(t.offset+2,this.index-1)])},t.prototype._consumePrefixAndName=function(){for(var t=this.index,e=null;this.peek!==Qf&&!We(this.peek);)this._advance();var n;this.peek===Qf?(this._advance(),e=this.input.substring(t,this.index-1),n=this.index):n=t,this._requireCharCodeUntilFn(ze,this.index===n?1:0);var r=this.input.substring(n,this.index);return[e,r]},t.prototype._consumeTagOpen=function(t){var e,n=this._savePosition();try{if(!Xe(this.peek))throw this._createError(Ue(this.peek),this._getSpan());var r=this.index;for(this._consumeTagOpenStart(t),e=this.input.substring(r,this.index).toLowerCase(),this._attemptCharCodeUntilFn(He);this.peek!==zf&&this.peek!==Zf;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(He),this._attemptCharCode(Jf)&&(this._attemptCharCodeUntilFn(He),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(He);this._consumeTagOpenEnd()}catch(e){if(e instanceof fd)return this._restorePosition(n),this._beginToken(Sf.TEXT,t),void this._endToken(["<"]);throw e}var i=Re(e).contentType;i===xf.RAW_TEXT?this._consumeRawTextWithTagClose(e,!1):i===xf.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(e,!0)},t.prototype._consumeRawTextWithTagClose=function(t,e){var n=this,r=this._consumeRawText(e,Xf,function(){return n._attemptCharCode(zf)?(n._attemptCharCodeUntilFn(He),n._attemptStrCaseInsensitive(t)?(n._attemptCharCodeUntilFn(He),!!n._attemptCharCode(Zf)):!1):!1});this._beginToken(Sf.TAG_CLOSE,r.sourceSpan.end),this._endToken([null,t])},t.prototype._consumeTagOpenStart=function(t){this._beginToken(Sf.TAG_OPEN_START,t);var e=this._consumePrefixAndName();this._endToken(e)},t.prototype._consumeAttributeName=function(){this._beginToken(Sf.ATTR_NAME);var t=this._consumePrefixAndName();this._endToken(t)},t.prototype._consumeAttributeValue=function(){this._beginToken(Sf.ATTR_VALUE);var t;if(this.peek===Hf||this.peek===Ff){var e=this.peek;this._advance();for(var n=[];this.peek!==e;)n.push(this._readChar(!0));t=n.join(""),this._advance()}else{var r=this.index;this._requireCharCodeUntilFn(ze,1),t=this.input.substring(r,this.index)}this._endToken([this._processCarriageReturns(t)])},t.prototype._consumeTagOpenEnd=function(){var t=this._attemptCharCode(zf)?Sf.TAG_OPEN_END_VOID:Sf.TAG_OPEN_END;this._beginToken(t),this._requireCharCode(Zf),this._endToken([])},t.prototype._consumeTagClose=function(t){this._beginToken(Sf.TAG_CLOSE,t),this._attemptCharCodeUntilFn(He);var e;e=this._consumePrefixAndName(),this._attemptCharCodeUntilFn(He),this._requireCharCode(Zf),this._endToken(e)},t.prototype._consumeExpansionFormStart=function(){this._beginToken(Sf.EXPANSION_FORM_START,this._getLocation()),this._requireCharCode(td),this._endToken([]),this._beginToken(Sf.RAW_TEXT,this._getLocation());var t=this._readUntil(nd);this._endToken([t],this._getLocation()),this._requireCharCode(nd),this._attemptCharCodeUntilFn(He),this._beginToken(Sf.RAW_TEXT,this._getLocation());var e=this._readUntil(nd);this._endToken([e],this._getLocation()),this._requireCharCode(nd),this._attemptCharCodeUntilFn(He),this.expansionCaseStack.push(Sf.EXPANSION_FORM_START)},t.prototype._consumeExpansionCaseStart=function(){this._requireCharCode(Jf),this._beginToken(Sf.EXPANSION_CASE_VALUE,this._getLocation());var t=this._readUntil(td).trim();this._endToken([t],this._getLocation()),this._attemptCharCodeUntilFn(He),this._beginToken(Sf.EXPANSION_CASE_EXP_START,this._getLocation()),this._requireCharCode(td),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(He),this.expansionCaseStack.push(Sf.EXPANSION_CASE_EXP_START)},t.prototype._consumeExpansionCaseEnd=function(){this._beginToken(Sf.EXPANSION_CASE_EXP_END,this._getLocation()),this._requireCharCode(ed),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(He),this.expansionCaseStack.pop()},t.prototype._consumeExpansionFormEnd=function(){this._beginToken(Sf.EXPANSION_FORM_END,this._getLocation()),this._requireCharCode(ed),this._endToken([]),this.expansionCaseStack.pop()},t.prototype._consumeText=function(){var t=this._getLocation();this._beginToken(Sf.TEXT,t);var e=[],n=!1;for(this.peek===td&&this.nextPeek===td?(e.push(this._readChar(!0)),e.push(this._readChar(!0)),n=!0):e.push(this._readChar(!0));!this.isTextEnd(n);)this.peek===td&&this.nextPeek===td?(e.push(this._readChar(!0)),e.push(this._readChar(!0)),n=!0):this.peek===ed&&this.nextPeek===ed&&n?(e.push(this._readChar(!0)),e.push(this._readChar(!0)),n=!1):e.push(this._readChar(!0));this._endToken([this._processCarriageReturns(e.join(""))])},t.prototype.isTextEnd=function(t){if(this.peek===Xf||this.peek===Mf)return!0;if(this.tokenizeExpansionForms){if(Qe(this.peek,this.nextPeek))return!0;if(this.peek===ed&&!t&&(this.isInExpansionCase()||this.isInExpansionForm()))return!0}return!1},t.prototype._savePosition=function(){return[this.peek,this.index,this.column,this.line,this.tokens.length]},t.prototype._readUntil=function(t){var e=this.index;return this._attemptUntilChar(t),this.input.substring(e,this.index)},t.prototype._restorePosition=function(t){this.peek=t[0],this.index=t[1],this.column=t[2],this.line=t[3];var e=t[4];e<this.tokens.length&&(this.tokens=Sp.slice(this.tokens,0,e))},t.prototype.isInExpansionCase=function(){return this.expansionCaseStack.length>0&&this.expansionCaseStack[this.expansionCaseStack.length-1]===Sf.EXPANSION_CASE_EXP_START},t.prototype.isInExpansionForm=function(){return this.expansionCaseStack.length>0&&this.expansionCaseStack[this.expansionCaseStack.length-1]===Sf.EXPANSION_FORM_START},t}(),vd=function(t){function e(e,n,r){t.call(this,n,r),this.elementName=e}return __extends(e,t),e.create=function(t,n,r){return new e(t,n,r)},e}(Cf),yd=function(){function t(t,e){this.rootNodes=t,this.errors=e}return t}(),md=function(){function t(){}return t.prototype.parse=function(t,e,n){void 0===n&&(n=!1);var r=Fe(t,e,n),i=new _d(r.tokens).build();return new yd(i.rootNodes,r.errors.concat(i.errors))},t}();md.decorators=[{type:Ws}];var gd,_d=function(){function t(t){this.tokens=t,this.index=-1,this.rootNodes=[],this.errors=[],this.elementStack=[],this._advance()}return t.prototype.build=function(){for(;this.peek.type!==Sf.EOF;)this.peek.type===Sf.TAG_OPEN_START?this._consumeStartTag(this._advance()):this.peek.type===Sf.TAG_CLOSE?this._consumeEndTag(this._advance()):this.peek.type===Sf.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this.peek.type===Sf.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this.peek.type===Sf.TEXT||this.peek.type===Sf.RAW_TEXT||this.peek.type===Sf.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this.peek.type===Sf.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new yd(this.rootNodes,this.errors)},t.prototype._advance=function(){var t=this.peek;return this.index<this.tokens.length-1&&this.index++,this.peek=this.tokens[this.index],t},t.prototype._advanceIf=function(t){return this.peek.type===t?this._advance():null},t.prototype._consumeCdata=function(t){this._consumeText(this._advance()),this._advanceIf(Sf.CDATA_END)},t.prototype._consumeComment=function(t){var e=this._advanceIf(Sf.RAW_TEXT);this._advanceIf(Sf.COMMENT_END);var n=$t(e)?e.parts[0].trim():null;this._addToParent(new gf(n,t.sourceSpan))},t.prototype._consumeExpansion=function(t){for(var e=this._advance(),n=this._advance(),r=[];this.peek.type===Sf.EXPANSION_CASE_VALUE;){var i=this._parseExpansionCase();if(te(i))return;r.push(i)}if(this.peek.type!==Sf.EXPANSION_FORM_END)return void this.errors.push(vd.create(null,this.peek.sourceSpan,"Invalid expansion form. Missing '}'."));this._advance();var o=new bf(t.sourceSpan.start,this.peek.sourceSpan.end);this._addToParent(new df(e.parts[0],n.parts[0],r,o,e.sourceSpan))},t.prototype._parseExpansionCase=function(){var e=this._advance();if(this.peek.type!==Sf.EXPANSION_CASE_EXP_START)return this.errors.push(vd.create(null,this.peek.sourceSpan,"Invalid expansion form. Missing '{'.,")),null;var n=this._advance(),r=this._collectExpansionExpTokens(n);if(te(r))return null;var i=this._advance();r.push(new Of(Sf.EOF,[],i.sourceSpan));var o=new t(r).build();if(o.errors.length>0)return this.errors=this.errors.concat(o.errors),null;var s=new bf(e.sourceSpan.start,i.sourceSpan.end),a=new bf(n.sourceSpan.start,i.sourceSpan.end);return new vf(e.parts[0],o.rootNodes,s,e.sourceSpan,a)},t.prototype._collectExpansionExpTokens=function(t){for(var e=[],n=[Sf.EXPANSION_CASE_EXP_START];;){if(this.peek.type!==Sf.EXPANSION_FORM_START&&this.peek.type!==Sf.EXPANSION_CASE_EXP_START||n.push(this.peek.type),this.peek.type===Sf.EXPANSION_CASE_EXP_END){if(!en(n,Sf.EXPANSION_CASE_EXP_START))return this.errors.push(vd.create(null,t.sourceSpan,"Invalid expansion form. Missing '}'.")),null;if(n.pop(),0==n.length)return e}if(this.peek.type===Sf.EXPANSION_FORM_END){if(!en(n,Sf.EXPANSION_FORM_START))return this.errors.push(vd.create(null,t.sourceSpan,"Invalid expansion form. Missing '}'.")),null;n.pop()}if(this.peek.type===Sf.EOF)return this.errors.push(vd.create(null,t.sourceSpan,"Invalid expansion form. Missing '}'.")),null;e.push(this._advance())}},t.prototype._consumeText=function(t){var e=t.parts[0];if(e.length>0&&"\n"==e[0]){var n=this._getParentElement();$t(n)&&0==n.children.length&&Re(n.name).ignoreFirstLf&&(e=e.substring(1))}e.length>0&&this._addToParent(new ff(e,t.sourceSpan))},t.prototype._closeVoidElement=function(){if(this.elementStack.length>0){var t=Sp.last(this.elementStack);Re(t.name).isVoid&&this.elementStack.pop()}},t.prototype._consumeStartTag=function(t){for(var e=t.parts[0],n=t.parts[1],r=[];this.peek.type===Sf.ATTR_NAME;)r.push(this._consumeAttr(this._advance()));var i=tn(e,n,this._getParentElement()),o=!1;this.peek.type===Sf.TAG_OPEN_END_VOID?(this._advance(),o=!0,null!=je(i)||Re(i).isVoid||this.errors.push(vd.create(i,t.sourceSpan,'Only void and foreign elements can be self closed "'+t.parts[1]+'"'))):this.peek.type===Sf.TAG_OPEN_END&&(this._advance(),o=!1);var s=this.peek.sourceSpan.start,a=new bf(t.sourceSpan.start,s),u=new mf(i,r,[],a,a,null);this._pushElement(u),o&&(this._popElement(i),u.endSourceSpan=a)},t.prototype._pushElement=function(t){if(this.elementStack.length>0){var e=Sp.last(this.elementStack);Re(e.name).isClosedByChild(t.name)&&this.elementStack.pop()}var n=Re(t.name),e=this._getParentElement();if(n.requireExtraParent($t(e)?e.name:null)){var r=new mf(n.parentToAdd,[],[t],t.sourceSpan,t.startSourceSpan,t.endSourceSpan);this._addToParent(r),this.elementStack.push(r),this.elementStack.push(t)}else this._addToParent(t),this.elementStack.push(t)},t.prototype._consumeEndTag=function(t){var e=tn(t.parts[0],t.parts[1],this._getParentElement());this._getParentElement().endSourceSpan=t.sourceSpan,Re(e).isVoid?this.errors.push(vd.create(e,t.sourceSpan,'Void elements do not have end tags "'+t.parts[1]+'"')):this._popElement(e)||this.errors.push(vd.create(e,t.sourceSpan,'Unexpected closing tag "'+t.parts[1]+'"'))},t.prototype._popElement=function(t){for(var e=this.elementStack.length-1;e>=0;e--){var n=this.elementStack[e];if(n.name==t)return Sp.splice(this.elementStack,e,this.elementStack.length-e),!0;if(!Re(n.name).closedByParent)return!1}return!1},t.prototype._consumeAttr=function(t){var e=Le(t.parts[0],t.parts[1]),n=t.sourceSpan.end,r="";if(this.peek.type===Sf.ATTR_VALUE){var i=this._advance();r=i.parts[0],n=i.sourceSpan.end}return new yf(e,r,new bf(t.sourceSpan.start,n))},t.prototype._getParentElement=function(){return this.elementStack.length>0?Sp.last(this.elementStack):null},t.prototype._addToParent=function(t){var e=this._getParentElement();$t(e)?e.children.push(t):this.rootNodes.push(t)},t}(),wd="",bd=_l.create("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-\\w*]+)(?:=([^\\]]*))?\\])|(\\))|(\\s*,\\s*)"),xd=function(){function t(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return t.parse=function(e){for(var n,r=[],i=function(t,e){e.notSelectors.length>0&&te(e.element)&&Sp.isEmpty(e.classNames)&&Sp.isEmpty(e.attrs)&&(e.element="*"),t.push(e)},o=new t,s=_l.matcher(bd,e),a=o,u=!1;$t(n=wl.next(s));){if($t(n[1])){if(u)throw new Ap("Nesting :not is not allowed in a selector");u=!0,a=new t,o.notSelectors.push(a)}if($t(n[2])&&a.setElement(n[2]),$t(n[3])&&a.addClassName(n[3]),$t(n[4])&&a.addAttribute(n[4],n[5]),$t(n[6])&&(u=!1,a=o),$t(n[7])){if(u)throw new Ap("Multiple selectors in :not are not supported");i(r,o),o=a=new t}}return i(r,o),r},t.prototype.isElementSelector=function(){return $t(this.element)&&Sp.isEmpty(this.classNames)&&Sp.isEmpty(this.attrs)&&0===this.notSelectors.length},t.prototype.setElement=function(t){void 0===t&&(t=null),this.element=t},t.prototype.getMatchingElementTemplate=function(){for(var t=$t(this.element)?this.element:"div",e=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",n="",r=0;r<this.attrs.length;r+=2){var i=this.attrs[r],o=""!==this.attrs[r+1]?'="'+this.attrs[r+1]+'"':"";n+=" "+i+o}return"<"+t+e+n+"></"+t+">"},t.prototype.addAttribute=function(t,e){void 0===e&&(e=wd),this.attrs.push(t),e=$t(e)?e.toLowerCase():wd,this.attrs.push(e)},t.prototype.addClassName=function(t){this.classNames.push(t.toLowerCase())},t.prototype.toString=function(){var t="";if($t(this.element)&&(t+=this.element),$t(this.classNames))for(var e=0;e<this.classNames.length;e++)t+="."+this.classNames[e];if($t(this.attrs))for(var e=0;e<this.attrs.length;){var n=this.attrs[e++],r=this.attrs[e++];t+="["+n,r.length>0&&(t+="="+r),t+="]"}return this.notSelectors.forEach(function(e){return t+=":not("+e+")"}),t},t}(),Cd=function(){function t(){this._elementMap=new xp,this._elementPartialMap=new xp,this._classMap=new xp,this._classPartialMap=new xp,this._attrValueMap=new xp,this._attrValuePartialMap=new xp,this._listContexts=[]}return t.createNotMatcher=function(e){var n=new t;return n.addSelectables(e,null),n},t.prototype.addSelectables=function(t,e){var n=null;t.length>1&&(n=new Ed(t),this._listContexts.push(n));for(var r=0;r<t.length;r++)this._addSelectable(t[r],e,n)},t.prototype._addSelectable=function(t,e,n){var r=this,i=t.element,o=t.classNames,s=t.attrs,a=new Sd(t,e,n);if($t(i)){var u=0===s.length&&0===o.length;u?this._addTerminal(r._elementMap,i,a):r=this._addPartial(r._elementPartialMap,i)}if($t(o))for(var c=0;c<o.length;c++){var u=0===s.length&&c===o.length-1,l=o[c];u?this._addTerminal(r._classMap,l,a):r=this._addPartial(r._classPartialMap,l)}if($t(s))for(var c=0;c<s.length;){var u=c===s.length-2,p=s[c++],h=s[c++];if(u){var f=r._attrValueMap,d=f.get(p);te(d)&&(d=new xp,f.set(p,d)),this._addTerminal(d,h,a)}else{var v=r._attrValuePartialMap,y=v.get(p);te(y)&&(y=new xp,v.set(p,y)),r=this._addPartial(y,h)}}},t.prototype._addTerminal=function(t,e,n){var r=t.get(e);te(r)&&(r=[],t.set(e,r)),r.push(n)},t.prototype._addPartial=function(e,n){var r=e.get(n);return te(r)&&(r=new t,e.set(n,r)),r},t.prototype.match=function(t,e){for(var n=!1,r=t.element,i=t.classNames,o=t.attrs,s=0;s<this._listContexts.length;s++)this._listContexts[s].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,r,t,e)||n,n=this._matchPartial(this._elementPartialMap,r,t,e)||n,$t(i))for(var a=0;a<i.length;a++){var u=i[a];n=this._matchTerminal(this._classMap,u,t,e)||n,n=this._matchPartial(this._classPartialMap,u,t,e)||n}if($t(o))for(var a=0;a<o.length;){var c=o[a++],l=o[a++],p=this._attrValueMap.get(c);vl.equals(l,wd)||(n=this._matchTerminal(p,wd,t,e)||n),n=this._matchTerminal(p,l,t,e)||n;var h=this._attrValuePartialMap.get(c);vl.equals(l,wd)||(n=this._matchPartial(h,wd,t,e)||n),n=this._matchPartial(h,l,t,e)||n}return n},t.prototype._matchTerminal=function(t,e,n,r){if(te(t)||te(e))return!1;var i=t.get(e),o=t.get("*");if($t(o)&&(i=i.concat(o)),te(i))return!1;for(var s,a=!1,u=0;u<i.length;u++)s=i[u],a=s.finalize(n,r)||a;return a},t.prototype._matchPartial=function(t,e,n,r){if(te(t)||te(e))return!1;var i=t.get(e);return te(i)?!1:i.match(n,r)},t}(),Ed=function(){function t(t){this.selectors=t,this.alreadyMatched=!1}return t}(),Sd=function(){function t(t,e,n){this.selector=t,this.cbContext=e,this.listContext=n,this.notSelectors=t.notSelectors}return t.prototype.finalize=function(t,e){var n=!0;if(this.notSelectors.length>0&&(te(this.listContext)||!this.listContext.alreadyMatched)){var r=Cd.createNotMatcher(this.notSelectors);n=!r.match(t,null)}return n&&$t(e)&&(te(this.listContext)||!this.listContext.alreadyMatched)&&($t(this.listContext)&&(this.listContext.alreadyMatched=!0),e(this.selector,this.cbContext)),n},t}(),Pd="select",kd="ng-content",Ad="link",Td="rel",Od="href",Id="stylesheet",Nd="style",Md="script",Vd="ngNonBindable",Rd="ngProjectAs";!function(t){t[t.NG_CONTENT=0]="NG_CONTENT",t[t.STYLE=1]="STYLE",t[t.STYLESHEET=2]="STYLESHEET",t[t.SCRIPT=3]="SCRIPT",t[t.OTHER=4]="OTHER"}(gd||(gd={}));var Dd=function(){function t(t,e,n,r,i){this.type=t,this.selectAttr=e,this.hrefAttr=n,this.nonBindable=r,this.projectAs=i}return t}(),jd=function(){function t(t,e){this.style=t,this.styleUrls=e}return t}(),Ld=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,Fd=/^([a-zA-Z\-\+\.]+):/g,Ud=cl?".dart":"",Bd=/([A-Z])/g,Hd=function(){function t(){}return t.prototype.visitArray=function(t,e){var n=this;return t.map(function(t){return ln(t,n,e)})},t.prototype.visitStringMap=function(t,e){var n=this,r={};return Ep.forEach(t,function(t,i){r[i]=ln(t,n,e)}),r},t.prototype.visitPrimitive=function(t,e){return t},t.prototype.visitOther=function(t,e){return t},t}(),qd="asset:",zd={provide:Cu,useValue:"/"},Wd=function(){function t(t){void 0===t&&(t=null),this._packagePrefix=t}return t.prototype.resolve=function(t,e){var n=e;$t(t)&&t.length>0&&(n=mn(t,n));var r=dn(n),i=this._packagePrefix;if($t(i)&&$t(r)&&"package"==r[Kd.Scheme]){var o=r[Kd.Path];if(this._packagePrefix!==qd)return i=vl.stripRight(i,"/"),o=vl.stripLeft(o,"/"),i+"/"+o;var s=o.split(/\//);n="asset:"+s[0]+"/lib/"+s.slice(1).join("/")}return n},t}();Wd.decorators=[{type:Ws}],Wd.ctorParameters=[{type:void 0,decorators:[{type:qs,args:[Cu]}]}];var Kd,Gd=_l.create("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");!function(t){t[t.Scheme=1]="Scheme",t[t.UserInfo=2]="UserInfo",t[t.Domain=3]="Domain",t[t.Port=4]="Port",t[t.Path=5]="Path",t[t.QueryData=6]="QueryData",t[t.Fragment=7]="Fragment"}(Kd||(Kd={}));var Qd=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))$/g,Xd=function(){function t(t){var e=void 0===t?{}:t,n=e.runtime,r=e.name,i=e.moduleUrl,o=e.prefix,s=e.value;this.runtime=n,this.name=r,this.prefix=o,this.moduleUrl=i,this.value=s}return t.fromJson=function(e){var n=se(e.value)?wn(e.value,gn):xn(e.value,gn);return new t({name:e.name,prefix:e.prefix,moduleUrl:e.moduleUrl,value:n})},t.prototype.toJson=function(){var t=se(this.value)?bn(this.value):Cn(this.value);return{class:"Identifier",name:this.name,moduleUrl:this.moduleUrl,prefix:this.prefix,value:t}},Object.defineProperty(t.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),t}(),Jd=function(){function t(t){var e=void 0===t?{}:t,n=e.isAttribute,r=e.isSelf,i=e.isHost,o=e.isSkipSelf,s=e.isOptional,a=e.isValue,u=e.query,c=e.viewQuery,l=e.token,p=e.value;this.isAttribute=he(n),this.isSelf=he(r),this.isHost=he(i),this.isSkipSelf=he(o),this.isOptional=he(s),this.isValue=he(a),this.query=u,this.viewQuery=c,this.token=l,this.value=p}return t.fromJson=function(e){return new t({token:xn(e.token,$d.fromJson),query:xn(e.query,nv.fromJson),viewQuery:xn(e.viewQuery,nv.fromJson),value:e.value,isAttribute:e.isAttribute,isSelf:e.isSelf,isHost:e.isHost,isSkipSelf:e.isSkipSelf,isOptional:e.isOptional,isValue:e.isValue})},t.prototype.toJson=function(){return{token:Cn(this.token),query:Cn(this.query),viewQuery:Cn(this.viewQuery),value:this.value,isAttribute:this.isAttribute,isSelf:this.isSelf,isHost:this.isHost,isSkipSelf:this.isSkipSelf,isOptional:this.isOptional,isValue:this.isValue}},t}(),Zd=function(){function t(t){var e=t.token,n=t.useClass,r=t.useValue,i=t.useExisting,o=t.useFactory,s=t.deps,a=t.multi;this.token=e,this.useClass=n,this.useValue=r,this.useExisting=i,this.useFactory=o,this.deps=pe(s),this.multi=he(a)}return t.fromJson=function(e){return new t({token:xn(e.token,$d.fromJson),useClass:xn(e.useClass,ev.fromJson),useExisting:xn(e.useExisting,$d.fromJson),useValue:xn(e.useValue,Xd.fromJson),useFactory:xn(e.useFactory,Yd.fromJson),multi:e.multi,deps:wn(e.deps,Jd.fromJson)})},t.prototype.toJson=function(){return{class:"Provider",token:Cn(this.token),useClass:Cn(this.useClass),useExisting:Cn(this.useExisting),useValue:Cn(this.useValue),useFactory:Cn(this.useFactory),multi:this.multi,deps:bn(this.deps)}},t}(),Yd=function(){function t(t){var e=t.runtime,n=t.name,r=t.moduleUrl,i=t.prefix,o=t.diDeps,s=t.value;this.runtime=e,this.name=n,this.prefix=i,this.moduleUrl=r,this.diDeps=En(o),this.value=s}return Object.defineProperty(t.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),t.fromJson=function(e){return new t({name:e.name,prefix:e.prefix,moduleUrl:e.moduleUrl,value:e.value,diDeps:wn(e.diDeps,Jd.fromJson)})},t.prototype.toJson=function(){return{class:"Factory",name:this.name,prefix:this.prefix,moduleUrl:this.moduleUrl,value:this.value,diDeps:bn(this.diDeps)}},t}(),$d=function(){function t(t){var e=t.value,n=t.identifier,r=t.identifierIsInstance;this.value=e,this.identifier=n,this.identifierIsInstance=he(r)}return t.fromJson=function(e){return new t({value:e.value,identifier:xn(e.identifier,Xd.fromJson),identifierIsInstance:e.identifierIsInstance})},t.prototype.toJson=function(){return{value:this.value,identifier:Cn(this.identifier),identifierIsInstance:this.identifierIsInstance}},Object.defineProperty(t.prototype,"runtimeCacheKey",{get:function(){return $t(this.identifier)?this.identifier.runtime:this.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"assetCacheKey",{get:function(){return $t(this.identifier)?$t(this.identifier.moduleUrl)&&$t(hn(this.identifier.moduleUrl))?this.identifier.name+"|"+this.identifier.moduleUrl+"|"+this.identifierIsInstance:null:this.value},enumerable:!0,configurable:!0}),t.prototype.equalsTo=function(t){var e=this.runtimeCacheKey,n=this.assetCacheKey;return $t(e)&&e==t.runtimeCacheKey||$t(n)&&n==t.assetCacheKey},Object.defineProperty(t.prototype,"name",{get:function(){return $t(this.value)?cn(this.value):this.identifier.name},enumerable:!0,configurable:!0}),t}(),tv=function(){function t(){this._valueMap=new Map,this._values=[]}return t.prototype.add=function(t,e){var n=this.get(t);if($t(n))throw new Ap("Can only add to a TokenMap! Token: "+t.name);this._values.push(e);var r=t.runtimeCacheKey;$t(r)&&this._valueMap.set(r,e);var i=t.assetCacheKey;$t(i)&&this._valueMap.set(i,e)},t.prototype.get=function(t){var e,n=t.runtimeCacheKey,r=t.assetCacheKey;return $t(n)&&(e=this._valueMap.get(n)),te(e)&&$t(r)&&(e=this._valueMap.get(r)),e},t.prototype.values=function(){return this._values},Object.defineProperty(t.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t}(),ev=function(){function t(t){var e=void 0===t?{}:t,n=e.runtime,r=e.name,i=e.moduleUrl,o=e.prefix,s=e.isHost,a=e.value,u=e.diDeps;this.runtime=n,this.name=r,this.moduleUrl=i,this.prefix=o,this.isHost=he(s),this.value=a,this.diDeps=En(u)}return t.fromJson=function(e){return new t({name:e.name,moduleUrl:e.moduleUrl,prefix:e.prefix,isHost:e.isHost,value:e.value,diDeps:wn(e.diDeps,Jd.fromJson)})},Object.defineProperty(t.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.toJson=function(){return{class:"Type",name:this.name,moduleUrl:this.moduleUrl,prefix:this.prefix,isHost:this.isHost,value:this.value,diDeps:bn(this.diDeps)}},t}(),nv=function(){function t(t){var e=void 0===t?{}:t,n=e.selectors,r=e.descendants,i=e.first,o=e.propertyName,s=e.read;this.selectors=n,this.descendants=he(r),this.first=he(i),this.propertyName=o,this.read=s}return t.fromJson=function(e){return new t({selectors:wn(e.selectors,$d.fromJson),descendants:e.descendants,first:e.first,propertyName:e.propertyName,read:xn(e.read,$d.fromJson)})},t.prototype.toJson=function(){return{selectors:bn(this.selectors),descendants:this.descendants,first:this.first,propertyName:this.propertyName,read:Cn(this.read)}},t}(),rv=function(){function t(t){var e=void 0===t?{}:t,n=e.encapsulation,r=e.template,i=e.templateUrl,o=e.styles,s=e.styleUrls,a=e.ngContentSelectors;this.encapsulation=$t(n)?n:xs.Emulated,this.template=r,this.templateUrl=i,this.styles=$t(o)?o:[],this.styleUrls=$t(s)?s:[],this.ngContentSelectors=$t(a)?a:[]}return t.fromJson=function(e){return new t({encapsulation:$t(e.encapsulation)?Yl[e.encapsulation]:e.encapsulation,template:e.template,templateUrl:e.templateUrl,styles:e.styles,styleUrls:e.styleUrls,ngContentSelectors:e.ngContentSelectors})},t.prototype.toJson=function(){return{encapsulation:$t(this.encapsulation)?ce(this.encapsulation):this.encapsulation,template:this.template,templateUrl:this.templateUrl,styles:this.styles,styleUrls:this.styleUrls,ngContentSelectors:this.ngContentSelectors
}},t}(),iv=function(){function t(t){var e=void 0===t?{}:t,n=e.type,r=e.isComponent,i=e.selector,o=e.exportAs,s=e.changeDetection,a=e.inputs,u=e.outputs,c=e.hostListeners,l=e.hostProperties,p=e.hostAttributes,h=e.lifecycleHooks,f=e.providers,d=e.viewProviders,v=e.queries,y=e.viewQueries,m=e.template;this.type=n,this.isComponent=r,this.selector=i,this.exportAs=o,this.changeDetection=s,this.inputs=a,this.outputs=u,this.hostListeners=c,this.hostProperties=l,this.hostAttributes=p,this.lifecycleHooks=En(h),this.providers=En(f),this.viewProviders=En(d),this.queries=En(v),this.viewQueries=En(y),this.template=m}return t.create=function(e){var n=void 0===e?{}:e,r=n.type,i=n.isComponent,o=n.selector,s=n.exportAs,a=n.changeDetection,u=n.inputs,c=n.outputs,l=n.host,p=n.lifecycleHooks,h=n.providers,f=n.viewProviders,d=n.queries,v=n.viewQueries,y=n.template,m={},g={},_={};$t(l)&&Ep.forEach(l,function(t,e){var n=_l.firstMatch(Qd,e);te(n)?_[e]=t:$t(n[1])?g[n[1]]=t:$t(n[2])&&(m[n[2]]=t)});var w={};$t(u)&&u.forEach(function(t){var e=un(t,[t,t]);w[e[0]]=e[1]});var b={};return $t(c)&&c.forEach(function(t){var e=un(t,[t,t]);b[e[0]]=e[1]}),new t({type:r,isComponent:he(i),selector:o,exportAs:s,changeDetection:a,inputs:w,outputs:b,hostListeners:m,hostProperties:g,hostAttributes:_,lifecycleHooks:$t(p)?p:[],providers:h,viewProviders:f,queries:d,viewQueries:v,template:y})},Object.defineProperty(t.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),t.fromJson=function(e){return new t({isComponent:e.isComponent,selector:e.selector,exportAs:e.exportAs,type:$t(e.type)?ev.fromJson(e.type):e.type,changeDetection:$t(e.changeDetection)?Fl[e.changeDetection]:e.changeDetection,inputs:e.inputs,outputs:e.outputs,hostListeners:e.hostListeners,hostProperties:e.hostProperties,hostAttributes:e.hostAttributes,lifecycleHooks:e.lifecycleHooks.map(function(t){return Bl[t]}),template:$t(e.template)?rv.fromJson(e.template):e.template,providers:wn(e.providers,gn),viewProviders:wn(e.viewProviders,gn),queries:wn(e.queries,nv.fromJson),viewQueries:wn(e.viewQueries,nv.fromJson)})},t.prototype.toJson=function(){return{class:"Directive",isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,type:$t(this.type)?this.type.toJson():this.type,changeDetection:$t(this.changeDetection)?ce(this.changeDetection):this.changeDetection,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,lifecycleHooks:this.lifecycleHooks.map(function(t){return ce(t)}),template:$t(this.template)?this.template.toJson():this.template,providers:bn(this.providers),viewProviders:bn(this.viewProviders),queries:bn(this.queries),viewQueries:bn(this.viewQueries)}},t}(),ov=function(){function t(t){var e=void 0===t?{}:t,n=e.type,r=e.name,i=e.pure,o=e.lifecycleHooks;this.type=n,this.name=r,this.pure=he(i),this.lifecycleHooks=En(o)}return Object.defineProperty(t.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),t.fromJson=function(e){return new t({type:$t(e.type)?ev.fromJson(e.type):e.type,name:e.name,pure:e.pure})},t.prototype.toJson=function(){return{class:"Pipe",type:$t(this.type)?this.type.toJson():null,name:this.name,pure:this.pure}},t}(),sv={Directive:iv.fromJson,Pipe:ov.fromJson,Type:ev.fromJson,Provider:Zd.fromJson,Identifier:Xd.fromJson,Factory:Yd.fromJson},av=pn("core","linker/view"),uv=pn("core","linker/view_utils"),cv=pn("core","change_detection/change_detection"),lv=Zl,pv=zl,hv=Wl,fv=$l,dv=ql,vv=Mu,yv=ju,mv=tc,gv=cc,_v=Vc,wv=Fc,bv=ip,xv=rp,Cv=fa,Ev=xs,Sv=Kl,Pv=bs,kv=tp,Av=pc,Tv=ic,Ov=np,Iv=Ll,Nv=Xl,Mv=ep,Vv=Jl,Rv=Ql,Dv=wp,jv=up,Lv=cp,Fv=function(){function t(){}return t}();Fv.ViewUtils=new Xd({name:"ViewUtils",moduleUrl:pn("core","linker/view_utils"),runtime:lv}),Fv.AppView=new Xd({name:"AppView",moduleUrl:av,runtime:pv}),Fv.DebugAppView=new Xd({name:"DebugAppView",moduleUrl:av,runtime:hv}),Fv.AppElement=new Xd({name:"AppElement",moduleUrl:pn("core","linker/element"),runtime:dv}),Fv.ElementRef=new Xd({name:"ElementRef",moduleUrl:pn("core","linker/element_ref"),runtime:vv}),Fv.ViewContainerRef=new Xd({name:"ViewContainerRef",moduleUrl:pn("core","linker/view_container_ref"),runtime:yv}),Fv.ChangeDetectorRef=new Xd({name:"ChangeDetectorRef",moduleUrl:pn("core","change_detection/change_detector_ref"),runtime:mv}),Fv.RenderComponentType=new Xd({name:"RenderComponentType",moduleUrl:pn("core","render/api"),runtime:gv}),Fv.QueryList=new Xd({name:"QueryList",moduleUrl:pn("core","linker/query_list"),runtime:_v}),Fv.TemplateRef=new Xd({name:"TemplateRef",moduleUrl:pn("core","linker/template_ref"),runtime:wv}),Fv.TemplateRef_=new Xd({name:"TemplateRef_",moduleUrl:pn("core","linker/template_ref"),runtime:bv}),Fv.ValueUnwrapper=new Xd({name:"ValueUnwrapper",moduleUrl:cv,runtime:xv}),Fv.Injector=new Xd({name:"Injector",moduleUrl:pn("core","di/injector"),runtime:Cv}),Fv.ViewEncapsulation=new Xd({name:"ViewEncapsulation",moduleUrl:pn("core","metadata/view"),runtime:Ev}),Fv.ViewType=new Xd({name:"ViewType",moduleUrl:pn("core","linker/view_type"),runtime:Sv}),Fv.ChangeDetectionStrategy=new Xd({name:"ChangeDetectionStrategy",moduleUrl:cv,runtime:Pv}),Fv.StaticNodeDebugInfo=new Xd({name:"StaticNodeDebugInfo",moduleUrl:pn("core","linker/debug_context"),runtime:kv}),Fv.DebugContext=new Xd({name:"DebugContext",moduleUrl:pn("core","linker/debug_context"),runtime:fv}),Fv.Renderer=new Xd({name:"Renderer",moduleUrl:pn("core","render/api"),runtime:Av}),Fv.SimpleChange=new Xd({name:"SimpleChange",moduleUrl:cv,runtime:Tv}),Fv.uninitialized=new Xd({name:"uninitialized",moduleUrl:cv,runtime:Ov}),Fv.ChangeDetectorState=new Xd({name:"ChangeDetectorState",moduleUrl:cv,runtime:Iv}),Fv.checkBinding=new Xd({name:"checkBinding",moduleUrl:uv,runtime:Rv}),Fv.flattenNestedViewRenderNodes=new Xd({name:"flattenNestedViewRenderNodes",moduleUrl:uv,runtime:Nv}),Fv.devModeEqual=new Xd({name:"devModeEqual",moduleUrl:cv,runtime:Mv}),Fv.interpolate=new Xd({name:"interpolate",moduleUrl:uv,runtime:Vv}),Fv.castByValue=new Xd({name:"castByValue",moduleUrl:uv,runtime:Dv}),Fv.EMPTY_ARRAY=new Xd({name:"EMPTY_ARRAY",moduleUrl:uv,runtime:jv}),Fv.EMPTY_MAP=new Xd({name:"EMPTY_MAP",moduleUrl:uv,runtime:Lv}),Fv.pureProxies=[null,new Xd({name:"pureProxy1",moduleUrl:uv,runtime:lp}),new Xd({name:"pureProxy2",moduleUrl:uv,runtime:pp}),new Xd({name:"pureProxy3",moduleUrl:uv,runtime:hp}),new Xd({name:"pureProxy4",moduleUrl:uv,runtime:fp}),new Xd({name:"pureProxy5",moduleUrl:uv,runtime:dp}),new Xd({name:"pureProxy6",moduleUrl:uv,runtime:vp}),new Xd({name:"pureProxy7",moduleUrl:uv,runtime:yp}),new Xd({name:"pureProxy8",moduleUrl:uv,runtime:mp}),new Xd({name:"pureProxy9",moduleUrl:uv,runtime:gp}),new Xd({name:"pureProxy10",moduleUrl:uv,runtime:_p})],Fv.SecurityContext=new Xd({name:"SecurityContext",moduleUrl:pn("core","security"),runtime:op});var Uv=function(t){function e(e,n){t.call(this,n,e)}return __extends(e,t),e}(Cf),Bv=function(){function t(t,e){var n=this;this.component=t,this.sourceSpan=e,this.errors=[],this.viewQueries=In(t),this.viewProviders=new tv,An(t.viewProviders,e,this.errors).forEach(function(t){te(n.viewProviders.get(t.token))&&n.viewProviders.add(t.token,!0)})}return t}(),Hv=function(){function t(t,e,n,r,i,o,s){var a=this;this._viewContext=t,this._parent=e,this._isViewRoot=n,this._directiveAsts=r,this._sourceSpan=s,this._transformedProviders=new tv,this._seenProviders=new tv,this._hasViewContainer=!1,this._attrs={},i.forEach(function(t){return a._attrs[t.name]=t.value});var u=r.map(function(t){return t.directive});this._allProviders=Tn(u,s,t.errors),this._contentQueries=Nn(u);var c=new tv;this._allProviders.values().forEach(function(t){a._addQueryReadsTo(t.token,c)}),o.forEach(function(t){a._addQueryReadsTo(new $d({value:t.name}),c)}),$t(c.get(Sn(Fv.ViewContainerRef)))&&(this._hasViewContainer=!0),this._allProviders.values().forEach(function(t){var e=t.eager||$t(c.get(t.token));e&&a._getOrCreateLocalProvider(t.providerType,t.token,!0)})}return t.prototype.afterElement=function(){var t=this;this._allProviders.values().forEach(function(e){t._getOrCreateLocalProvider(e.providerType,e.token,!1)})},Object.defineProperty(t.prototype,"transformProviders",{get:function(){return this._transformedProviders.values()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedDirectiveAsts",{get:function(){var t=this._transformedProviders.values().map(function(t){return t.token.identifier}),e=Sp.clone(this._directiveAsts);return Sp.sort(e,function(e,n){return t.indexOf(e.directive.type)-t.indexOf(n.directive.type)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedHasViewContainer",{get:function(){return this._hasViewContainer},enumerable:!0,configurable:!0}),t.prototype._addQueryReadsTo=function(t,e){this._getQueriesFor(t).forEach(function(n){var r=$t(n.read)?n.read:t;te(e.get(r))&&e.add(r,!0)})},t.prototype._getQueriesFor=function(t){for(var e,n=[],r=this,i=0;null!==r;)e=r._contentQueries.get(t),$t(e)&&Sp.addAll(n,e.filter(function(t){return t.descendants||1>=i})),r._directiveAsts.length>0&&i++,r=r._parent;return e=this._viewContext.viewQueries.get(t),$t(e)&&Sp.addAll(n,e),n},t.prototype._getOrCreateLocalProvider=function(t,e,n){var r=this,i=this._allProviders.get(e);if(te(i)||(t===fl.Directive||t===fl.PublicService)&&i.providerType===fl.PrivateService||(t===fl.PrivateService||t===fl.PublicService)&&i.providerType===fl.Builtin)return null;var o=this._transformedProviders.get(e);if($t(o))return o;if($t(this._seenProviders.get(e)))return this._viewContext.errors.push(new Uv("Cannot instantiate cyclic dependency! "+e.name,this._sourceSpan)),null;this._seenProviders.add(e,!0);var s=i.providers.map(function(t){var e,o=t.useValue,s=t.useExisting;if($t(t.useExisting)){var a=r._getDependency(i.providerType,new Jd({token:t.useExisting}),n);$t(a.token)?s=a.token:(s=null,o=a.value)}else if($t(t.useFactory)){var u=$t(t.deps)?t.deps:t.useFactory.diDeps;e=u.map(function(t){return r._getDependency(i.providerType,t,n)})}else if($t(t.useClass)){var u=$t(t.deps)?t.deps:t.useClass.diDeps;e=u.map(function(t){return r._getDependency(i.providerType,t,n)})}return Pn(t,{useExisting:s,useValue:o,deps:e})});return o=kn(i,{eager:n,providers:s}),this._transformedProviders.add(e,o),o},t.prototype._getLocalDependency=function(t,e,n){if(void 0===n&&(n=null),e.isAttribute){var r=this._attrs[e.token.value];return new Jd({isValue:!0,value:pe(r)})}if($t(e.query)||$t(e.viewQuery))return e;if($t(e.token)){if(t===fl.Directive||t===fl.Component){if(e.token.equalsTo(Sn(Fv.Renderer))||e.token.equalsTo(Sn(Fv.ElementRef))||e.token.equalsTo(Sn(Fv.ChangeDetectorRef))||e.token.equalsTo(Sn(Fv.TemplateRef)))return e;e.token.equalsTo(Sn(Fv.ViewContainerRef))&&(this._hasViewContainer=!0)}if(e.token.equalsTo(Sn(Fv.Injector)))return e;if($t(this._getOrCreateLocalProvider(t,e.token,n)))return e}return null},t.prototype._getDependency=function(t,e,n){void 0===n&&(n=null);var r=this,i=n,o=null;if(e.isSkipSelf||(o=this._getLocalDependency(t,e,n)),e.isSelf)te(o)&&e.isOptional&&(o=new Jd({isValue:!0,value:null}));else{for(;te(o)&&$t(r._parent);){var s=r;r=r._parent,s._isViewRoot&&(i=!1),o=r._getLocalDependency(fl.PublicService,e,i)}te(o)&&(o=!e.isHost||this._viewContext.component.type.isHost||Sn(this._viewContext.component.type).equalsTo(e.token)||$t(this._viewContext.viewProviders.get(e.token))?e:e.isOptional?o=new Jd({isValue:!0,value:null}):null)}return te(o)&&this._viewContext.errors.push(new Uv("No provider for "+e.token.name,this._sourceSpan)),o},t}(),qv=/^(?:(?:(?:(bind-)|(var-)|(let-)|(ref-|#)|(on-)|(bindon-))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/g,zv="template",Wv="template",Kv="*",Gv="class",Qv=".",Xv="attr",Jv="class",Zv="style",Yv=xd.parse("*")[0],$v=new Wa("TemplateTransforms"),ty=function(t){function e(e,n,r){t.call(this,n,e,r)}return __extends(e,t),e}(Cf),ey=function(){function t(t,e){this.templateAst=t,this.errors=e}return t}(),ny=function(){function t(t,e,n,r,i){this._exprParser=t,this._schemaRegistry=e,this._htmlParser=n,this._console=r,this.transforms=i}return t.prototype.parse=function(t,e,n,r,i){var o=this.tryParse(t,e,n,r,i),s=o.errors.filter(function(t){return t.level===lf.WARNING}),a=o.errors.filter(function(t){return t.level===lf.FATAL});if(s.length>0&&this._console.warn("Template parse warnings:\n"+s.join("\n")),a.length>0){var u=a.join("\n");throw new Ap("Template parse errors:\n"+u)}return o.templateAst},t.prototype.tryParse=function(t,e,n,r,i){var o,s=this._htmlParser.parse(e,i),a=s.errors;if(s.rootNodes.length>0){var u=Dn(n),c=Dn(r),l=new Bv(t,s.rootNodes[0].sourceSpan),p=new iy(l,u,c,this._exprParser,this._schemaRegistry);o=Ve(p,s.rootNodes,cy),a=a.concat(p.errors).concat(l.errors)}else o=[];return a.length>0?new ey(o,a):($t(this.transforms)&&this.transforms.forEach(function(t){o=ye(t,o)}),new ey(o,a))},t}();ny.decorators=[{type:Ws}],ny.ctorParameters=[{type:cf},{type:ul},{type:md},{type:bp},{type:void 0,decorators:[{type:zs},{type:qs,args:[$v]}]}];var ry,iy=function(){function t(t,e,n,r,i){var o=this;this.providerViewContext=t,this._exprParser=r,this._schemaRegistry=i,this.errors=[],this.directivesIndex=new Map,this.ngContentCount=0,this.selectorMatcher=new Cd,Sp.forEachWithIndex(e,function(t,e){var n=xd.parse(t.selector);o.selectorMatcher.addSelectables(n,t),o.directivesIndex.set(t,e)}),this.pipesByName=new Map,n.forEach(function(t){return o.pipesByName.set(t.name,t)})}return t.prototype._reportError=function(t,e,n){void 0===n&&(n=lf.FATAL),this.errors.push(new ty(t,e,n))},t.prototype._parseInterpolation=function(t,e){var n=e.start.toString();try{var r=this._exprParser.parseInterpolation(t,n);if(this._checkPipes(r,e),$t(r)&&r.ast.expressions.length>Gl)throw new Ap("Only support at most "+Gl+" interpolation values!");return r}catch(t){return this._reportError(""+t,e),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},t.prototype._parseAction=function(t,e){var n=e.start.toString();try{var r=this._exprParser.parseAction(t,n);return this._checkPipes(r,e),r}catch(t){return this._reportError(""+t,e),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},t.prototype._parseBinding=function(t,e){var n=e.start.toString();try{var r=this._exprParser.parseBinding(t,n);return this._checkPipes(r,e),r}catch(t){return this._reportError(""+t,e),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},t.prototype._parseTemplateBindings=function(t,e){var n=this,r=e.start.toString();try{var i=this._exprParser.parseTemplateBindings(t,r);return i.templateBindings.forEach(function(t){$t(t.expression)&&n._checkPipes(t.expression,e)}),i.warnings.forEach(function(t){n._reportError(t,e,lf.WARNING)}),i.templateBindings}catch(t){return this._reportError(""+t,e),[]}},t.prototype._checkPipes=function(t,e){var n=this;if($t(t)){var r=new py;t.visit(r),r.pipes.forEach(function(t){n.pipesByName.has(t)||n._reportError("The pipe '"+t+"' could not be found",e)})}},t.prototype.visitExpansion=function(t,e){return null},t.prototype.visitExpansionCase=function(t,e){return null},t.prototype.visitText=function(t,e){var n=e.findNgContentIndex(Yv),r=this._parseInterpolation(t.value,t.sourceSpan);return $t(r)?new Cl(r,n,t.sourceSpan):new xl(t.value,n,t.sourceSpan)},t.prototype.visitAttr=function(t,e){return new El(t.name,t.value,t.sourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitElement=function(t,e){var n=this,r=t.name,i=nn(t);if(i.type===gd.SCRIPT||i.type===gd.STYLE)return null;if(i.type===gd.STYLESHEET&&on(i.hrefAttr))return null;var o=[],s=[],a=[],u=[],c=[],l=[],p=[],h=[],f=!1,d=[],v=De(r.toLowerCase())[1],y=v==zv;t.attrs.forEach(function(t){var e=n._parseAttr(y,t,o,s,c,a,u),r=n._parseInlineTemplateBinding(t,p,l,h);e||r||(d.push(n.visitAttr(t,null)),o.push([t.name,t.value])),r&&(f=!0)});var m=Rn(r,o),g=this._parseDirectives(this.selectorMatcher,m),_=[],w=this._createDirectiveAsts(y,t.name,g,s,a,t.sourceSpan,_),b=this._createElementPropertyAsts(t.name,s,w),x=e.isTemplateElement||f,C=new Hv(this.providerViewContext,e.providerContext,x,w,d,_,t.sourceSpan),E=Ve(i.nonBindable?ly:this,t.children,uy.create(y,w,y?e.providerContext:C));C.afterElement();var S,P=$t(i.projectAs)?xd.parse(i.projectAs)[0]:m,k=e.findNgContentIndex(P);if(i.type===gd.NG_CONTENT)$t(t.children)&&t.children.length>0&&this._reportError("<ng-content> element cannot have content. <ng-content> must be immediately followed by </ng-content>",t.sourceSpan),S=new Rl(this.ngContentCount++,f?null:k,t.sourceSpan);else if(y)this._assertAllEventsPublishedByDirectives(w,c),this._assertNoComponentsNorElementBindingsOnTemplate(w,b,t.sourceSpan),S=new Ol(d,c,_,u,C.transformedDirectiveAsts,C.transformProviders,C.transformedHasViewContainer,E,f?null:k,t.sourceSpan);else{this._assertOnlyOneComponent(w,t.sourceSpan);var A=f?null:e.findNgContentIndex(P);S=new Tl(r,d,b,c,_,C.transformedDirectiveAsts,C.transformProviders,C.transformedHasViewContainer,E,f?null:A,t.sourceSpan)}if(f){var T=Rn(zv,p),O=this._parseDirectives(this.selectorMatcher,T),I=this._createDirectiveAsts(!0,t.name,O,l,[],t.sourceSpan,[]),N=this._createElementPropertyAsts(t.name,l,I);this._assertNoComponentsNorElementBindingsOnTemplate(I,N,t.sourceSpan);var M=new Hv(this.providerViewContext,e.providerContext,e.isTemplateElement,I,[],[],t.sourceSpan);M.afterElement(),S=new Ol([],[],[],h,M.transformedDirectiveAsts,M.transformProviders,M.transformedHasViewContainer,[S],k,t.sourceSpan)}return S},t.prototype._parseInlineTemplateBinding=function(t,e,n,r){var i=null;if(t.name==Wv)i=t.value;else if(t.name.startsWith(Kv)){var o=t.name.substring(Kv.length);i=0==t.value.length?o:o+" "+t.value}if($t(i)){for(var s=this._parseTemplateBindings(i,t.sourceSpan),a=0;a<s.length;a++){var u=s[a];u.keyIsVar?r.push(new Al(u.key,u.name,t.sourceSpan)):$t(u.expression)?this._parsePropertyAst(u.key,u.expression,t.sourceSpan,e,n):(e.push([u.key,""]),this._parseLiteralAttr(u.key,null,t.sourceSpan,n))}return!0}return!1},t.prototype._parseAttr=function(t,e,n,r,i,o,s){var a=this._normalizeAttributeName(e.name),u=e.value,c=_l.firstMatch(qv,a),l=!1;if($t(c))if(l=!0,$t(c[1]))this._parseProperty(c[7],u,e.sourceSpan,n,r);else if($t(c[2])){var p=c[7];t?(this._reportError('"var-" on <template> elements is deprecated. Use "let-" instead!',e.sourceSpan,lf.WARNING),this._parseVariable(p,u,e.sourceSpan,s)):(this._reportError('"var-" on non <template> elements is deprecated. Use "ref-" instead!',e.sourceSpan,lf.WARNING),this._parseReference(p,u,e.sourceSpan,o))}else if($t(c[3]))if(t){var p=c[7];this._parseVariable(p,u,e.sourceSpan,s)}else this._reportError('"let-" is only supported on template elements.',e.sourceSpan);else if($t(c[4])){var p=c[7];this._parseReference(p,u,e.sourceSpan,o)}else $t(c[5])?this._parseEvent(c[7],u,e.sourceSpan,n,i):$t(c[6])?(this._parseProperty(c[7],u,e.sourceSpan,n,r),this._parseAssignmentEvent(c[7],u,e.sourceSpan,n,i)):$t(c[8])?(this._parseProperty(c[8],u,e.sourceSpan,n,r),this._parseAssignmentEvent(c[8],u,e.sourceSpan,n,i)):$t(c[9])?this._parseProperty(c[9],u,e.sourceSpan,n,r):$t(c[10])&&this._parseEvent(c[10],u,e.sourceSpan,n,i);else l=this._parsePropertyInterpolation(a,u,e.sourceSpan,n,r);return l||this._parseLiteralAttr(a,u,e.sourceSpan,r),l},t.prototype._normalizeAttributeName=function(t){return t.toLowerCase().startsWith("data-")?t.substring(5):t},t.prototype._parseVariable=function(t,e,n,r){t.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',n),r.push(new Al(t,e,n))},t.prototype._parseReference=function(t,e,n,r){t.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',n),r.push(new ay(t,e,n))},t.prototype._parseProperty=function(t,e,n,r,i){this._parsePropertyAst(t,this._parseBinding(e,n),n,r,i)},t.prototype._parsePropertyInterpolation=function(t,e,n,r,i){var o=this._parseInterpolation(e,n);return $t(o)?(this._parsePropertyAst(t,o,n,r,i),!0):!1},t.prototype._parsePropertyAst=function(t,e,n,r,i){r.push([t,e.source]),i.push(new sy(t,e,!1,n))},t.prototype._parseAssignmentEvent=function(t,e,n,r,i){this._parseEvent(t+"Change",e+"=$event",n,r,i)},t.prototype._parseEvent=function(t,e,n,r,i){var o=un(t,[null,t]),s=o[0],a=o[1],u=this._parseAction(e,n);r.push([t,u.source]),i.push(new Pl(a,s,u,n))},t.prototype._parseLiteralAttr=function(t,e,n,r){r.push(new sy(t,this._exprParser.wrapLiteralPrimitive(e,""),!0,n))},t.prototype._parseDirectives=function(t,e){var n=this,r=Sp.createFixedSize(this.directivesIndex.size);return t.match(e,function(t,e){r[n.directivesIndex.get(e)]=e}),r.filter(function(t){return $t(t)})},t.prototype._createDirectiveAsts=function(t,e,n,r,i,o,s){var a=this,u=new Set,c=null,l=n.map(function(t){t.isComponent&&(c=t);var n=[],l=[],p=[];return a._createDirectiveHostPropertyAsts(e,t.hostProperties,o,n),a._createDirectiveHostEventAsts(t.hostListeners,o,l),a._createDirectivePropertyAsts(t.inputs,r,p),i.forEach(function(e){(0===e.value.length&&t.isComponent||t.exportAs==e.value)&&(s.push(new kl(e.name,Sn(t.type),e.sourceSpan)),u.add(e.name))}),new Nl(t,p,n,l,o)});return i.forEach(function(e){if(e.value.length>0)kp.has(u,e.name)||a._reportError('There is no directive with "exportAs" set to "'+e.value+'"',e.sourceSpan);else if(te(c)){var n=null;t&&(n=Sn(Fv.TemplateRef)),s.push(new kl(e.name,n,e.sourceSpan))}}),l},t.prototype._createDirectiveHostPropertyAsts=function(t,e,n,r){var i=this;$t(e)&&Ep.forEach(e,function(e,o){var s=i._parseBinding(e,n);r.push(i._createElementPropertyAst(t,o,s,n))})},t.prototype._createDirectiveHostEventAsts=function(t,e,n){var r=this;$t(t)&&Ep.forEach(t,function(t,i){r._parseEvent(i,t,e,[],n)})},t.prototype._createDirectivePropertyAsts=function(t,e,n){if($t(t)){var r=new Map;e.forEach(function(t){var e=r.get(t.name);(te(e)||e.isLiteral)&&r.set(t.name,t)}),Ep.forEach(t,function(t,e){var i=r.get(t);$t(i)&&n.push(new Il(e,i.name,i.expression,i.sourceSpan))})}},t.prototype._createElementPropertyAsts=function(t,e,n){var r=this,i=[],o=new Map;return n.forEach(function(t){t.inputs.forEach(function(t){o.set(t.templateName,t)})}),e.forEach(function(e){!e.isLiteral&&te(o.get(e.name))&&i.push(r._createElementPropertyAst(t,e.name,e.expression,e.sourceSpan))}),i},t.prototype._createElementPropertyAst=function(t,e,n,r){var i,o,s,a=null,u=e.split(Qv);if(1===u.length)o=this._schemaRegistry.getMappedPropName(u[0]),s=this._schemaRegistry.securityContext(t,o),i=Vl.Property,this._schemaRegistry.hasProperty(t,o)||this._reportError("Can't bind to '"+o+"' since it isn't a known native property",r);else if(u[0]==Xv){o=u[1],o.toLowerCase().startsWith("on")&&this._reportError("Binding to event attribute '"+o+"' is disallowed "+("for security reasons, please use ("+o.slice(2)+")=..."),r),s=this._schemaRegistry.securityContext(t,this._schemaRegistry.getMappedPropName(o));var c=o.indexOf(":");if(c>-1){var l=o.substring(0,c),p=o.substring(c+1);o=Le(l,p)}i=Vl.Attribute}else u[0]==Jv?(o=u[1],i=Vl.Class,s=op.NONE):u[0]==Zv?(a=u.length>2?u[2]:null,o=u[1],i=Vl.Style,s=op.STYLE):(this._reportError("Invalid property name '"+e+"'",r),i=null,s=null);return new Sl(o,i,s,n,a,r)},t.prototype._findComponentDirectiveNames=function(t){var e=[];return t.forEach(function(t){var n=t.directive.type.name;t.directive.isComponent&&e.push(n)}),e},t.prototype._assertOnlyOneComponent=function(t,e){var n=this._findComponentDirectiveNames(t);n.length>1&&this._reportError("More than one component: "+n.join(","),e)},t.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(t,e,n){var r=this,i=this._findComponentDirectiveNames(t);i.length>0&&this._reportError("Components on an embedded template: "+i.join(","),n),e.forEach(function(t){r._reportError("Property binding "+t.name+" not used by any directive on an embedded template",n)})},t.prototype._assertAllEventsPublishedByDirectives=function(t,e){var n=this,r=new Set;t.forEach(function(t){Ep.forEach(t.directive.outputs,function(t,e){r.add(t)})}),e.forEach(function(t){!$t(t.target)&&kp.has(r,t.name)||n._reportError("Event binding "+t.fullName+" not emitted by any directive on an embedded template",t.sourceSpan)})},t}(),oy=function(){function t(){}return t.prototype.visitElement=function(t,e){var n=nn(t);if(n.type===gd.SCRIPT||n.type===gd.STYLE||n.type===gd.STYLESHEET)return null;var r=t.attrs.map(function(t){return[t.name,t.value]}),i=Rn(t.name,r),o=e.findNgContentIndex(i),s=Ve(this,t.children,cy);return new Tl(t.name,Ve(this,t.attrs),[],[],[],[],[],!1,s,o,t.sourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitAttr=function(t,e){return new El(t.name,t.value,t.sourceSpan)},t.prototype.visitText=function(t,e){var n=e.findNgContentIndex(Yv);return new xl(t.value,n,t.sourceSpan)},t.prototype.visitExpansion=function(t,e){return t},t.prototype.visitExpansionCase=function(t,e){return t},t}(),sy=function(){function t(t,e,n,r){this.name=t,this.expression=e,this.isLiteral=n,this.sourceSpan=r}return t}(),ay=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t}(),uy=function(){function t(t,e,n,r){this.isTemplateElement=t,this._ngContentIndexMatcher=e,this._wildcardNgContentIndex=n,this.providerContext=r}return t.create=function(e,n,r){var i=new Cd,o=null,s=n.find(function(t){return t.directive.isComponent});if($t(s))for(var a=s.directive.template.ngContentSelectors,u=0;u<a.length;u++){var c=a[u];vl.equals(c,"*")?o=u:i.addSelectables(xd.parse(a[u]),u)}return new t(e,i,o,r)},t.prototype.findNgContentIndex=function(t){var e=[];return this._ngContentIndexMatcher.match(t,function(t,n){e.push(n)}),Sp.sort(e),$t(this._wildcardNgContentIndex)&&e.push(this._wildcardNgContentIndex),e.length>0?e[0]:null},t}(),cy=new uy(!0,new Cd,null,null),ly=new oy,py=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];t.apply(this,e),this.pipes=new Set}return __extends(e,t),e.prototype.visitPipe=function(t,e){return this.pipes.add(t.name),t.exp.visit(this),this.visitAll(t.args,e),null},e}(Yp),hy=function(){function t(t,e,n,r){void 0===r&&(r=null),this.genDebugInfo=t,this.logBindingUpdate=e,this.useJit=n,te(r)&&(r=new fy),this.renderTypes=r}return t}(),fy=function(){function t(){this.renderer=Fv.Renderer,this.renderText=null,this.renderElement=null,this.renderComment=null,this.renderNode=null,this.renderEvent=null}return t}();!function(t){t[t.Const=0]="Const"}(ry||(ry={}));var dy,vy=function(){function t(t){void 0===t&&(t=null),this.modifiers=t,te(t)&&(this.modifiers=[])}return t.prototype.hasModifier=function(t){return-1!==this.modifiers.indexOf(t)},t}();!function(t){t[t.Dynamic=0]="Dynamic",t[t.Bool=1]="Bool",t[t.String=2]="String",t[t.Int=3]="Int",t[t.Number=4]="Number",t[t.Function=5]="Function"}(dy||(dy={}));var yy,my=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),this.name=e}return __extends(e,t),e.prototype.visitType=function(t,e){return t.visitBuiltintType(this,e)},e}(vy),gy=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,r),this.value=e,this.typeParams=n}return __extends(e,t),e.prototype.visitType=function(t,e){return t.visitExternalType(this,e)},e}(vy),_y=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),this.of=e}return __extends(e,t),e.prototype.visitType=function(t,e){return t.visitArrayType(this,e)},e}(vy),wy=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),this.valueType=e}return __extends(e,t),e.prototype.visitType=function(t,e){return t.visitMapType(this,e)},e}(vy),by=new my(dy.Dynamic),xy=new my(dy.Bool),Cy=(new my(dy.Int),new my(dy.Number)),Ey=new my(dy.String),Sy=new my(dy.Function);!function(t){t[t.Equals=0]="Equals",t[t.NotEquals=1]="NotEquals",t[t.Identical=2]="Identical",t[t.NotIdentical=3]="NotIdentical",t[t.Minus=4]="Minus",t[t.Plus=5]="Plus",t[t.Divide=6]="Divide",t[t.Multiply=7]="Multiply",t[t.Modulo=8]="Modulo",t[t.And=9]="And",t[t.Or=10]="Or",t[t.Lower=11]="Lower",t[t.LowerEquals=12]="LowerEquals",t[t.Bigger=13]="Bigger",t[t.BiggerEquals=14]="BiggerEquals"}(yy||(yy={}));var Py,ky=function(){function t(t){this.type=t}return t.prototype.prop=function(t){return new Wy(this,t)},t.prototype.key=function(t,e){return void 0===e&&(e=null),new Ky(this,t,e)},t.prototype.callMethod=function(t,e){return new Vy(this,t,e)},t.prototype.callFn=function(t){return new Ry(this,t)},t.prototype.instantiate=function(t,e){return void 0===e&&(e=null),new Dy(this,t,e)},t.prototype.conditional=function(t,e){return void 0===e&&(e=null),new Fy(this,t,e)},t.prototype.equals=function(t){return new zy(yy.Equals,this,t)},t.prototype.notEquals=function(t){return new zy(yy.NotEquals,this,t)},t.prototype.identical=function(t){return new zy(yy.Identical,this,t)},t.prototype.notIdentical=function(t){return new zy(yy.NotIdentical,this,t)},t.prototype.minus=function(t){return new zy(yy.Minus,this,t)},t.prototype.plus=function(t){return new zy(yy.Plus,this,t)},t.prototype.divide=function(t){return new zy(yy.Divide,this,t)},t.prototype.multiply=function(t){return new zy(yy.Multiply,this,t)},t.prototype.modulo=function(t){return new zy(yy.Modulo,this,t)},t.prototype.and=function(t){return new zy(yy.And,this,t)},t.prototype.or=function(t){return new zy(yy.Or,this,t)},t.prototype.lower=function(t){return new zy(yy.Lower,this,t)},t.prototype.lowerEquals=function(t){return new zy(yy.LowerEquals,this,t)},t.prototype.bigger=function(t){return new zy(yy.Bigger,this,t)},t.prototype.biggerEquals=function(t){return new zy(yy.BiggerEquals,this,t)},t.prototype.isBlank=function(){return this.equals(Zy)},t.prototype.cast=function(t){return new By(this,t)},t.prototype.toStmt=function(){return new em(this)},t}();!function(t){t[t.This=0]="This",t[t.Super=1]="Super",t[t.CatchError=2]="CatchError",t[t.CatchStack=3]="CatchStack"}(Py||(Py={}));var Ay,Ty=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),re(e)?(this.name=e,this.builtin=null):(this.name=null,this.builtin=e)}return __extends(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadVarExpr(this,e)},e.prototype.set=function(t){return new Oy(this.name,t)},e}(ky),Oy=function(t){function e(e,n,r){void 0===r&&(r=null),t.call(this,$t(r)?r:n.type),this.name=e,this.value=n}return __extends(e,t),e.prototype.visitExpression=function(t,e){return t.visitWriteVarExpr(this,e)},e.prototype.toDeclStmt=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),new $y(this.name,this.value,t,e)},e}(ky),Iy=function(t){function e(e,n,r,i){void 0===i&&(i=null),t.call(this,$t(i)?i:r.type),this.receiver=e,this.index=n,this.value=r}return __extends(e,t),e.prototype.visitExpression=function(t,e){return t.visitWriteKeyExpr(this,e)},e}(ky),Ny=function(t){function e(e,n,r,i){void 0===i&&(i=null),t.call(this,$t(i)?i:r.type),this.receiver=e,this.name=n,this.value=r}return __extends(e,t),e.prototype.visitExpression=function(t,e){return t.visitWritePropExpr(this,e)},e}(ky);!function(t){t[t.ConcatArray=0]="ConcatArray",t[t.SubscribeObservable=1]="SubscribeObservable",t[t.bind=2]="bind"}(Ay||(Ay={}));var My,Vy=function(t){function e(e,n,r,i){void 0===i&&(i=null),t.call(this,i),this.receiver=e,this.args=r,re(n)?(this.name=n,this.builtin=null):(this.name=null,this.builtin=n)}return __extends(e,t),e.prototype.visitExpression=function(t,e){return t.visitInvokeMethodExpr(this,e)},e}(ky),Ry=function(t){function e(e,n,r){void 0===r&&(r=null),t.call(this,r),this.fn=e,this.args=n}return __extends(e,t),e.prototype.visitExpression=function(t,e){return t.visitInvokeFunctionExpr(this,e)},e}(ky),Dy=function(t){function e(e,n,r){t.call(this,r),this.classExpr=e,this.args=n}return __extends(e,t),e.prototype.visitExpression=function(t,e){return t.visitInstantiateExpr(this,e)},e}(ky),jy=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),this.value=e}return __extends(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralExpr(this,e)},e}(ky),Ly=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,n),this.value=e,this.typeParams=r}return __extends(e,t),e.prototype.visitExpression=function(t,e){
return t.visitExternalExpr(this,e)},e}(ky),Fy=function(t){function e(e,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),t.call(this,$t(i)?i:n.type),this.condition=e,this.falseCase=r,this.trueCase=n}return __extends(e,t),e.prototype.visitExpression=function(t,e){return t.visitConditionalExpr(this,e)},e}(ky),Uy=function(t){function e(e){t.call(this,xy),this.condition=e}return __extends(e,t),e.prototype.visitExpression=function(t,e){return t.visitNotExpr(this,e)},e}(ky),By=function(t){function e(e,n){t.call(this,n),this.value=e}return __extends(e,t),e.prototype.visitExpression=function(t,e){return t.visitCastExpr(this,e)},e}(ky),Hy=function(){function t(t,e){void 0===e&&(e=null),this.name=t,this.type=e}return t}(),qy=function(t){function e(e,n,r){void 0===r&&(r=null),t.call(this,r),this.params=e,this.statements=n}return __extends(e,t),e.prototype.visitExpression=function(t,e){return t.visitFunctionExpr(this,e)},e.prototype.toDeclStmt=function(t,e){return void 0===e&&(e=null),new tm(t,this.params,this.statements,this.type,e)},e}(ky),zy=function(t){function e(e,n,r,i){void 0===i&&(i=null),t.call(this,$t(i)?i:n.type),this.operator=e,this.rhs=r,this.lhs=n}return __extends(e,t),e.prototype.visitExpression=function(t,e){return t.visitBinaryOperatorExpr(this,e)},e}(ky),Wy=function(t){function e(e,n,r){void 0===r&&(r=null),t.call(this,r),this.receiver=e,this.name=n}return __extends(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadPropExpr(this,e)},e.prototype.set=function(t){return new Ny(this.receiver,this.name,t)},e}(ky),Ky=function(t){function e(e,n,r){void 0===r&&(r=null),t.call(this,r),this.receiver=e,this.index=n}return __extends(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadKeyExpr(this,e)},e.prototype.set=function(t){return new Iy(this.receiver,this.index,t)},e}(ky),Gy=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),this.entries=e}return __extends(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralArrayExpr(this,e)},e}(ky),Qy=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),this.entries=e,this.valueType=null,$t(n)&&(this.valueType=n.valueType)}return __extends(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralMapExpr(this,e)},e}(ky),Xy=new Ty(Py.This),Jy=new Ty(Py.Super),Zy=(new Ty(Py.CatchError),new Ty(Py.CatchStack),new jy(null,null));!function(t){t[t.Final=0]="Final",t[t.Private=1]="Private"}(My||(My={}));var Yy=function(){function t(t){void 0===t&&(t=null),this.modifiers=t,te(t)&&(this.modifiers=[])}return t.prototype.hasModifier=function(t){return-1!==this.modifiers.indexOf(t)},t}(),$y=function(t){function e(e,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),t.call(this,i),this.name=e,this.value=n,this.type=$t(r)?r:n.type}return __extends(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareVarStmt(this,e)},e}(Yy),tm=function(t){function e(e,n,r,i,o){void 0===i&&(i=null),void 0===o&&(o=null),t.call(this,o),this.name=e,this.params=n,this.statements=r,this.type=i}return __extends(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareFunctionStmt(this,e)},e}(Yy),em=function(t){function e(e){t.call(this),this.expr=e}return __extends(e,t),e.prototype.visitStatement=function(t,e){return t.visitExpressionStmt(this,e)},e}(Yy),nm=function(t){function e(e){t.call(this),this.value=e}return __extends(e,t),e.prototype.visitStatement=function(t,e){return t.visitReturnStmt(this,e)},e}(Yy),rm=function(){function t(t,e){void 0===t&&(t=null),this.type=t,this.modifiers=e,te(e)&&(this.modifiers=[])}return t.prototype.hasModifier=function(t){return-1!==this.modifiers.indexOf(t)},t}(),im=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,n,r),this.name=e}return __extends(e,t),e}(rm),om=function(t){function e(e,n,r,i,o){void 0===i&&(i=null),void 0===o&&(o=null),t.call(this,i,o),this.name=e,this.params=n,this.body=r}return __extends(e,t),e}(rm),sm=function(t){function e(e,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),t.call(this,r,i),this.name=e,this.body=n}return __extends(e,t),e}(rm),am=function(t){function e(e,n,r,i,o,s,a){void 0===a&&(a=null),t.call(this,a),this.name=e,this.parent=n,this.fields=r,this.getters=i,this.constructorMethod=o,this.methods=s}return __extends(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareClassStmt(this,e)},e}(Yy),um=function(t){function e(e,n,r){void 0===r&&(r=[]),t.call(this),this.condition=e,this.trueCase=n,this.falseCase=r}return __extends(e,t),e.prototype.visitStatement=function(t,e){return t.visitIfStmt(this,e)},e}(Yy),cm=function(t){function e(e,n){t.call(this),this.bodyStmts=e,this.catchStmts=n}return __extends(e,t),e.prototype.visitStatement=function(t,e){return t.visitTryCatchStmt(this,e)},e}(Yy),lm=function(t){function e(e){t.call(this),this.error=e}return __extends(e,t),e.prototype.visitStatement=function(t,e){return t.visitThrowStmt(this,e)},e}(Yy),pm=function(){function t(){}return t.prototype.visitReadVarExpr=function(t,e){return t},t.prototype.visitWriteVarExpr=function(t,e){return new Oy(t.name,t.value.visitExpression(this,e))},t.prototype.visitWriteKeyExpr=function(t,e){return new Iy(t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.value.visitExpression(this,e))},t.prototype.visitWritePropExpr=function(t,e){return new Ny(t.receiver.visitExpression(this,e),t.name,t.value.visitExpression(this,e))},t.prototype.visitInvokeMethodExpr=function(t,e){var n=$t(t.builtin)?t.builtin:t.name;return new Vy(t.receiver.visitExpression(this,e),n,this.visitAllExpressions(t.args,e),t.type)},t.prototype.visitInvokeFunctionExpr=function(t,e){return new Ry(t.fn.visitExpression(this,e),this.visitAllExpressions(t.args,e),t.type)},t.prototype.visitInstantiateExpr=function(t,e){return new Dy(t.classExpr.visitExpression(this,e),this.visitAllExpressions(t.args,e),t.type)},t.prototype.visitLiteralExpr=function(t,e){return t},t.prototype.visitExternalExpr=function(t,e){return t},t.prototype.visitConditionalExpr=function(t,e){return new Fy(t.condition.visitExpression(this,e),t.trueCase.visitExpression(this,e),t.falseCase.visitExpression(this,e))},t.prototype.visitNotExpr=function(t,e){return new Uy(t.condition.visitExpression(this,e))},t.prototype.visitCastExpr=function(t,e){return new By(t.value.visitExpression(this,e),e)},t.prototype.visitFunctionExpr=function(t,e){return t},t.prototype.visitBinaryOperatorExpr=function(t,e){return new zy(t.operator,t.lhs.visitExpression(this,e),t.rhs.visitExpression(this,e),t.type)},t.prototype.visitReadPropExpr=function(t,e){return new Wy(t.receiver.visitExpression(this,e),t.name,t.type)},t.prototype.visitReadKeyExpr=function(t,e){return new Ky(t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.type)},t.prototype.visitLiteralArrayExpr=function(t,e){return new Gy(this.visitAllExpressions(t.entries,e))},t.prototype.visitLiteralMapExpr=function(t,e){var n=this;return new Qy(t.entries.map(function(t){return[t[0],t[1].visitExpression(n,e)]}))},t.prototype.visitAllExpressions=function(t,e){var n=this;return t.map(function(t){return t.visitExpression(n,e)})},t.prototype.visitDeclareVarStmt=function(t,e){return new $y(t.name,t.value.visitExpression(this,e),t.type,t.modifiers)},t.prototype.visitDeclareFunctionStmt=function(t,e){return t},t.prototype.visitExpressionStmt=function(t,e){return new em(t.expr.visitExpression(this,e))},t.prototype.visitReturnStmt=function(t,e){return new nm(t.value.visitExpression(this,e))},t.prototype.visitDeclareClassStmt=function(t,e){return t},t.prototype.visitIfStmt=function(t,e){return new um(t.condition.visitExpression(this,e),this.visitAllStatements(t.trueCase,e),this.visitAllStatements(t.falseCase,e))},t.prototype.visitTryCatchStmt=function(t,e){return new cm(this.visitAllStatements(t.bodyStmts,e),this.visitAllStatements(t.catchStmts,e))},t.prototype.visitThrowStmt=function(t,e){return new lm(t.error.visitExpression(this,e))},t.prototype.visitCommentStmt=function(t,e){return t},t.prototype.visitAllStatements=function(t,e){var n=this;return t.map(function(t){return t.visitStatement(n,e)})},t}(),hm=function(){function t(){}return t.prototype.visitReadVarExpr=function(t,e){return t},t.prototype.visitWriteVarExpr=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitWriteKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.value.visitExpression(this,e),t},t.prototype.visitWritePropExpr=function(t,e){return t.receiver.visitExpression(this,e),t.value.visitExpression(this,e),t},t.prototype.visitInvokeMethodExpr=function(t,e){return t.receiver.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitInvokeFunctionExpr=function(t,e){return t.fn.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitInstantiateExpr=function(t,e){return t.classExpr.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitLiteralExpr=function(t,e){return t},t.prototype.visitExternalExpr=function(t,e){return t},t.prototype.visitConditionalExpr=function(t,e){return t.condition.visitExpression(this,e),t.trueCase.visitExpression(this,e),t.falseCase.visitExpression(this,e),t},t.prototype.visitNotExpr=function(t,e){return t.condition.visitExpression(this,e),t},t.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitFunctionExpr=function(t,e){return t},t.prototype.visitBinaryOperatorExpr=function(t,e){return t.lhs.visitExpression(this,e),t.rhs.visitExpression(this,e),t},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e),t},t.prototype.visitReadKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t},t.prototype.visitLiteralArrayExpr=function(t,e){return this.visitAllExpressions(t.entries,e),t},t.prototype.visitLiteralMapExpr=function(t,e){var n=this;return t.entries.forEach(function(t){return t[1].visitExpression(n,e)}),t},t.prototype.visitAllExpressions=function(t,e){var n=this;t.forEach(function(t){return t.visitExpression(n,e)})},t.prototype.visitDeclareVarStmt=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitDeclareFunctionStmt=function(t,e){return t},t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e),t},t.prototype.visitReturnStmt=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitDeclareClassStmt=function(t,e){return t},t.prototype.visitIfStmt=function(t,e){return t.condition.visitExpression(this,e),this.visitAllStatements(t.trueCase,e),this.visitAllStatements(t.falseCase,e),t},t.prototype.visitTryCatchStmt=function(t,e){return this.visitAllStatements(t.bodyStmts,e),this.visitAllStatements(t.catchStmts,e),t},t.prototype.visitThrowStmt=function(t,e){return t.error.visitExpression(this,e),t},t.prototype.visitCommentStmt=function(t,e){return t},t.prototype.visitAllStatements=function(t,e){var n=this;t.forEach(function(t){return t.visitStatement(n,e)})},t}(),fm=function(t){function e(e,n){t.call(this),this._varName=e,this._newValue=n}return __extends(e,t),e.prototype.visitReadVarExpr=function(t,e){return t.name==this._varName?this._newValue:t},e}(pm),dm=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];t.apply(this,e),this.varNames=new Set}return __extends(e,t),e.prototype.visitReadVarExpr=function(t,e){return this.varNames.add(t.name),null},e}(hm),vm=(new Xd({name:"ComponentFactory",runtime:bc,moduleUrl:pn("core","linker/component_factory")}),function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t}()),ym=function(){function t(){}return t.resolve=function(t){return Promise.resolve(t)},t.reject=function(t,e){return Promise.reject(t)},t.catchError=function(t,e){return t.catch(e)},t.all=function(t){return 0==t.length?Promise.resolve([]):Promise.all(t)},t.then=function(t,e,n){return t.then(e,n)},t.wrap=function(t){return new Promise(function(e,n){try{e(t())}catch(t){n(t)}})},t.scheduleMicrotask=function(e){t.then(t.resolve(null),e,function(t){})},t.isPromise=function(t){return t instanceof Promise},t.completer=function(){return new vm},t}(),mm=function(){function t(){}return t.subscribe=function(t,e,n,r){return void 0===r&&(r=function(){}),n="function"==typeof n&&n||ae,r="function"==typeof r&&r||ae,t.subscribe({next:e,error:n,complete:r})},t.isObservable=function(t){return!!t.subscribe},t.hasSubscribers=function(t){return t.observers.length>0},t.dispose=function(t){t.unsubscribe()},t.callNext=function(t,e){t.next(e)},t.callEmit=function(t,e){t.emit(e)},t.callError=function(t,e){t.error(e)},t.callComplete=function(t){t.complete()},t.fromPromise=function(t){return fu.create(t)},t.toPromise=function(t){return ht.call(t)},t}(),gm=function(){function t(){this.strictStyling=!0}return t.prototype.shimCssText=function(t,e,n){return void 0===n&&(n=""),t=Gn(t),t=this._insertDirectives(t),this._scopeCssText(t,e,n)},t.prototype._insertDirectives=function(t){return t=this._insertPolyfillDirectivesInCssText(t),this._insertPolyfillRulesInCssText(t)},t.prototype._insertPolyfillDirectivesInCssText=function(t){return vl.replaceAllMapped(t,_m,function(t){return t[1]+"{"})},t.prototype._insertPolyfillRulesInCssText=function(t){return vl.replaceAllMapped(t,wm,function(t){var e=t[0];return e=vl.replace(e,t[1],""),e=vl.replace(e,t[2],""),t[3]+e})},t.prototype._scopeCssText=function(t,e,n){var r=this._extractUnscopedRulesFromCssText(t);return t=this._insertPolyfillHostInCssText(t),t=this._convertColonHost(t),t=this._convertColonHostContext(t),t=this._convertShadowDOMSelectors(t),$t(e)&&(t=this._scopeSelectors(t,e,n)),t=t+"\n"+r,t.trim()},t.prototype._extractUnscopedRulesFromCssText=function(t){for(var e,n="",r=_l.matcher(bm,t);$t(e=wl.next(r));){var i=e[0];i=vl.replace(i,e[2],""),i=vl.replace(i,e[1],e[3]),n+=i+"\n\n"}return n},t.prototype._convertColonHost=function(t){return this._convertColonRule(t,Sm,this._colonHostPartReplacer)},t.prototype._convertColonHostContext=function(t){return this._convertColonRule(t,Pm,this._colonHostContextPartReplacer)},t.prototype._convertColonRule=function(t,e,n){return vl.replaceAllMapped(t,e,function(t){if($t(t[2])){for(var e=t[2].split(","),r=[],i=0;i<e.length;i++){var o=e[i];if(te(o))break;o=o.trim(),r.push(n(km,o,t[3]))}return r.join(",")}return km+t[3]})},t.prototype._colonHostContextPartReplacer=function(t,e,n){return vl.contains(e,xm)?this._colonHostPartReplacer(t,e,n):t+e+n+", "+e+" "+t+n},t.prototype._colonHostPartReplacer=function(t,e,n){return t+vl.replace(e,xm,"")+n},t.prototype._convertShadowDOMSelectors=function(t){for(var e=0;e<Am.length;e++)t=vl.replaceAll(t,Am[e]," ");return t},t.prototype._scopeSelectors=function(t,e,n){var r=this;return Qn(t,function(t){var i=t.selector,o=t.content;return"@"!=t.selector[0]||t.selector.startsWith("@page")?i=r._scopeSelector(t.selector,e,n,r.strictStyling):t.selector.startsWith("@media")&&(o=r._scopeSelectors(t.content,e,n)),new Um(i,o)})},t.prototype._scopeSelector=function(t,e,n,r){for(var i=[],o=t.split(","),s=0;s<o.length;s++){var a=o[s].trim(),u=vl.split(a,Tm),c=u[0];this._selectorNeedsScoping(c,e)&&(u[0]=r&&!vl.contains(c,km)?this._applyStrictSelectorScope(c,e):this._applySelectorScope(c,e,n)),i.push(u.join(" "))}return i.join(", ")},t.prototype._selectorNeedsScoping=function(t,e){var n=this._makeScopeMatcher(e);return!$t(_l.firstMatch(n,t))},t.prototype._makeScopeMatcher=function(t){var e=/\[/g,n=/\]/g;return t=vl.replaceAll(t,e,"\\["),t=vl.replaceAll(t,n,"\\]"),_l.create("^("+t+")"+Om,"m")},t.prototype._applySelectorScope=function(t,e,n){return this._applySimpleSelectorScope(t,e,n)},t.prototype._applySimpleSelectorScope=function(t,e,n){if($t(_l.firstMatch(Im,t))){var r=this.strictStyling?"["+n+"]":e;return t=vl.replace(t,km,r),vl.replaceAll(t,Im,r+" ")}return e+" "+t},t.prototype._applyStrictSelectorScope=function(t,e){var n=/\[is=([^\]]*)\]/g;e=vl.replaceAllMapped(e,n,function(t){return t[1]});for(var r=[" ",">","+","~"],i=t,o="["+e+"]",s=0;s<r.length;s++){var a=r[s],u=i.split(a);i=u.map(function(t){var e=vl.replaceAll(t.trim(),Im,"");if(e.length>0&&!Sp.contains(r,e)&&!vl.contains(e,o)){var n=/([^:]*)(:*)(.*)/g,i=_l.firstMatch(n,e);$t(i)&&(t=i[1]+o+i[2]+i[3])}return t}).join(a)}return i},t.prototype._insertPolyfillHostInCssText=function(t){return t=vl.replaceAll(t,Mm,Cm),t=vl.replaceAll(t,Nm,xm)},t}(),_m=/polyfill-next-selector[^}]*content:[\s]*?['"](.*?)['"][;\s]*}([^{]*?){/gim,wm=/(polyfill-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,bm=/(polyfill-unscoped-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,xm="-shadowcsshost",Cm="-shadowcsscontext",Em=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",Sm=_l.create("("+xm+Em,"im"),Pm=_l.create("("+Cm+Em,"im"),km=xm+"-no-combinator",Am=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Tm=/(?:>>>)|(?:\/deep\/)/g,Om="([>\\s~+[.,{:][\\s\\S]*)?$",Im=_l.create(xm,"im"),Nm=/:host/gim,Mm=/:host-context/gim,Vm=/\/\*[\s\S]*?\*\//g,Rm=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,Dm=/([{}])/g,jm="{",Lm="}",Fm="%BLOCK%",Um=function(){function t(t,e){this.selector=t,this.content=e}return t}(),Bm=function(){function t(t,e){this.escapedString=t,this.blocks=e}return t}(),Hm="%COMP%",qm="_nghost-"+Hm,zm="_ngcontent-"+Hm,Wm=function(){function t(t,e,n){this.moduleUrl=t,this.isShimmed=e,this.valuePlaceholder=n}return t}(),Km=function(){function t(t,e,n){this.statements=t,this.stylesVar=e,this.dependencies=n}return t}(),Gm=function(){function t(t){this._urlResolver=t,this._shadowCss=new gm}return t.prototype.compileComponent=function(t){var e=t.template.encapsulation===xs.Emulated;return this._compileStyles(Jn(t),t.template.styles,t.template.styleUrls,e)},t.prototype.compileStylesheet=function(t,e,n){var r=sn(this._urlResolver,t,e);return this._compileStyles(Jn(null),[r.style],r.styleUrls,n)},t.prototype._compileStyles=function(t,e,n,r){for(var i=this,o=e.map(function(t){return Hn(i._shimIfNeeded(t,r))}),s=[],a=0;a<n.length;a++){var u=new Xd({name:Jn(null)});s.push(new Wm(n[a],r,u)),o.push(new Ly(u))}var c=Fn(t).set(qn(o,new _y(by,[ry.Const]))).toDeclStmt(null,[My.Final]);return new Km([c],t,s)},t.prototype._shimIfNeeded=function(t,e){return e?this._shadowCss.shimCssText(t,zm,qm):t},t}();Gm.decorators=[{type:Ws}],Gm.ctorParameters=[{type:Wd}];var Qm=function(){function t(){}return t.fromValue=function(t){return Zn(Fv.ViewType,t)},t}();Qm.HOST=Qm.fromValue(Kl.HOST),Qm.COMPONENT=Qm.fromValue(Kl.COMPONENT),Qm.EMBEDDED=Qm.fromValue(Kl.EMBEDDED);var Xm=function(){function t(){}return t.fromValue=function(t){return Zn(Fv.ViewEncapsulation,t)},t}();Xm.Emulated=Xm.fromValue(xs.Emulated),Xm.Native=Xm.fromValue(xs.Native),Xm.None=Xm.fromValue(xs.None);var Jm=function(){function t(){}return t.fromValue=function(t){return Zn(Fv.ChangeDetectorState,t)},t}();Jm.NeverChecked=Jm.fromValue(Ll.NeverChecked),Jm.CheckedBefore=Jm.fromValue(Ll.CheckedBefore),Jm.Errored=Jm.fromValue(Ll.Errored);var Zm=function(){function t(){}return t.fromValue=function(t){return Zn(Fv.ChangeDetectionStrategy,t)},t}();Zm.CheckOnce=Zm.fromValue(bs.CheckOnce),Zm.Checked=Zm.fromValue(bs.Checked),Zm.CheckAlways=Zm.fromValue(bs.CheckAlways),Zm.Detached=Zm.fromValue(bs.Detached),Zm.OnPush=Zm.fromValue(bs.OnPush),Zm.Default=Zm.fromValue(bs.Default);var Ym=function(){function t(){}return t}();Ym.viewUtils=Fn("viewUtils"),Ym.parentInjector=Fn("parentInjector"),Ym.declarationEl=Fn("declarationEl");var $m=function(){function t(){}return t}();$m.renderer=Xy.prop("renderer"),$m.projectableNodes=Xy.prop("projectableNodes"),$m.viewUtils=Xy.prop("viewUtils");var tg=function(){function t(){}return t}();tg.event=Fn("$event");var eg=function(){function t(){}return t}();eg.token=Fn("token"),eg.requestNodeIndex=Fn("requestNodeIndex"),eg.notFoundResult=Fn("notFoundResult");var ng=function(){function t(){}return t}();ng.throwOnChange=Fn("throwOnChange"),ng.changes=Fn("changes"),ng.changed=Fn("changed"),ng.valUnwrapper=Fn("valUnwrapper");var rg,ig=function(){function t(t,e){this.view=t,this.values=e}return t}(),og=function(){function t(t,e,n,r){this.meta=t,this.queryList=e,this.ownerDirectiveExpression=n,this.view=r,this._values=new ig(r,[])}return t.prototype.addValue=function(t,e){for(var n=e,r=[];$t(n)&&n!==this.view;){var i=n.declarationElement;r.unshift(i),n=i.view}var o=Yn(this.queryList,e,this.view),s=this._values;r.forEach(function(t){var e=s.values.length>0?s.values[s.values.length-1]:null;if(e instanceof ig&&e.view===t.embeddedView)s=e;else{var n=new ig(t.embeddedView,[]);s.values.push(n),s=n}}),s.values.push(t),r.length>0&&e.dirtyParentQueriesMethod.addStmt(o.callMethod("setDirty",[]).toStmt())},t.prototype.afterChildren=function(t){var e=ir(this._values),n=[this.queryList.callMethod("reset",[qn(e)]).toStmt()];if($t(this.ownerDirectiveExpression)){var r=this.meta.first?this.queryList.prop("first"):this.queryList;n.push(this.ownerDirectiveExpression.prop(this.meta.propertyName).set(r).toStmt())}this.meta.first||n.push(this.queryList.callMethod("notifyOnChanges",[]).toStmt()),t.addStmt(new um(this.queryList.prop("dirty"),n))},t}(),sg=function(){function t(t,e){this.nodeIndex=t,this.sourceAst=e}return t}(),ag=new sg(null,null),ug=function(){function t(t){this._view=t,this._newState=ag,this._currState=ag,this._bodyStatements=[],this._debugEnabled=this._view.genConfig.genDebugInfo}return t.prototype._updateDebugContextIfNeeded=function(){if(this._newState.nodeIndex!==this._currState.nodeIndex||this._newState.sourceAst!==this._currState.sourceAst){var t=this._updateDebugContext(this._newState);$t(t)&&this._bodyStatements.push(t.toStmt())}},t.prototype._updateDebugContext=function(t){if(this._currState=this._newState=t,this._debugEnabled){var e=$t(t.sourceAst)?t.sourceAst.sourceSpan.start:null;return Xy.callMethod("debug",[Hn(t.nodeIndex),$t(e)?Hn(e.line):Zy,$t(e)?Hn(e.col):Zy])}return null},t.prototype.resetDebugInfoExpr=function(t,e){var n=this._updateDebugContext(new sg(t,e));return $t(n)?n:Zy},t.prototype.resetDebugInfo=function(t,e){this._newState=new sg(t,e)},t.prototype.addStmt=function(t){this._updateDebugContextIfNeeded(),this._bodyStatements.push(t)},t.prototype.addStmts=function(t){this._updateDebugContextIfNeeded(),Sp.addAll(this._bodyStatements,t)},t.prototype.finish=function(){return this._bodyStatements},t.prototype.isEmpty=function(){return 0===this._bodyStatements.length},t}(),cg=function(){function t(t,e,n,r,i){this.parent=t,this.view=e,this.nodeIndex=n,this.renderNode=r,this.sourceAst=i}return t.prototype.isNull=function(){return te(this.renderNode)},t.prototype.isRootElement=function(){return this.view!=this.parent.view},t}(),lg=function(t){function e(e,n,r,i,o,s,a,u,c,l,p){var h=this;t.call(this,e,n,r,i,o),this.component=s,this._directives=a,this._resolvedProvidersArray=u,this.hasViewContainer=c,this.hasEmbeddedView=l,this._compViewExpr=null,this._instances=new tv,this._queryCount=0,this._queries=new tv,this._componentConstructorViewQueryLists=[],this.contentNodesByNgContentIndex=null,this.referenceTokens={},p.forEach(function(t){return h.referenceTokens[t.name]=t.value}),this.elementRef=Un(Fv.ElementRef).instantiate([this.renderNode]),this._instances.add(Sn(Fv.ElementRef),this.elementRef),this.injector=Xy.callMethod("injector",[Hn(this.nodeIndex)]),this._instances.add(Sn(Fv.Injector),this.injector),this._instances.add(Sn(Fv.Renderer),Xy.prop("renderer")),(this.hasViewContainer||this.hasEmbeddedView||$t(this.component))&&this._createAppElement()}return __extends(e,t),e.createNull=function(){return new e(null,null,null,null,null,null,[],[],!1,!1,[])},e.prototype._createAppElement=function(){var t="_appEl_"+this.nodeIndex,e=this.isRootElement()?null:this.parent.nodeIndex;this.view.fields.push(new im(t,Bn(Fv.AppElement),[My.Private]));var n=Xy.prop(t).set(Un(Fv.AppElement).instantiate([Hn(this.nodeIndex),Hn(e),Xy,this.renderNode])).toStmt();this.view.createMethod.addStmt(n),this.appElement=Xy.prop(t),this._instances.add(Sn(Fv.AppElement),this.appElement)},e.prototype.setComponentView=function(t){this._compViewExpr=t,this.contentNodesByNgContentIndex=Sp.createFixedSize(this.component.template.ngContentSelectors.length);for(var e=0;e<this.contentNodesByNgContentIndex.length;e++)this.contentNodesByNgContentIndex[e]=[]},e.prototype.setEmbeddedView=function(t){if(this.embeddedView=t,$t(t)){var e=Un(Fv.TemplateRef_).instantiate([this.appElement,this.embeddedView.viewFactory]),n=new Zd({token:Sn(Fv.TemplateRef),useValue:e});this._resolvedProvidersArray.unshift(new Ml(n.token,!1,!0,[n],fl.Builtin,this.sourceAst.sourceSpan))}},e.prototype.beforeChildren=function(){var t=this;this.hasViewContainer&&this._instances.add(Sn(Fv.ViewContainerRef),this.appElement.prop("vcRef")),this._resolvedProviders=new tv,this._resolvedProvidersArray.forEach(function(e){return t._resolvedProviders.add(e.token,e)}),this._resolvedProviders.values().forEach(function(e){var n=e.providers.map(function(n){if($t(n.useExisting))return t._getDependency(e.providerType,new Jd({token:n.useExisting}));if($t(n.useFactory)){var r=$t(n.deps)?n.deps:n.useFactory.diDeps,i=r.map(function(n){return t._getDependency(e.providerType,n)});return Un(n.useFactory).callFn(i)}if($t(n.useClass)){var r=$t(n.deps)?n.deps:n.useClass.diDeps,i=r.map(function(n){return t._getDependency(e.providerType,n)});return Un(n.useClass).instantiate(i,Bn(n.useClass))}return lr(n.useValue)}),r="_"+e.token.name+"_"+t.nodeIndex+"_"+t._instances.size,i=cr(r,e,n,e.multiProvider,e.eager,t);t._instances.add(e.token,i)}),this.directiveInstances=this._directives.map(function(e){return t._instances.get(Sn(e.type))});for(var e=0;e<this.directiveInstances.length;e++){var n=this.directiveInstances[e],r=this._directives[e];r.queries.forEach(function(e){t._addQuery(e,n)})}var i=[];if(this._resolvedProviders.values().forEach(function(e){var n=t._getQueriesFor(e.token);Sp.addAll(i,n.map(function(t){return new pg(t,e.token)}))}),Ep.forEach(this.referenceTokens,function(e,n){var r,o=t.referenceTokens[n];r=$t(o)?t._instances.get(o):t.renderNode,t.view.locals.set(n,r);var s=new $d({value:n});Sp.addAll(i,t._getQueriesFor(s).map(function(t){return new pg(t,s)}))}),i.forEach(function(e){var n;if($t(e.read.identifier))n=t._instances.get(e.read);else{var r=t.referenceTokens[e.read.value];n=$t(r)?t._instances.get(r):t.elementRef}$t(n)&&e.query.addValue(n,t.view)}),$t(this.component)){var o=$t(this.component)?qn(this._componentConstructorViewQueryLists):Zy,s=$t(this.getComponent())?this.getComponent():Zy;this.view.createMethod.addStmt(this.appElement.callMethod("initComponent",[s,o,this._compViewExpr]).toStmt())}},e.prototype.afterChildren=function(t){var e=this;this._resolvedProviders.values().forEach(function(n){var r=e._instances.get(n.token),i=n.providerType===fl.PrivateService?0:t;e.view.injectorGetMethod.addStmt(ur(e.nodeIndex,i,n,r))}),this._queries.values().forEach(function(t){return t.forEach(function(t){return t.afterChildren(e.view.updateContentQueriesMethod)})})},e.prototype.addContentNode=function(t,e){this.contentNodesByNgContentIndex[t].push(e)},e.prototype.getComponent=function(){return $t(this.component)?this._instances.get(Sn(this.component.type)):null},e.prototype.getProviderTokens=function(){return this._resolvedProviders.values().map(function(t){return er(t.token)})},e.prototype._getQueriesFor=function(t){for(var e,n=[],r=this,i=0;!r.isNull();)e=r._queries.get(t),$t(e)&&Sp.addAll(n,e.filter(function(t){return t.meta.descendants||1>=i})),r._directives.length>0&&i++,r=r.parent;return e=this.view.componentView.viewQueries.get(t),$t(e)&&Sp.addAll(n,e),n},e.prototype._addQuery=function(t,e){var n="_query_"+t.selectors[0].name+"_"+this.nodeIndex+"_"+this._queryCount++,r=sr(t,e,n,this.view),i=new og(t,r,e,this.view);return ar(this._queries,i),i},e.prototype._getLocalDependency=function(t,e){var n=null;if(te(n)&&$t(e.query)&&(n=this._addQuery(e.query,null).queryList),te(n)&&$t(e.viewQuery)&&(n=sr(e.viewQuery,null,"_viewQuery_"+e.viewQuery.selectors[0].name+"_"+this.nodeIndex+"_"+this._componentConstructorViewQueryLists.length,this.view),this._componentConstructorViewQueryLists.push(n)),$t(e.token)){if(te(n)&&e.token.equalsTo(Sn(Fv.ChangeDetectorRef)))return t===fl.Component?this._compViewExpr.prop("ref"):Yn(Xy.prop("ref"),this.view,this.view.componentView);te(n)&&(n=this._instances.get(e.token))}return n},e.prototype._getDependency=function(t,e){var n=this,r=null;for(e.isValue&&(r=Hn(e.value)),te(r)&&!e.isSkipSelf&&(r=this._getLocalDependency(t,e));te(r)&&!n.parent.isNull();)n=n.parent,r=n._getLocalDependency(fl.PublicService,new Jd({token:e.token}));return te(r)&&(r=$n(e.token,e.isOptional)),te(r)&&(r=Zy),Yn(r,this.view,n.view)},e}(cg),pg=function(){function t(t,e){this.query=t,this.read=$t(t.meta.read)?t.meta.read:e}return t}(),hg=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.visitArray=function(t,e){var n=this;return qn(t.map(function(t){return ln(t,n,e)}))},e.prototype.visitStringMap=function(t,e){var n=this,r=[];return Ep.forEach(t,function(t,i){r.push([i,ln(t,n,e)])}),zn(r)},e.prototype.visitPrimitive=function(t,e){return Hn(t)},e.prototype.visitOther=function(t,e){if(t instanceof Xd)return Un(t);if(t instanceof ky)return t;throw new ca("Illegal state: Don't now how to compile value "+t)},e}(Hd),fg=function(){function t(t,e,n){this.view=t,this.instance=e,this.argCount=n}return t}(),dg=function(){function t(t,e){this.view=t,this.meta=e,this._purePipeProxies=[],this.instance=Xy.prop("_pipe_"+e.name+"_"+t.pipeCount++)}return t.call=function(e,n,r){var i,o=e.componentView,s=pr(o,n);return s.pure?(i=o.purePipes.get(n),te(i)&&(i=new t(o,s),o.purePipes.set(n,i),o.pipes.push(i))):(i=new t(e,s),e.pipes.push(i)),i._call(e,r)},Object.defineProperty(t.prototype,"pure",{get:function(){return this.meta.pure},enumerable:!0,configurable:!0}),t.prototype.create=function(){var t=this,e=this.meta.type.diDeps.map(function(e){return e.token.equalsTo(Sn(Fv.ChangeDetectorRef))?Yn(Xy.prop("ref"),t.view,t.view.componentView):$n(e.token,!1)});this.view.fields.push(new im(this.instance.name,Bn(this.meta.type))),this.view.createMethod.resetDebugInfo(null,null),this.view.createMethod.addStmt(Xy.prop(this.instance.name).set(Un(this.meta.type).instantiate(e)).toStmt()),this._purePipeProxies.forEach(function(e){var n=Yn(t.instance,e.view,t.view);rr(n.prop("transform").callMethod(Ay.bind,[n]),e.argCount,e.instance,e.view)})},t.prototype._call=function(t,e){if(this.meta.pure){var n=new fg(t,Xy.prop(this.instance.name+"_"+this._purePipeProxies.length),e.length);return this._purePipeProxies.push(n),Un(Fv.castByValue).callFn([n.instance,Yn(this.instance.prop("transform"),t,this.view)]).callFn(e)}return Yn(this.instance,t,this.view).callMethod("transform",e)},t}(),vg=function(){function t(t,e,n,r,i,o,s){var a=this;this.component=t,this.genConfig=e,this.pipeMetas=n,this.styles=r,this.viewIndex=i,this.declarationElement=o,this.templateVariableBindings=s,this.nodes=[],this.rootNodesOrAppElements=[],this.bindings=[],this.classStatements=[],this.eventHandlerMethods=[],this.fields=[],this.getters=[],this.disposables=[],this.subscriptions=[],this.purePipes=new Map,this.pipes=[],this.locals=new Map,this.literalArrayCount=0,this.literalMapCount=0,this.pipeCount=0,this.createMethod=new ug(this),this.injectorGetMethod=new ug(this),this.updateContentQueriesMethod=new ug(this),this.dirtyParentQueriesMethod=new ug(this),this.updateViewQueriesMethod=new ug(this),this.detectChangesInInputsMethod=new ug(this),this.detectChangesRenderPropertiesMethod=new ug(this),this.afterContentLifecycleCallbacksMethod=new ug(this),this.afterViewLifecycleCallbacksMethod=new ug(this),this.destroyMethod=new ug(this),this.viewType=hr(t,i),this.className="_View_"+t.type.name+i,this.classType=Bn(new Xd({name:this.className})),this.viewFactory=Fn(tr(t,i)),this.viewType===Kl.COMPONENT||this.viewType===Kl.HOST?this.componentView=this:this.componentView=this.declarationElement.view.componentView,
this.componentContext=Yn(Xy.prop("context"),this,this.componentView);var u=new tv;if(this.viewType===Kl.COMPONENT){var c=Xy.prop("context");Sp.forEachWithIndex(this.component.viewQueries,function(t,e){var n="_viewQuery_"+t.selectors[0].name+"_"+e,r=sr(t,c,n,a),i=new og(t,r,c,a);ar(u,i)});var l=0;this.component.type.diDeps.forEach(function(t){if($t(t.viewQuery)){var e=Xy.prop("declarationAppElement").prop("componentConstructorViewQueries").key(Hn(l++)),n=new og(t.viewQuery,e,null,a);ar(u,n)}})}this.viewQueries=u,s.forEach(function(t){a.locals.set(t[1],Xy.prop("context").prop(t[0]))}),this.declarationElement.isNull()||this.declarationElement.setEmbeddedView(this)}return t.prototype.callPipe=function(t,e,n){return dg.call(this,t,[e].concat(n))},t.prototype.getLocal=function(t){if(t==tg.event.name)return tg.event;for(var e=this,n=e.locals.get(t);te(n)&&$t(e.declarationElement.view);)e=e.declarationElement.view,n=e.locals.get(t);return $t(n)?Yn(n,this,e):null},t.prototype.createLiteralArray=function(t){if(0===t.length)return Un(Fv.EMPTY_ARRAY);for(var e=Xy.prop("_arr_"+this.literalArrayCount++),n=[],r=[],i=0;i<t.length;i++){var o="p"+i;n.push(new Hy(o)),r.push(Fn(o))}return rr(Kn(n,[new nm(qn(r))]),t.length,e,this),e.callFn(t)},t.prototype.createLiteralMap=function(t){if(0===t.length)return Un(Fv.EMPTY_MAP);for(var e=Xy.prop("_map_"+this.literalMapCount++),n=[],r=[],i=[],o=0;o<t.length;o++){var s="p"+o;n.push(new Hy(s)),r.push([t[o][0],Fn(s)]),i.push(t[o][1])}return rr(Kn(n,[new nm(zn(r))]),t.length,e,this),e.callFn(i)},t.prototype.afterNodes=function(){var t=this;this.pipes.forEach(function(t){return t.create()}),this.viewQueries.values().forEach(function(e){return e.forEach(function(e){return e.afterChildren(t.updateViewQueriesMethod)})})},t}(),yg="$implicit",mg="class",gg="style",_g=Fn("parentRenderNode"),wg=Fn("rootSelector"),bg=function(){function t(t,e){this.comp=t,this.factoryPlaceholder=e}return t}(),xg=function(){function t(t,e){this.view=t,this.targetDependencies=e,this.nestedViewCount=0}return t.prototype._isRootNode=function(t){return t.view!==this.view},t.prototype._addRootNodeAndProject=function(t,e,n){var r=t instanceof lg&&t.hasViewContainer?t.appElement:null;this._isRootNode(n)?this.view.viewType!==Kl.COMPONENT&&this.view.rootNodesOrAppElements.push($t(r)?r:t.renderNode):$t(n.component)&&$t(e)&&n.addContentNode(e,$t(r)?r:t.renderNode)},t.prototype._getParentRenderNode=function(t){return this._isRootNode(t)?this.view.viewType===Kl.COMPONENT?_g:Zy:$t(t.component)&&t.component.template.encapsulation!==xs.Native?Zy:t.renderNode},t.prototype.visitBoundText=function(t,e){return this._visitText(t,"",t.ngContentIndex,e)},t.prototype.visitText=function(t,e){return this._visitText(t,t.value,t.ngContentIndex,e)},t.prototype._visitText=function(t,e,n,r){var i="_text_"+this.view.nodes.length;this.view.fields.push(new im(i,Bn(this.view.genConfig.renderTypes.renderText)));var o=Xy.prop(i),s=new cg(r,this.view,this.view.nodes.length,o,t),a=Xy.prop(i).set($m.renderer.callMethod("createText",[this._getParentRenderNode(r),Hn(e),this.view.createMethod.resetDebugInfoExpr(this.view.nodes.length,t)])).toStmt();return this.view.nodes.push(s),this.view.createMethod.addStmt(a),this._addRootNodeAndProject(s,n,r),o},t.prototype.visitNgContent=function(t,e){this.view.createMethod.resetDebugInfo(null,t);var n=this._getParentRenderNode(e),r=$m.projectableNodes.key(Hn(t.index),new _y(Bn(this.view.genConfig.renderTypes.renderNode)));return n!==Zy?this.view.createMethod.addStmt($m.renderer.callMethod("projectNodes",[n,Un(Fv.flattenNestedViewRenderNodes).callFn([r])]).toStmt()):this._isRootNode(e)?this.view.viewType!==Kl.COMPONENT&&this.view.rootNodesOrAppElements.push(r):$t(e.component)&&$t(t.ngContentIndex)&&e.addContentNode(t.ngContentIndex,r),null},t.prototype.visitElement=function(t,e){var n,r=this.view.nodes.length,i=this.view.createMethod.resetDebugInfoExpr(r,t);n=0===r&&this.view.viewType===Kl.HOST?Xy.callMethod("selectOrCreateHostElement",[Hn(t.name),wg,i]):$m.renderer.callMethod("createElement",[this._getParentRenderNode(e),Hn(t.name),i]);var o="_el_"+r;this.view.fields.push(new im(o,Bn(this.view.genConfig.renderTypes.renderElement))),this.view.createMethod.addStmt(Xy.prop(o).set(n).toStmt());for(var s=Xy.prop(o),a=t.directives.map(function(t){return t.directive}),u=a.find(function(t){return t.isComponent}),c=yr(t.attrs),l=vr(c,a),p=0;p<l.length;p++){var h=l[p][0],f=l[p][1];this.view.createMethod.addStmt($m.renderer.callMethod("setElementAttribute",[s,Hn(h),Hn(f)]).toStmt())}var d=new lg(e,this.view,r,s,t,u,a,t.providers,t.hasViewContainer,!1,t.references);this.view.nodes.push(d);var v=null;if($t(u)){var y=new Xd({name:tr(u,0)});this.targetDependencies.push(new bg(u,y)),v=Fn("compView_"+r),d.setComponentView(v),this.view.createMethod.addStmt(v.set(Un(y).callFn([$m.viewUtils,d.injector,d.appElement])).toDeclStmt())}if(d.beforeChildren(),this._addRootNodeAndProject(d,t.ngContentIndex,e),ye(this,t.children,d),d.afterChildren(this.view.nodes.length-r-1),$t(v)){var m;m=this.view.component.type.isHost?$m.projectableNodes:qn(d.contentNodesByNgContentIndex.map(function(t){return nr(t)})),this.view.createMethod.addStmt(v.callMethod("create",[d.getComponent(),m,Zy]).toStmt())}return null},t.prototype.visitEmbeddedTemplate=function(t,e){var n=this.view.nodes.length,r="_anchor_"+n;this.view.fields.push(new im(r,Bn(this.view.genConfig.renderTypes.renderComment))),this.view.createMethod.addStmt(Xy.prop(r).set($m.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(e),this.view.createMethod.resetDebugInfoExpr(n,t)])).toStmt());var i=Xy.prop(r),o=t.variables.map(function(t){return[t.value.length>0?t.value:yg,t.name]}),s=t.directives.map(function(t){return t.directive}),a=new lg(e,this.view,n,i,t,null,s,t.providers,t.hasViewContainer,!0,t.references);this.view.nodes.push(a),this.nestedViewCount++;var u=new vg(this.view.component,this.view.genConfig,this.view.pipeMetas,Zy,this.view.viewIndex+this.nestedViewCount,a,o);return this.nestedViewCount+=fr(u,t.children,this.targetDependencies),a.beforeChildren(),this._addRootNodeAndProject(a,t.ngContentIndex,e),a.afterChildren(0),null},t.prototype.visitAttr=function(t,e){return null},t.prototype.visitDirective=function(t,e){return null},t.prototype.visitEvent=function(t,e){return null},t.prototype.visitReference=function(t,e){return null},t.prototype.visitVariable=function(t,e){return null},t.prototype.visitDirectiveProperty=function(t,e){return null},t.prototype.visitElementProperty=function(t,e){return null},t}(),Cg=Fn("#implicit"),Eg=function(){function t(t,e){this.expression=t,this.needsValueUnwrapper=e}return t}();!function(t){t[t.Statement=0]="Statement",t[t.Expression=1]="Expression"}(rg||(rg={}));var Sg=function(){function t(t,e,n){this._nameResolver=t,this._implicitReceiver=e,this._valueUnwrapper=n,this.needsValueUnwrapper=!1}return t.prototype.visitBinary=function(t,e){var n;switch(t.operation){case"+":n=yy.Plus;break;case"-":n=yy.Minus;break;case"*":n=yy.Multiply;break;case"/":n=yy.Divide;break;case"%":n=yy.Modulo;break;case"&&":n=yy.And;break;case"||":n=yy.Or;break;case"==":n=yy.Equals;break;case"!=":n=yy.NotEquals;break;case"===":n=yy.Identical;break;case"!==":n=yy.NotIdentical;break;case"<":n=yy.Lower;break;case">":n=yy.Bigger;break;case"<=":n=yy.LowerEquals;break;case">=":n=yy.BiggerEquals;break;default:throw new Ap("Unsupported operation "+t.operation)}return Nr(e,new zy(n,t.left.visit(this,rg.Expression),t.right.visit(this,rg.Expression)))},t.prototype.visitChain=function(t,e){return Or(e,t),this.visitAll(t.expressions,e)},t.prototype.visitConditional=function(t,e){var n=t.condition.visit(this,rg.Expression);return Nr(e,n.conditional(t.trueExp.visit(this,rg.Expression),t.falseExp.visit(this,rg.Expression)))},t.prototype.visitPipe=function(t,e){var n=t.exp.visit(this,rg.Expression),r=this.visitAll(t.args,rg.Expression),i=this._nameResolver.callPipe(t.name,n,r);return this.needsValueUnwrapper=!0,Nr(e,this._valueUnwrapper.callMethod("unwrap",[i]))},t.prototype.visitFunctionCall=function(t,e){return Nr(e,t.target.visit(this,rg.Expression).callFn(this.visitAll(t.args,rg.Expression)))},t.prototype.visitImplicitReceiver=function(t,e){return Ir(e,t),Cg},t.prototype.visitInterpolation=function(t,e){Ir(e,t);for(var n=[Hn(t.expressions.length)],r=0;r<t.strings.length-1;r++)n.push(Hn(t.strings[r])),n.push(t.expressions[r].visit(this,rg.Expression));return n.push(Hn(t.strings[t.strings.length-1])),Un(Fv.interpolate).callFn(n)},t.prototype.visitKeyedRead=function(t,e){return Nr(e,t.obj.visit(this,rg.Expression).key(t.key.visit(this,rg.Expression)))},t.prototype.visitKeyedWrite=function(t,e){var n=t.obj.visit(this,rg.Expression),r=t.key.visit(this,rg.Expression),i=t.value.visit(this,rg.Expression);return Nr(e,n.key(r).set(i))},t.prototype.visitLiteralArray=function(t,e){return Nr(e,this._nameResolver.createLiteralArray(this.visitAll(t.expressions,e)))},t.prototype.visitLiteralMap=function(t,e){for(var n=[],r=0;r<t.keys.length;r++)n.push([t.keys[r],t.values[r].visit(this,rg.Expression)]);return Nr(e,this._nameResolver.createLiteralMap(n))},t.prototype.visitLiteralPrimitive=function(t,e){return Nr(e,Hn(t.value))},t.prototype.visitMethodCall=function(t,e){var n=this.visitAll(t.args,rg.Expression),r=null,i=t.receiver.visit(this,rg.Expression);if(i===Cg){var o=this._nameResolver.getLocal(t.name);$t(o)?r=o.callFn(n):i=this._implicitReceiver}return te(r)&&(r=i.callMethod(t.name,n)),Nr(e,r)},t.prototype.visitPrefixNot=function(t,e){return Nr(e,Wn(t.expression.visit(this,rg.Expression)))},t.prototype.visitPropertyRead=function(t,e){var n=null,r=t.receiver.visit(this,rg.Expression);return r===Cg&&(n=this._nameResolver.getLocal(t.name),te(n)&&(r=this._implicitReceiver)),te(n)&&(n=r.prop(t.name)),Nr(e,n)},t.prototype.visitPropertyWrite=function(t,e){var n=t.receiver.visit(this,rg.Expression);if(n===Cg){var r=this._nameResolver.getLocal(t.name);if($t(r))throw new Ap("Cannot assign to a reference or variable!");n=this._implicitReceiver}return Nr(e,n.prop(t.name).set(t.value.visit(this,rg.Expression)))},t.prototype.visitSafePropertyRead=function(t,e){var n=t.receiver.visit(this,rg.Expression);return Nr(e,n.isBlank().conditional(Zy,n.prop(t.name)))},t.prototype.visitSafeMethodCall=function(t,e){var n=t.receiver.visit(this,rg.Expression),r=this.visitAll(t.args,rg.Expression);return Nr(e,n.isBlank().conditional(Zy,n.callMethod(t.name,r)))},t.prototype.visitAll=function(t,e){var n=this;return t.map(function(t){return t.visit(n,e)})},t.prototype.visitQuote=function(t,e){throw new Ap("Quotes are not supported for evaluation!")},t}(),Pg=function(){function t(t,e){this.node=t,this.sourceAst=e}return t}(),kg=function(){function t(t,e,n,r){this.compileElement=t,this.eventTarget=e,this.eventName=n,this._hasComponentHostListener=!1,this._actionResultExprs=[],this._method=new ug(t.view),this._methodName="_handle_"+Qr(n)+"_"+t.nodeIndex+"_"+r,this._eventParam=new Hy(tg.event.name,Bn(this.compileElement.view.genConfig.renderTypes.renderEvent))}return t.getOrCreate=function(e,n,r,i){var o=i.find(function(t){return t.eventTarget==n&&t.eventName==r});return te(o)&&(o=new t(e,n,r,i.length),i.push(o)),o},t.prototype.addAction=function(t,e,n){$t(e)&&e.isComponent&&(this._hasComponentHostListener=!0),this._method.resetDebugInfo(this.compileElement.nodeIndex,t);var r=$t(n)?n:this.compileElement.view.componentContext,i=Tr(this.compileElement.view,r,t.handler),o=i.length-1;if(o>=0){var s=i[o],a=Gr(s),u=Fn("pd_"+this._actionResultExprs.length);this._actionResultExprs.push(u),$t(a)&&(i[o]=u.set(a.cast(by).notIdentical(Hn(!1))).toDeclStmt(null,[My.Final]))}this._method.addStmts(i)},t.prototype.finishMethod=function(){var t=this._hasComponentHostListener?this.compileElement.appElement.prop("componentView"):Xy,e=Hn(!0);this._actionResultExprs.forEach(function(t){e=e.and(t)});var n=[t.callMethod("markPathToRootAsCheckOnce",[]).toStmt()].concat(this._method.finish()).concat([new nm(e)]);this.compileElement.view.eventHandlerMethods.push(new om(this._methodName,[this._eventParam],n,xy,[My.Private]))},t.prototype.listenToRenderer=function(){var t,e=Xy.callMethod("eventHandler",[Xy.prop(this._methodName).callMethod(Ay.bind,[Xy])]);t=$t(this.eventTarget)?$m.renderer.callMethod("listenGlobal",[Hn(this.eventTarget),Hn(this.eventName),e]):$m.renderer.callMethod("listen",[this.compileElement.renderNode,Hn(this.eventName),e]);var n=Fn("disposable_"+this.compileElement.view.disposables.length);this.compileElement.view.disposables.push(n),this.compileElement.view.createMethod.addStmt(n.set(t).toDeclStmt(Sy,[My.Private]))},t.prototype.listenToDirective=function(t,e){var n=Fn("subscription_"+this.compileElement.view.subscriptions.length);this.compileElement.view.subscriptions.push(n);var r=Xy.callMethod("eventHandler",[Xy.prop(this._methodName).callMethod(Ay.bind,[Xy])]);this.compileElement.view.createMethod.addStmt(n.set(t.prop(e).callMethod(Ay.SubscribeObservable,[r])).toDeclStmt(null,[My.Final]))},t}(),Ag=Xy.prop("cdState").identical(Jm.NeverChecked),Tg=Wn(ng.throwOnChange),Og=function(){function t(t){this.view=t,this._nodeIndex=0}return t.prototype.visitBoundText=function(t,e){var n=this.view.nodes[this._nodeIndex++];return jr(t,n,this.view),null},t.prototype.visitText=function(t,e){return this._nodeIndex++,null},t.prototype.visitNgContent=function(t,e){return null},t.prototype.visitElement=function(t,e){var n=this.view.nodes[this._nodeIndex++],r=zr(t.outputs,t.directives,n);return Ur(t.inputs,n),Kr(r),Sp.forEachWithIndex(t.directives,function(t,e){var i=n.directiveInstances[e];Hr(t,i,n),Xr(t,i,n),Br(t,i,n),Wr(t,i,r)}),ye(this,t.children,n),Sp.forEachWithIndex(t.directives,function(t,e){var r=n.directiveInstances[e];Jr(t.directive,r,n),Zr(t.directive,r,n),Yr(t.directive,r,n)}),null},t.prototype.visitEmbeddedTemplate=function(t,e){var n=this.view.nodes[this._nodeIndex++],r=zr(t.outputs,t.directives,n);return Sp.forEachWithIndex(t.directives,function(t,e){var i=n.directiveInstances[e];Hr(t,i,n),Xr(t,i,n),Wr(t,i,r),Jr(t.directive,i,n),Zr(t.directive,i,n),Yr(t.directive,i,n)}),ti(n.embeddedView,t.children),null},t.prototype.visitAttr=function(t,e){return null},t.prototype.visitDirective=function(t,e){return null},t.prototype.visitEvent=function(t,e){return null},t.prototype.visitReference=function(t,e){return null},t.prototype.visitVariable=function(t,e){return null},t.prototype.visitDirectiveProperty=function(t,e){return null},t.prototype.visitElementProperty=function(t,e){return null},t}(),Ig=function(){function t(t,e,n){this.statements=t,this.viewFactoryVar=e,this.dependencies=n}return t}(),Ng=function(){function t(t){this._genConfig=t}return t.prototype.compileComponent=function(t,e,n,r){var i=[],o=[],s=new vg(t,this._genConfig,r,n,0,lg.createNull(),[]);return fr(s,e,o),ti(s,e),dr(s,i),new Ig(i,s.viewFactory.name,o)},t}();Ng.decorators=[{type:Ws}],Ng.ctorParameters=[{type:hy}];var Mg=function(){function t(){}return t.prototype.get=function(t){return null},t}(),Vg=function(){function t(t,e,n){this._xhr=t,this._urlResolver=e,this._htmlParser=n}return t.prototype.normalizeDirective=function(t){return t.isComponent?this.normalizeTemplate(t.type,t.template).then(function(e){return new iv({type:t.type,isComponent:t.isComponent,selector:t.selector,exportAs:t.exportAs,changeDetection:t.changeDetection,inputs:t.inputs,outputs:t.outputs,hostListeners:t.hostListeners,hostProperties:t.hostProperties,hostAttributes:t.hostAttributes,lifecycleHooks:t.lifecycleHooks,providers:t.providers,viewProviders:t.viewProviders,queries:t.queries,viewQueries:t.viewQueries,template:e})}):ym.resolve(t)},t.prototype.normalizeTemplate=function(t,e){var n=this;if($t(e.template))return ym.resolve(this.normalizeLoadedTemplate(t,e,e.template,t.moduleUrl));if($t(e.templateUrl)){var r=this._urlResolver.resolve(t.moduleUrl,e.templateUrl);return this._xhr.get(r).then(function(i){return n.normalizeLoadedTemplate(t,e,i,r)})}throw new Ap("No template specified for component "+t.name)},t.prototype.normalizeLoadedTemplate=function(t,e,n,r){var i=this,o=this._htmlParser.parse(n,t.name);if(o.errors.length>0){var s=o.errors.join("\n");throw new Ap("Template parse errors:\n"+s)}var a=new Rg;Ve(a,o.rootNodes);var u=e.styles.concat(a.styles),c=a.styleUrls.filter(on).map(function(t){return i._urlResolver.resolve(r,t)}).concat(e.styleUrls.filter(on).map(function(e){return i._urlResolver.resolve(t.moduleUrl,e)})),l=u.map(function(t){var e=sn(i._urlResolver,r,t);return e.styleUrls.forEach(function(t){return c.push(t)}),e.style}),p=e.encapsulation;return p===xs.Emulated&&0===l.length&&0===c.length&&(p=xs.None),new rv({encapsulation:p,template:n,templateUrl:r,styles:l,styleUrls:c,ngContentSelectors:a.ngContentSelectors})},t}();Vg.decorators=[{type:Ws}],Vg.ctorParameters=[{type:Mg},{type:Wd},{type:md}];var Rg=function(){function t(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return t.prototype.visitElement=function(t,e){var n=nn(t);switch(n.type){case gd.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case gd.STYLE:var r="";t.children.forEach(function(t){t instanceof ff&&(r+=t.value)}),this.styles.push(r);break;case gd.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,Ve(this,t.children),n.nonBindable&&this.ngNonBindableStackCount--,null},t.prototype.visitComment=function(t,e){return null},t.prototype.visitAttr=function(t,e){return null},t.prototype.visitText=function(t,e){return null},t.prototype.visitExpansion=function(t,e){return null},t.prototype.visitExpansionCase=function(t,e){return null},t}(),Dg=function(){function t(t){$t(t)?this._reflector=t:this._reflector=ma}return t.prototype.resolve=function(t){var e=this._reflector.annotations(x(t));if($t(e)){var n=e.find(ei);if($t(n)){var r=this._reflector.propMetadata(t);return this._mergeWithPropertyMetadata(n,r,t)}}throw new Ap("No Directive annotation found on "+ue(t))},t.prototype._mergeWithPropertyMetadata=function(t,e,n){var r=[],i=[],o={},s={};return Ep.forEach(e,function(t,e){t.forEach(function(t){if(t instanceof ks&&($t(t.bindingPropertyName)?r.push(e+": "+t.bindingPropertyName):r.push(e)),t instanceof As&&($t(t.bindingPropertyName)?i.push(e+": "+t.bindingPropertyName):i.push(e)),t instanceof Ts&&($t(t.hostPropertyName)?o["["+t.hostPropertyName+"]"]=e:o["["+e+"]"]=e),t instanceof Os){var n=$t(t.args)?t.args.join(", "):"";o["("+t.eventName+")"]=e+"("+n+")"}t instanceof ys&&(s[e]=t),t instanceof _s&&(s[e]=t),t instanceof ms&&(s[e]=t),t instanceof ws&&(s[e]=t)})}),this._merge(t,r,i,o,s,n)},t.prototype._merge=function(t,e,n,r,i,o){var s,a=$t(t.inputs)?Sp.concat(t.inputs,e):e;$t(t.outputs)?(t.outputs.forEach(function(t){if(Sp.contains(n,t))throw new Ap("Output event '"+t+"' defined multiple times in '"+ue(o)+"'")}),s=Sp.concat(t.outputs,n)):s=n;var u=$t(t.host)?Ep.merge(t.host,r):r,c=$t(t.queries)?Ep.merge(t.queries,i):i;return t instanceof Ss?new Ss({selector:t.selector,inputs:a,outputs:s,host:u,exportAs:t.exportAs,moduleId:t.moduleId,queries:c,changeDetection:t.changeDetection,providers:t.providers,viewProviders:t.viewProviders}):new Es({selector:t.selector,inputs:a,outputs:s,host:u,exportAs:t.exportAs,queries:c,providers:t.providers})},t}();Dg.decorators=[{type:Ws}],Dg.ctorParameters=[{type:Hl}];var jg=(new Dg(ma),function(){function t(t){$t(t)?this._reflector=t:this._reflector=ma}return t.prototype.resolve=function(t){var e=this._reflector.annotations(x(t));if($t(e)){var n=e.find(ni);if($t(n))return n}throw new Ap("No Pipe decorator found on "+ue(t))},t}());jg.decorators=[{type:Ws}],jg.ctorParameters=[{type:Hl}];var Lg=(new jg(ma),function(){function t(t){this._cache=new xp,$t(t)?this._reflector=t:this._reflector=ma}return t.prototype.resolve=function(t){var e=this._cache.get(t);return te(e)&&(e=this._resolve(t),this._cache.set(t,e)),e},t.prototype._resolve=function(t){var e,n;if(this._reflector.annotations(t).forEach(function(t){t instanceof Ns&&(n=t),t instanceof Ss&&(e=t)}),!$t(e)){if(te(n))throw new Ap("Could not compile '"+ue(t)+"' because it is not a component.");return n}if(te(e.template)&&te(e.templateUrl)&&te(n))throw new Ap("Component '"+ue(t)+"' must have either 'template' or 'templateUrl' set.");if($t(e.template)&&$t(n))this._throwMixingViewAndComponent("template",t);else if($t(e.templateUrl)&&$t(n))this._throwMixingViewAndComponent("templateUrl",t);else if($t(e.directives)&&$t(n))this._throwMixingViewAndComponent("directives",t);else if($t(e.pipes)&&$t(n))this._throwMixingViewAndComponent("pipes",t);else if($t(e.encapsulation)&&$t(n))this._throwMixingViewAndComponent("encapsulation",t);else if($t(e.styles)&&$t(n))this._throwMixingViewAndComponent("styles",t);else{if(!$t(e.styleUrls)||!$t(n))return $t(n)?n:new Ns({templateUrl:e.templateUrl,template:e.template,directives:e.directives,pipes:e.pipes,encapsulation:e.encapsulation,styles:e.styles,styleUrls:e.styleUrls});this._throwMixingViewAndComponent("styleUrls",t)}return null},t.prototype._throwMixingViewAndComponent=function(t,e){throw new Ap("Component '"+ue(e)+"' cannot have both '"+t+"' and '@View' set at the same time\"")},t}());Lg.decorators=[{type:Ws}],Lg.ctorParameters=[{type:Hl}];var Fg=function(){function t(t,e,n,r,i,o){this._directiveResolver=t,this._pipeResolver=e,this._viewResolver=n,this._platformDirectives=r,this._platformPipes=i,this._directiveCache=new Map,this._pipeCache=new Map,this._anonymousTypes=new Map,this._anonymousTypeIndex=0,$t(o)?this._reflector=o:this._reflector=ma}return t.prototype.sanitizeTokenName=function(t){var e=ue(t);if(e.indexOf("(")>=0){var n=this._anonymousTypes.get(t);te(n)&&(this._anonymousTypes.set(t,this._anonymousTypeIndex++),n=this._anonymousTypes.get(t)),e="anonymous_token_"+n+"_"}return cn(e)},t.prototype.getDirectiveMetadata=function(t){var e=this._directiveCache.get(t);if(te(e)){var n=this._directiveResolver.resolve(t),r=null,i=null,o=[],s=li(t);if(n instanceof Ss){ii("styles",n.styles);var a=n,u=this._viewResolver.resolve(t);ii("styles",u.styles),r=new rv({encapsulation:u.encapsulation,template:u.template,templateUrl:u.templateUrl,styles:u.styles,styleUrls:u.styleUrls}),i=a.changeDetection,$t(n.viewProviders)&&(o=this.getProvidersMetadata(n.viewProviders)),s=pi(this._reflector,t,a)}var c=[];$t(n.providers)&&(c=this.getProvidersMetadata(n.providers));var l=[],p=[];$t(n.queries)&&(l=this.getQueriesMetadata(n.queries,!1),p=this.getQueriesMetadata(n.queries,!0)),e=iv.create({selector:n.selector,exportAs:n.exportAs,isComponent:$t(r),type:this.getTypeMetadata(t,s),template:r,changeDetection:i,inputs:n.inputs,outputs:n.outputs,host:n.host,lifecycleHooks:Bl.filter(function(e){return ri(e,t)}),providers:c,viewProviders:o,queries:l,viewQueries:p}),this._directiveCache.set(t,e)}return e},t.prototype.maybeGetDirectiveMetadata=function(t){try{return this.getDirectiveMetadata(t)}catch(t){if(-1!==t.message.indexOf("No Directive annotation"))return null;throw t}},t.prototype.getTypeMetadata=function(t,e){return new ev({name:this.sanitizeTokenName(t),moduleUrl:e,runtime:t,diDeps:this.getDependenciesMetadata(t,null)})},t.prototype.getFactoryMetadata=function(t,e){return new Yd({name:this.sanitizeTokenName(t),moduleUrl:e,runtime:t,diDeps:this.getDependenciesMetadata(t,null)})},t.prototype.getPipeMetadata=function(t){var e=this._pipeCache.get(t);if(te(e)){var n=this._pipeResolver.resolve(t);e=new ov({type:this.getTypeMetadata(t,li(t)),name:n.name,pure:n.pure,lifecycleHooks:Bl.filter(function(e){return ri(e,t)})}),this._pipeCache.set(t,e)}return e},t.prototype.getViewDirectivesMetadata=function(t){for(var e=this,n=this._viewResolver.resolve(t),r=oi(n,this._platformDirectives),i=0;i<r.length;i++)if(!ci(r[i]))throw new Ap("Unexpected directive value '"+ue(r[i])+"' on the View of component '"+ue(t)+"'");return r.map(function(t){return e.getDirectiveMetadata(t)})},t.prototype.getViewPipesMetadata=function(t){for(var e=this,n=this._viewResolver.resolve(t),r=si(n,this._platformPipes),i=0;i<r.length;i++)if(!ci(r[i]))throw new Ap("Unexpected piped value '"+ue(r[i])+"' on the View of component '"+ue(t)+"'");return r.map(function(t){return e.getPipeMetadata(t)})},t.prototype.getDependenciesMetadata=function(t,e){var n=this,r=$t(e)?e:this._reflector.parameters(t);return te(r)&&(r=[]),r.map(function(t){if(te(t))return null;var e=!1,r=!1,i=!1,o=!1,s=!1,a=null,u=null,c=null;return se(t)?t.forEach(function(t){t instanceof fs?r=!0:t instanceof ps?i=!0:t instanceof hs?o=!0:t instanceof us?s=!0:t instanceof ds?(e=!0,c=t.attributeName):t instanceof vs?t.isViewQuery?u=t:a=t:t instanceof as?c=t.token:ci(t)&&te(c)&&(c=t)}):c=t,te(c)?null:new Jd({isAttribute:e,isHost:r,isSelf:i,isSkipSelf:o,isOptional:s,query:$t(a)?n.getQueryMetadata(a,null):null,viewQuery:$t(u)?n.getQueryMetadata(u,null):null,token:n.getTokenMetadata(c)})})},t.prototype.getTokenMetadata=function(t){t=x(t);var e;return e=new $d(re(t)?{value:t}:{identifier:new Xd({runtime:t,name:this.sanitizeTokenName(t),moduleUrl:li(t)})})},t.prototype.getProvidersMetadata=function(t){var e=this;return t.map(function(t){return t=x(t),se(t)?e.getProvidersMetadata(t):t instanceof Ta?e.getProviderMetadata(t):ap(t)?e.getProviderMetadata(sp(t)):e.getTypeMetadata(t,li(t))})},t.prototype.getProviderMetadata=function(t){var e;return $t(t.useClass)?e=this.getDependenciesMetadata(t.useClass,t.dependencies):$t(t.useFactory)&&(e=this.getDependenciesMetadata(t.useFactory,t.dependencies)),new Zd({token:this.getTokenMetadata(t.token),useClass:$t(t.useClass)?this.getTypeMetadata(t.useClass,li(t.useClass)):null,useValue:hi(t.useValue),useFactory:$t(t.useFactory)?this.getFactoryMetadata(t.useFactory,li(t.useFactory)):null,useExisting:$t(t.useExisting)?this.getTokenMetadata(t.useExisting):null,deps:e,multi:t.multi})},t.prototype.getQueriesMetadata=function(t,e){var n=this,r=[];return Ep.forEach(t,function(t,i){t.isViewQuery===e&&r.push(n.getQueryMetadata(t,i))}),r},t.prototype.getQueryMetadata=function(t,e){var n,r=this;return n=t.isVarBindingQuery?t.varBindings.map(function(t){return r.getTokenMetadata(t)}):[this.getTokenMetadata(t.selector)],new nv({selectors:n,first:t.first,descendants:t.descendants,propertyName:e,read:$t(t.read)?this.getTokenMetadata(t.read):null})},t}();Fg.decorators=[{type:Ws}],Fg.ctorParameters=[{type:Dg},{type:jg},{type:Lg},{type:void 0,decorators:[{type:zs},{type:qs,args:[Kc]}]},{type:void 0,decorators:[{type:zs},{type:qs,args:[Gc]}]},{type:Hl}];var Ug=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.visitOther=function(t,e){return new Xd(ui(t)?{name:t.name,moduleUrl:li(t)}:{runtime:t})},e}(Hd),Bg=/'|\\|\n|\r|\$/g,Hg=Fn("error"),qg=Fn("stack"),zg=function(){function t(t){this.indent=t,this.parts=[]}return t}(),Wg=function(){function t(t,e){this._exportedVars=t,this._indent=e,this._classes=[],this._lines=[new zg(e)]}return t.createRoot=function(e){return new t(e,0)},Object.defineProperty(t.prototype,"_currentLine",{get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),t.prototype.isExportedVar=function(t){return-1!==this._exportedVars.indexOf(t)},t.prototype.println=function(t){void 0===t&&(t=""),this.print(t,!0)},t.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},t.prototype.print=function(t,e){void 0===e&&(e=!1),t.length>0&&this._currentLine.parts.push(t),e&&this._lines.push(new zg(this._indent))},t.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},t.prototype.incIndent=function(){this._indent++,this._currentLine.indent=this._indent},t.prototype.decIndent=function(){this._indent--,this._currentLine.indent=this._indent},t.prototype.pushClass=function(t){this._classes.push(t)},t.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(t.prototype,"currentClass",{get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),t.prototype.toSource=function(){var t=this._lines;return 0===t[t.length-1].parts.length&&(t=t.slice(0,t.length-1)),t.map(function(t){return t.parts.length>0?di(t.indent)+t.parts.join(""):""}).join("\n")},t}(),Kg=function(){function t(t){this._escapeDollarInStrings=t}return t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e),e.println(";"),null},t.prototype.visitReturnStmt=function(t,e){return e.print("return "),t.value.visitExpression(this,e),e.println(";"),null},t.prototype.visitIfStmt=function(t,e){e.print("if ("),t.condition.visitExpression(this,e),e.print(") {");var n=$t(t.falseCase)&&t.falseCase.length>0;return t.trueCase.length<=1&&!n?(e.print(" "),this.visitAllStatements(t.trueCase,e),e.removeEmptyLastLine(),e.print(" ")):(e.println(),e.incIndent(),this.visitAllStatements(t.trueCase,e),e.decIndent(),n&&(e.println("} else {"),e.incIndent(),this.visitAllStatements(t.falseCase,e),e.decIndent())),e.println("}"),null},t.prototype.visitThrowStmt=function(t,e){return e.print("throw "),t.error.visitExpression(this,e),e.println(";"),null},t.prototype.visitCommentStmt=function(t,e){var n=t.comment.split("\n");return n.forEach(function(t){e.println("// "+t)}),null},t.prototype.visitWriteVarExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print("("),e.print(t.name+" = "),t.value.visitExpression(this,e),n||e.print(")"),null},t.prototype.visitWriteKeyExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print("("),t.receiver.visitExpression(this,e),e.print("["),t.index.visitExpression(this,e),e.print("] = "),t.value.visitExpression(this,e),n||e.print(")"),null},t.prototype.visitWritePropExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print("("),t.receiver.visitExpression(this,e),e.print("."+t.name+" = "),t.value.visitExpression(this,e),n||e.print(")"),null},t.prototype.visitInvokeMethodExpr=function(t,e){t.receiver.visitExpression(this,e);var n=t.name;return $t(t.builtin)&&(n=this.getBuiltinMethodName(t.builtin),te(n))?null:(e.print("."+n+"("),this.visitAllExpressions(t.args,e,","),e.print(")"),null)},t.prototype.visitInvokeFunctionExpr=function(t,e){return t.fn.visitExpression(this,e),e.print("("),this.visitAllExpressions(t.args,e,","),e.print(")"),null},t.prototype.visitReadVarExpr=function(t,e){var n=t.name;if($t(t.builtin))switch(t.builtin){case Py.Super:n="super";break;case Py.This:n="this";break;case Py.CatchError:n=Hg.name;break;case Py.CatchStack:n=qg.name;break;default:throw new Ap("Unknown builtin variable "+t.builtin)}return e.print(n),null},t.prototype.visitInstantiateExpr=function(t,e){return e.print("new "),t.classExpr.visitExpression(this,e),e.print("("),this.visitAllExpressions(t.args,e,","),e.print(")"),null},t.prototype.visitLiteralExpr=function(t,e){var n=t.value;return re(n)?e.print(fi(n,this._escapeDollarInStrings)):te(n)?e.print("null"):e.print(""+n),null},t.prototype.visitConditionalExpr=function(t,e){return e.print("("),t.condition.visitExpression(this,e),e.print("? "),t.trueCase.visitExpression(this,e),e.print(": "),t.falseCase.visitExpression(this,e),e.print(")"),null},t.prototype.visitNotExpr=function(t,e){return e.print("!"),t.condition.visitExpression(this,e),null},t.prototype.visitBinaryOperatorExpr=function(t,e){var n;switch(t.operator){case yy.Equals:n="==";break;case yy.Identical:n="===";break;case yy.NotEquals:n="!=";break;case yy.NotIdentical:n="!==";break;case yy.And:n="&&";break;case yy.Or:n="||";break;case yy.Plus:n="+";break;case yy.Minus:n="-";break;case yy.Divide:n="/";break;case yy.Multiply:n="*";break;case yy.Modulo:n="%";break;case yy.Lower:n="<";break;case yy.LowerEquals:n="<=";break;case yy.Bigger:n=">";break;case yy.BiggerEquals:n=">=";break;default:throw new Ap("Unknown operator "+t.operator)}return e.print("("),t.lhs.visitExpression(this,e),e.print(" "+n+" "),t.rhs.visitExpression(this,e),e.print(")"),null},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e),e.print("."),e.print(t.name),null},t.prototype.visitReadKeyExpr=function(t,e){
return t.receiver.visitExpression(this,e),e.print("["),t.index.visitExpression(this,e),e.print("]"),null},t.prototype.visitLiteralArrayExpr=function(t,e){var n=t.entries.length>1;return e.print("[",n),e.incIndent(),this.visitAllExpressions(t.entries,e,",",n),e.decIndent(),e.print("]",n),null},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,r=t.entries.length>1;return e.print("{",r),e.incIndent(),this.visitAllObjects(function(t){e.print(fi(t[0],n._escapeDollarInStrings)+": "),t[1].visitExpression(n,e)},t.entries,e,",",r),e.decIndent(),e.print("}",r),null},t.prototype.visitAllExpressions=function(t,e,n,r){var i=this;void 0===r&&(r=!1),this.visitAllObjects(function(t){return t.visitExpression(i,e)},t,e,n,r)},t.prototype.visitAllObjects=function(t,e,n,r,i){void 0===i&&(i=!1);for(var o=0;o<e.length;o++)o>0&&n.print(r,i),t(e[o]);i&&n.println()},t.prototype.visitAllStatements=function(t,e){var n=this;t.forEach(function(t){return t.visitStatement(n,e)})},t}(),Gg=function(t){function e(){t.call(this,!1)}return __extends(e,t),e.prototype.visitDeclareClassStmt=function(t,e){var n=this;return e.pushClass(t),this._visitClassConstructor(t,e),$t(t.parent)&&(e.print(t.name+".prototype = Object.create("),t.parent.visitExpression(this,e),e.println(".prototype);")),t.getters.forEach(function(r){return n._visitClassGetter(t,r,e)}),t.methods.forEach(function(r){return n._visitClassMethod(t,r,e)}),e.popClass(),null},e.prototype._visitClassConstructor=function(t,e){e.print("function "+t.name+"("),$t(t.constructorMethod)&&this._visitParams(t.constructorMethod.params,e),e.println(") {"),e.incIndent(),$t(t.constructorMethod)&&t.constructorMethod.body.length>0&&(e.println("var self = this;"),this.visitAllStatements(t.constructorMethod.body,e)),e.decIndent(),e.println("}")},e.prototype._visitClassGetter=function(t,e,n){n.println("Object.defineProperty("+t.name+".prototype, '"+e.name+"', { get: function() {"),n.incIndent(),e.body.length>0&&(n.println("var self = this;"),this.visitAllStatements(e.body,n)),n.decIndent(),n.println("}});")},e.prototype._visitClassMethod=function(t,e,n){n.print(t.name+".prototype."+e.name+" = function("),this._visitParams(e.params,n),n.println(") {"),n.incIndent(),e.body.length>0&&(n.println("var self = this;"),this.visitAllStatements(e.body,n)),n.decIndent(),n.println("};")},e.prototype.visitReadVarExpr=function(e,n){if(e.builtin===Py.This)n.print("self");else{if(e.builtin===Py.Super)throw new Ap("'super' needs to be handled at a parent ast node, not at the variable level!");t.prototype.visitReadVarExpr.call(this,e,n)}return null},e.prototype.visitDeclareVarStmt=function(t,e){return e.print("var "+t.name+" = "),t.value.visitExpression(this,e),e.println(";"),null},e.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e),null},e.prototype.visitInvokeFunctionExpr=function(e,n){var r=e.fn;return r instanceof Ty&&r.builtin===Py.Super?(n.currentClass.parent.visitExpression(this,n),n.print(".call(this"),e.args.length>0&&(n.print(", "),this.visitAllExpressions(e.args,n,",")),n.print(")")):t.prototype.visitInvokeFunctionExpr.call(this,e,n),null},e.prototype.visitFunctionExpr=function(t,e){return e.print("function("),this._visitParams(t.params,e),e.println(") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.print("}"),null},e.prototype.visitDeclareFunctionStmt=function(t,e){return e.print("function "+t.name+"("),this._visitParams(t.params,e),e.println(") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.println("}"),null},e.prototype.visitTryCatchStmt=function(t,e){e.println("try {"),e.incIndent(),this.visitAllStatements(t.bodyStmts,e),e.decIndent(),e.println("} catch ("+Hg.name+") {"),e.incIndent();var n=[qg.set(Hg.prop("stack")).toDeclStmt(null,[My.Final])].concat(t.catchStmts);return this.visitAllStatements(n,e),e.decIndent(),e.println("}"),null},e.prototype._visitParams=function(t,e){this.visitAllObjects(function(t){return e.print(t.name)},t,e,",")},e.prototype.getBuiltinMethodName=function(t){var e;switch(t){case Ay.ConcatArray:e="concat";break;case Ay.SubscribeObservable:e="subscribe";break;case Ay.bind:e="bind";break;default:throw new Ap("Unknown builtin method: "+t)}return e},e}(Kg),Qg=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];t.apply(this,e),this._evalArgNames=[],this._evalArgValues=[]}return __extends(e,t),e.prototype.getArgs=function(){for(var t={},e=0;e<this._evalArgNames.length;e++)t[this._evalArgNames[e]]=this._evalArgValues[e];return t},e.prototype.visitExternalExpr=function(t,e){var n=t.value.runtime,r=this._evalArgValues.indexOf(n);if(-1===r){r=this._evalArgValues.length,this._evalArgValues.push(n);var i=$t(t.value.name)?cn(t.value.name):"val";this._evalArgNames.push(cn("jit_"+i+r))}return e.print(this._evalArgNames[r]),null},e}(Gg),Xg="asset://debug/lib",Jg=function(t){function e(e){t.call(this,!0),this._moduleUrl=e,this.importsWithPrefixes=new Map}return __extends(e,t),e.prototype.visitExternalExpr=function(t,e){return this._visitIdentifier(t.value,t.typeParams,e),null},e.prototype.visitDeclareVarStmt=function(t,e){return t.hasModifier(My.Final)?gi(t.type)?e.print("const "):e.print("final "):te(t.type)&&e.print("var "),$t(t.type)&&(t.type.visitType(this,e),e.print(" ")),e.print(t.name+" = "),t.value.visitExpression(this,e),e.println(";"),null},e.prototype.visitCastExpr=function(t,e){return e.print("("),t.value.visitExpression(this,e),e.print(" as "),t.type.visitType(this,e),e.print(")"),null},e.prototype.visitDeclareClassStmt=function(t,e){var n=this;return e.pushClass(t),e.print("class "+t.name),$t(t.parent)&&(e.print(" extends "),t.parent.visitExpression(this,e)),e.println(" {"),e.incIndent(),t.fields.forEach(function(t){return n._visitClassField(t,e)}),$t(t.constructorMethod)&&this._visitClassConstructor(t,e),t.getters.forEach(function(t){return n._visitClassGetter(t,e)}),t.methods.forEach(function(t){return n._visitClassMethod(t,e)}),e.decIndent(),e.println("}"),e.popClass(),null},e.prototype._visitClassField=function(t,e){t.hasModifier(My.Final)?e.print("final "):te(t.type)&&e.print("var "),$t(t.type)&&(t.type.visitType(this,e),e.print(" ")),e.println(t.name+";")},e.prototype._visitClassGetter=function(t,e){$t(t.type)&&(t.type.visitType(this,e),e.print(" ")),e.println("get "+t.name+" {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println("}")},e.prototype._visitClassConstructor=function(t,e){e.print(t.name+"("),this._visitParams(t.constructorMethod.params,e),e.print(")");var n=t.constructorMethod.body,r=n.length>0?mi(n[0]):null;$t(r)&&(e.print(": "),r.visitExpression(this,e),n=n.slice(1)),e.println(" {"),e.incIndent(),this.visitAllStatements(n,e),e.decIndent(),e.println("}")},e.prototype._visitClassMethod=function(t,e){$t(t.type)?t.type.visitType(this,e):e.print("void"),e.print(" "+t.name+"("),this._visitParams(t.params,e),e.println(") {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println("}")},e.prototype.visitFunctionExpr=function(t,e){return e.print("("),this._visitParams(t.params,e),e.println(") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.print("}"),null},e.prototype.visitDeclareFunctionStmt=function(t,e){return $t(t.type)?t.type.visitType(this,e):e.print("void"),e.print(" "+t.name+"("),this._visitParams(t.params,e),e.println(") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.println("}"),null},e.prototype.getBuiltinMethodName=function(t){var e;switch(t){case Ay.ConcatArray:e=".addAll";break;case Ay.SubscribeObservable:e="listen";break;case Ay.bind:e=null;break;default:throw new Ap("Unknown builtin method: "+t)}return e},e.prototype.visitTryCatchStmt=function(t,e){return e.println("try {"),e.incIndent(),this.visitAllStatements(t.bodyStmts,e),e.decIndent(),e.println("} catch ("+Hg.name+", "+qg.name+") {"),e.incIndent(),this.visitAllStatements(t.catchStmts,e),e.decIndent(),e.println("}"),null},e.prototype.visitBinaryOperatorExpr=function(e,n){switch(e.operator){case yy.Identical:n.print("identical("),e.lhs.visitExpression(this,n),n.print(", "),e.rhs.visitExpression(this,n),n.print(")");break;case yy.NotIdentical:n.print("!identical("),e.lhs.visitExpression(this,n),n.print(", "),e.rhs.visitExpression(this,n),n.print(")");break;default:t.prototype.visitBinaryOperatorExpr.call(this,e,n)}return null},e.prototype.visitLiteralArrayExpr=function(e,n){return gi(e.type)&&n.print("const "),t.prototype.visitLiteralArrayExpr.call(this,e,n)},e.prototype.visitLiteralMapExpr=function(e,n){return gi(e.type)&&n.print("const "),$t(e.valueType)&&(n.print("<String, "),e.valueType.visitType(this,n),n.print(">")),t.prototype.visitLiteralMapExpr.call(this,e,n)},e.prototype.visitInstantiateExpr=function(t,e){return e.print(gi(t.type)?"const":"new"),e.print(" "),t.classExpr.visitExpression(this,e),e.print("("),this.visitAllExpressions(t.args,e,","),e.print(")"),null},e.prototype.visitBuiltintType=function(t,e){var n;switch(t.name){case dy.Bool:n="bool";break;case dy.Dynamic:n="dynamic";break;case dy.Function:n="Function";break;case dy.Number:n="num";break;case dy.Int:n="int";break;case dy.String:n="String";break;default:throw new Ap("Unsupported builtin type "+t.name)}return e.print(n),null},e.prototype.visitExternalType=function(t,e){return this._visitIdentifier(t.value,t.typeParams,e),null},e.prototype.visitArrayType=function(t,e){return e.print("List<"),$t(t.of)?t.of.visitType(this,e):e.print("dynamic"),e.print(">"),null},e.prototype.visitMapType=function(t,e){return e.print("Map<String, "),$t(t.valueType)?t.valueType.visitType(this,e):e.print("dynamic"),e.print(">"),null},e.prototype._visitParams=function(t,e){var n=this;this.visitAllObjects(function(t){$t(t.type)&&(t.type.visitType(n,e),e.print(" ")),e.print(t.name)},t,e,",")},e.prototype._visitIdentifier=function(t,e,n){var r=this;if(te(t.name))throw new Ap("Internal error: unknown identifier "+t);if($t(t.moduleUrl)&&t.moduleUrl!=this._moduleUrl){var i=this.importsWithPrefixes.get(t.moduleUrl);te(i)&&(i="import"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(t.moduleUrl,i)),n.print(i+".")}n.print(t.name),$t(e)&&e.length>0&&(n.print("<"),this.visitAllObjects(function(t){return t.visitType(r,n)},e,n,","),n.print(">"))},e}(Kg),Zg="asset://debug/lib",Yg=function(t){function e(e){t.call(this,!1),this._moduleUrl=e,this.importsWithPrefixes=new Map}return __extends(e,t),e.prototype.visitExternalExpr=function(t,e){return this._visitIdentifier(t.value,t.typeParams,e),null},e.prototype.visitDeclareVarStmt=function(t,e){return e.isExportedVar(t.name)&&e.print("export "),t.hasModifier(My.Final)?e.print("const"):e.print("var"),e.print(" "+t.name),$t(t.type)&&(e.print(":"),t.type.visitType(this,e)),e.print(" = "),t.value.visitExpression(this,e),e.println(";"),null},e.prototype.visitCastExpr=function(t,e){return e.print("(<"),t.type.visitType(this,e),e.print(">"),t.value.visitExpression(this,e),e.print(")"),null},e.prototype.visitDeclareClassStmt=function(t,e){var n=this;return e.pushClass(t),e.isExportedVar(t.name)&&e.print("export "),e.print("class "+t.name),$t(t.parent)&&(e.print(" extends "),t.parent.visitExpression(this,e)),e.println(" {"),e.incIndent(),t.fields.forEach(function(t){return n._visitClassField(t,e)}),$t(t.constructorMethod)&&this._visitClassConstructor(t,e),t.getters.forEach(function(t){return n._visitClassGetter(t,e)}),t.methods.forEach(function(t){return n._visitClassMethod(t,e)}),e.decIndent(),e.println("}"),e.popClass(),null},e.prototype._visitClassField=function(t,e){t.hasModifier(My.Private)&&e.print("private "),e.print(t.name),$t(t.type)?(e.print(":"),t.type.visitType(this,e)):e.print(": any"),e.println(";")},e.prototype._visitClassGetter=function(t,e){t.hasModifier(My.Private)&&e.print("private "),e.print("get "+t.name+"()"),$t(t.type)&&(e.print(":"),t.type.visitType(this,e)),e.println(" {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println("}")},e.prototype._visitClassConstructor=function(t,e){e.print("constructor("),this._visitParams(t.constructorMethod.params,e),e.println(") {"),e.incIndent(),this.visitAllStatements(t.constructorMethod.body,e),e.decIndent(),e.println("}")},e.prototype._visitClassMethod=function(t,e){t.hasModifier(My.Private)&&e.print("private "),e.print(t.name+"("),this._visitParams(t.params,e),e.print("):"),$t(t.type)?t.type.visitType(this,e):e.print("void"),e.println(" {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println("}")},e.prototype.visitFunctionExpr=function(t,e){return e.print("("),this._visitParams(t.params,e),e.print("):"),$t(t.type)?t.type.visitType(this,e):e.print("void"),e.println(" => {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.print("}"),null},e.prototype.visitDeclareFunctionStmt=function(t,e){return e.isExportedVar(t.name)&&e.print("export "),e.print("function "+t.name+"("),this._visitParams(t.params,e),e.print("):"),$t(t.type)?t.type.visitType(this,e):e.print("void"),e.println(" {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.println("}"),null},e.prototype.visitTryCatchStmt=function(t,e){e.println("try {"),e.incIndent(),this.visitAllStatements(t.bodyStmts,e),e.decIndent(),e.println("} catch ("+Hg.name+") {"),e.incIndent();var n=[qg.set(Hg.prop("stack")).toDeclStmt(null,[My.Final])].concat(t.catchStmts);return this.visitAllStatements(n,e),e.decIndent(),e.println("}"),null},e.prototype.visitBuiltintType=function(t,e){var n;switch(t.name){case dy.Bool:n="boolean";break;case dy.Dynamic:n="any";break;case dy.Function:n="Function";break;case dy.Number:n="number";break;case dy.Int:n="number";break;case dy.String:n="string";break;default:throw new Ap("Unsupported builtin type "+t.name)}return e.print(n),null},e.prototype.visitExternalType=function(t,e){return this._visitIdentifier(t.value,t.typeParams,e),null},e.prototype.visitArrayType=function(t,e){return $t(t.of)?t.of.visitType(this,e):e.print("any"),e.print("[]"),null},e.prototype.visitMapType=function(t,e){return e.print("{[key: string]:"),$t(t.valueType)?t.valueType.visitType(this,e):e.print("any"),e.print("}"),null},e.prototype.getBuiltinMethodName=function(t){var e;switch(t){case Ay.ConcatArray:e="concat";break;case Ay.SubscribeObservable:e="subscribe";break;case Ay.bind:e="bind";break;default:throw new Ap("Unknown builtin method: "+t)}return e},e.prototype._visitParams=function(t,e){var n=this;this.visitAllObjects(function(t){e.print(t.name),$t(t.type)&&(e.print(":"),t.type.visitType(n,e))},t,e,",")},e.prototype._visitIdentifier=function(t,e,n){var r=this;if(te(t.name))throw new Ap("Internal error: unknown identifier "+t);if($t(t.moduleUrl)&&t.moduleUrl!=this._moduleUrl){var i=this.importsWithPrefixes.get(t.moduleUrl);te(i)&&(i="import"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(t.moduleUrl,i)),n.print(i+".")}n.print(t.name),$t(e)&&e.length>0&&(n.print("<"),this.visitAllObjects(function(t){return t.visitType(r,n)},e,n,","),n.print(">"))},e}(Kg),$g=function(){function t(){}return Object.defineProperty(t.prototype,"props",{get:function(){return ge()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getters",{get:function(){return ge()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"methods",{get:function(){return ge()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clazz",{get:function(){return ge()},enumerable:!0,configurable:!0}),t}(),t_=function(){function t(t,e,n,r,i,o,s,a,u){this.parent=t,this.superClass=e,this.superInstance=n,this.className=r,this.vars=i,this.props=o,this.getters=s,this.methods=a,this.instanceFactory=u}return t.prototype.createChildWihtLocalVars=function(){return new t(this,this.superClass,this.superInstance,this.className,new Map,this.props,this.getters,this.methods,this.instanceFactory)},t}(),e_=function(){function t(t){this.value=t}return t}(),n_=function(){function t(t,e,n){this._classStmt=t,this._ctx=e,this._visitor=n}return t.prototype.instantiate=function(t){var e=this,n=new Map,r=new Map,i=new Map,o=this._classStmt.parent.visitExpression(this._visitor,this._ctx),s=new t_(this._ctx,o,null,this._classStmt.name,this._ctx.vars,n,r,i,this._ctx.instanceFactory);this._classStmt.fields.forEach(function(t){n.set(t.name,null)}),this._classStmt.getters.forEach(function(t){r.set(t.name,function(){return xi([],[],t.body,s,e._visitor)})}),this._classStmt.methods.forEach(function(t){var n=t.params.map(function(t){return t.name});i.set(t.name,Ci(n,t.body,s,e._visitor))});var a=this._classStmt.constructorMethod.params.map(function(t){return t.name});return xi(a,t,this._classStmt.constructorMethod.body,s,this._visitor),s.superInstance},t.prototype.debugAst=function(){return this._visitor.debugAst(this._classStmt)},t}(),r_=function(){function t(){}return t.prototype.debugAst=function(t){return cl?yi(t):_i(t)},t.prototype.visitDeclareVarStmt=function(t,e){return e.vars.set(t.name,t.value.visitExpression(this,e)),null},t.prototype.visitWriteVarExpr=function(t,e){for(var n=t.value.visitExpression(this,e),r=e;null!=r;){if(r.vars.has(t.name))return r.vars.set(t.name,n),n;r=r.parent}throw new Ap("Not declared variable "+t.name)},t.prototype.visitReadVarExpr=function(t,e){var n=t.name;if($t(t.builtin))switch(t.builtin){case Py.Super:case Py.This:return e.superInstance;case Py.CatchError:n=i_;break;case Py.CatchStack:n=o_;break;default:throw new Ap("Unknown builtin variable "+t.builtin)}for(var r=e;null!=r;){if(r.vars.has(n))return r.vars.get(n);r=r.parent}throw new Ap("Not declared variable "+n)},t.prototype.visitWriteKeyExpr=function(t,e){var n=t.receiver.visitExpression(this,e),r=t.index.visitExpression(this,e),i=t.value.visitExpression(this,e);return n[r]=i,i},t.prototype.visitWritePropExpr=function(t,e){var n=t.receiver.visitExpression(this,e),r=t.value.visitExpression(this,e);if(bi(n)){var i=n;i.props.has(t.name)?i.props.set(t.name,r):ma.setter(t.name)(n,r)}else ma.setter(t.name)(n,r);return r},t.prototype.visitInvokeMethodExpr=function(t,e){var n,r=t.receiver.visitExpression(this,e),i=this.visitAllExpressions(t.args,e);if($t(t.builtin))switch(t.builtin){case Ay.ConcatArray:n=Sp.concat(r,i[0]);break;case Ay.SubscribeObservable:n=mm.subscribe(r,i[0]);break;case Ay.bind:n=cl?r:r.bind(i[0]);break;default:throw new Ap("Unknown builtin method "+t.builtin)}else if(bi(r)){var o=r;n=o.methods.has(t.name)?bl.apply(o.methods.get(t.name),i):ma.method(t.name)(r,i)}else n=ma.method(t.name)(r,i);return n},t.prototype.visitInvokeFunctionExpr=function(t,e){var n=this.visitAllExpressions(t.args,e),r=t.fn;if(r instanceof Ty&&r.builtin===Py.Super)return e.superInstance=e.instanceFactory.createInstance(e.superClass,e.className,n,e.props,e.getters,e.methods),e.parent.superInstance=e.superInstance,null;var i=t.fn.visitExpression(this,e);return bl.apply(i,n)},t.prototype.visitReturnStmt=function(t,e){return new e_(t.value.visitExpression(this,e))},t.prototype.visitDeclareClassStmt=function(t,e){var n=new n_(t,e,this);return e.vars.set(t.name,n),null},t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e)},t.prototype.visitIfStmt=function(t,e){var n=t.condition.visitExpression(this,e);return n?this.visitAllStatements(t.trueCase,e):$t(t.falseCase)?this.visitAllStatements(t.falseCase,e):null},t.prototype.visitTryCatchStmt=function(t,e){try{return this.visitAllStatements(t.bodyStmts,e)}catch(r){var n=e.createChildWihtLocalVars();return n.vars.set(i_,r),n.vars.set(o_,r.stack),this.visitAllStatements(t.catchStmts,n)}},t.prototype.visitThrowStmt=function(t,e){throw t.error.visitExpression(this,e)},t.prototype.visitCommentStmt=function(t,e){return null},t.prototype.visitInstantiateExpr=function(t,e){var n=this.visitAllExpressions(t.args,e),r=t.classExpr.visitExpression(this,e);return r instanceof n_?r.instantiate(n):bl.apply(ma.factory(r),n)},t.prototype.visitLiteralExpr=function(t,e){return t.value},t.prototype.visitExternalExpr=function(t,e){return t.value.runtime},t.prototype.visitConditionalExpr=function(t,e){return t.condition.visitExpression(this,e)?t.trueCase.visitExpression(this,e):$t(t.falseCase)?t.falseCase.visitExpression(this,e):null},t.prototype.visitNotExpr=function(t,e){return!t.condition.visitExpression(this,e)},t.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e)},t.prototype.visitFunctionExpr=function(t,e){var n=t.params.map(function(t){return t.name});return Ci(n,t.statements,e,this)},t.prototype.visitDeclareFunctionStmt=function(t,e){var n=t.params.map(function(t){return t.name});return e.vars.set(t.name,Ci(n,t.statements,e,this)),null},t.prototype.visitBinaryOperatorExpr=function(t,e){var n=this,r=function(){return t.lhs.visitExpression(n,e)},i=function(){return t.rhs.visitExpression(n,e)};switch(t.operator){case yy.Equals:return r()==i();case yy.Identical:return r()===i();case yy.NotEquals:return r()!=i();case yy.NotIdentical:return r()!==i();case yy.And:return r()&&i();case yy.Or:return r()||i();case yy.Plus:return r()+i();case yy.Minus:return r()-i();case yy.Divide:return r()/i();case yy.Multiply:return r()*i();case yy.Modulo:return r()%i();case yy.Lower:return r()<i();case yy.LowerEquals:return r()<=i();case yy.Bigger:return r()>i();case yy.BiggerEquals:return r()>=i();default:throw new Ap("Unknown operator "+t.operator)}},t.prototype.visitReadPropExpr=function(t,e){var n,r=t.receiver.visitExpression(this,e);if(bi(r)){var i=r;n=i.props.has(t.name)?i.props.get(t.name):i.getters.has(t.name)?i.getters.get(t.name)():i.methods.has(t.name)?i.methods.get(t.name):ma.getter(t.name)(r)}else n=ma.getter(t.name)(r);return n},t.prototype.visitReadKeyExpr=function(t,e){var n=t.receiver.visitExpression(this,e),r=t.index.visitExpression(this,e);return n[r]},t.prototype.visitLiteralArrayExpr=function(t,e){return this.visitAllExpressions(t.entries,e)},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,r={};return t.entries.forEach(function(t){return r[t[0]]=t[1].visitExpression(n,e)}),r},t.prototype.visitAllExpressions=function(t,e){var n=this;return t.map(function(t){return t.visitExpression(n,e)})},t.prototype.visitAllStatements=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=r.visitStatement(this,e);if(i instanceof e_)return i}return null},t}(),i_="error",o_="stack",s_=function(){function t(){}return t.prototype.createInstance=function(t,e,n,r,i,o){if(t===zl)return n=n.concat([null]),new a_(n,r,i,o);if(t===Wl)return new a_(n,r,i,o);throw new Ap("Can't instantiate class "+t+" in interpretative mode")},t}(),a_=function(t){function e(e,n,r,i){t.call(this,e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]),this.props=n,this.getters=r,this.methods=i}return __extends(e,t),e.prototype.createInternal=function(e){var n=this.methods.get("createInternal");return $t(n)?n(e):t.prototype.createInternal.call(this,e)},e.prototype.injectorGetInternal=function(e,n,r){var i=this.methods.get("injectorGetInternal");return $t(i)?i(e,n,r):t.prototype.injectorGet.call(this,e,n,r)},e.prototype.destroyInternal=function(){var e=this.methods.get("destroyInternal");return $t(e)?e():t.prototype.destroyInternal.call(this)},e.prototype.dirtyParentQueriesInternal=function(){var e=this.methods.get("dirtyParentQueriesInternal");return $t(e)?e():t.prototype.dirtyParentQueriesInternal.call(this)},e.prototype.detectChangesInternal=function(e){var n=this.methods.get("detectChangesInternal");return $t(n)?n(e):t.prototype.detectChangesInternal.call(this,e)},e}(Wl),u_=function(){function t(t,e,n,r,i,o,s){this._metadataResolver=t,this._templateNormalizer=e,this._templateParser=n,this._styleCompiler=r,this._viewCompiler=i,this._xhr=o,this._genConfig=s,this._styleCache=new Map,this._hostCacheKeys=new Map,this._compiledTemplateCache=new Map,this._compiledTemplateDone=new Map}return t.prototype.resolveComponent=function(t){var e=this._metadataResolver.getDirectiveMetadata(t),n=this._hostCacheKeys.get(t);if(te(n)){n=new Object,this._hostCacheKeys.set(t,n),Ei(e);var r=_n(e.type,e.selector);this._loadAndCompileComponent(n,r,[e],[],[])}return this._compiledTemplateDone.get(n).then(function(n){return new bc(e.selector,n.viewFactory,t)})},t.prototype.clearCache=function(){this._styleCache.clear(),this._compiledTemplateCache.clear(),this._compiledTemplateDone.clear(),this._hostCacheKeys.clear()},t.prototype._loadAndCompileComponent=function(t,e,n,r,i){var o=this,s=this._compiledTemplateCache.get(t),a=this._compiledTemplateDone.get(t);return te(s)&&(s=new c_,this._compiledTemplateCache.set(t,s),a=ym.all([this._compileComponentStyles(e)].concat(n.map(function(t){return o._templateNormalizer.normalizeDirective(t)}))).then(function(t){var n=t.slice(1),a=t[0],u=o._templateParser.parse(e,e.template.template,n,r,e.type.name),c=[];return s.init(o._compileComponent(e,u,a,r,i,c)),ym.all(c).then(function(t){return s})}),this._compiledTemplateDone.set(t,a)),s},t.prototype._compileComponent=function(t,e,n,r,i,o){var s=this,a=this._viewCompiler.compileComponent(t,e,new Ly(new Xd({runtime:n})),r);a.dependencies.forEach(function(t){var e=Sp.clone(i),n=t.comp.type.runtime,r=s._metadataResolver.getViewDirectivesMetadata(t.comp.type.runtime),a=s._metadataResolver.getViewPipesMetadata(t.comp.type.runtime),u=Sp.contains(e,n);e.push(n);var c=s._loadAndCompileComponent(t.comp.type.runtime,t.comp,r,a,e);t.factoryPlaceholder.runtime=c.proxyViewFactory,t.factoryPlaceholder.name="viewFactory_"+t.comp.type.name,u||o.push(s._compiledTemplateDone.get(n))});var u;return u=cl||!this._genConfig.useJit?wi(a.statements,a.viewFactoryVar,new s_):vi(t.type.name+".template.js",a.statements,a.viewFactoryVar)},t.prototype._compileComponentStyles=function(t){var e=this._styleCompiler.compileComponent(t);return this._resolveStylesCompileResult(t.type.name,e)},t.prototype._resolveStylesCompileResult=function(t,e){var n=this,r=e.dependencies.map(function(t){return n._loadStylesheetDep(t)});return ym.all(r).then(function(t){for(var r=[],i=0;i<e.dependencies.length;i++){var o=e.dependencies[i],s=t[i],a=n._styleCompiler.compileStylesheet(o.moduleUrl,s,o.isShimmed);r.push(n._resolveStylesCompileResult(o.moduleUrl,a))}return ym.all(r)}).then(function(r){for(var i=0;i<e.dependencies.length;i++){var o=e.dependencies[i];o.valuePlaceholder.runtime=r[i],o.valuePlaceholder.name="importedStyles"+i}return cl||!n._genConfig.useJit?wi(e.statements,e.stylesVar,new s_):vi(t+".css.js",e.statements,e.stylesVar)})},t.prototype._loadStylesheetDep=function(t){var e=""+t.moduleUrl+(t.isShimmed?".shim":""),n=this._styleCache.get(e);return te(n)&&(n=this._xhr.get(t.moduleUrl),this._styleCache.set(e,n)),n},t}();u_.decorators=[{type:Ws}],u_.ctorParameters=[{type:Fg},{type:Vg},{type:ny},{type:Gm},{type:Ng},{type:Mg},{type:hy}];var c_=function(){function t(){var t=this;this.viewFactory=null,this.proxyViewFactory=function(e,n,r){return t.viewFactory(e,n,r)}}return t.prototype.init=function(t){this.viewFactory=t},t}(),l_="boolean",p_="number",h_="string",f_="object",d_=["*|%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop","^*|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*autocomplete,*autocompleteerror,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","media|!autoplay,!controls,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,#playbackRate,preload,src,#volume","@svg:^*|*abort,*autocomplete,*autocompleteerror,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex","@svg:graphics^@svg:|","@svg:animation^@svg:|*begin,*end,*repeat","@svg:geometry^@svg:|","@svg:componentTransferFunction^@svg:|","@svg:gradient^@svg:|","@svg:textContent^@svg:graphics|","@svg:textPositioning^@svg:textContent|","a|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,rel,rev,search,shape,target,text,type,username","area|alt,coords,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,search,shape,target,username","audio^media|","br|clear","base|href,target","body|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas|#height,#width","content|select","dl|!compact","datalist|","details|!open","dialog|!open,returnValue","dir|!compact","div|align","embed|align,height,name,src,type,width","fieldset|!disabled,name","font|color,face,size","form|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr|align,color,!noShade,size,width","head|","h1,h2,h3,h4,h5,h6|align","html|version","iframe|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,%sandbox,scrolling,src,srcdoc,width","img|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,sizes,src,srcset,useMap,#vspace,#width","input|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","keygen|!autofocus,challenge,!disabled,keytype,name","li|type,#value","label|htmlFor","legend|align","link|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,rel,%relList,rev,%sizes,target,type","map|name","marquee|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu|!compact","meta|content,httpEquiv,name,scheme","meter|#high,#low,#max,#min,#optimum,#value","ins,del|cite,dateTime","ol|!compact,!reversed,#start,type","object|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup|!disabled,label","option|!defaultSelected,!disabled,label,!selected,text,value","output|defaultValue,%htmlFor,name,value","p|align","param|name,type,value,valueType","picture|","pre|#width","progress|#max,#value","q,blockquote,cite|","script|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow|","source|media,sizes,src,srcset,type","span|","style|!disabled,media,type","caption|align","th,td|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup|align,ch,chOff,#span,vAlign,width","table|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody|align,ch,chOff,vAlign","template|","textarea|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title|text","track|!default,kind,label,src,srclang","ul|!compact,type","unknown|","video^media|#height,poster,#width","@svg:a^@svg:graphics|","@svg:animate^@svg:animation|","@svg:animateMotion^@svg:animation|","@svg:animateTransform^@svg:animation|","@svg:circle^@svg:geometry|","@svg:clipPath^@svg:graphics|","@svg:cursor^@svg:|","@svg:defs^@svg:graphics|","@svg:desc^@svg:|","@svg:discard^@svg:|","@svg:ellipse^@svg:geometry|","@svg:feBlend^@svg:|","@svg:feColorMatrix^@svg:|","@svg:feComponentTransfer^@svg:|","@svg:feComposite^@svg:|","@svg:feConvolveMatrix^@svg:|","@svg:feDiffuseLighting^@svg:|","@svg:feDisplacementMap^@svg:|","@svg:feDistantLight^@svg:|","@svg:feDropShadow^@svg:|","@svg:feFlood^@svg:|","@svg:feFuncA^@svg:componentTransferFunction|","@svg:feFuncB^@svg:componentTransferFunction|","@svg:feFuncG^@svg:componentTransferFunction|","@svg:feFuncR^@svg:componentTransferFunction|","@svg:feGaussianBlur^@svg:|","@svg:feImage^@svg:|","@svg:feMerge^@svg:|","@svg:feMergeNode^@svg:|","@svg:feMorphology^@svg:|","@svg:feOffset^@svg:|","@svg:fePointLight^@svg:|","@svg:feSpecularLighting^@svg:|","@svg:feSpotLight^@svg:|","@svg:feTile^@svg:|","@svg:feTurbulence^@svg:|","@svg:filter^@svg:|","@svg:foreignObject^@svg:graphics|","@svg:g^@svg:graphics|","@svg:image^@svg:graphics|","@svg:line^@svg:geometry|","@svg:linearGradient^@svg:gradient|","@svg:mpath^@svg:|","@svg:marker^@svg:|","@svg:mask^@svg:|","@svg:metadata^@svg:|","@svg:path^@svg:geometry|","@svg:pattern^@svg:|","@svg:polygon^@svg:geometry|","@svg:polyline^@svg:geometry|","@svg:radialGradient^@svg:gradient|","@svg:rect^@svg:geometry|","@svg:svg^@svg:graphics|#currentScale,#zoomAndPan","@svg:script^@svg:|type","@svg:set^@svg:animation|","@svg:stop^@svg:|","@svg:style^@svg:|!disabled,media,title,type","@svg:switch^@svg:graphics|","@svg:symbol^@svg:|","@svg:tspan^@svg:textPositioning|","@svg:text^@svg:textPositioning|","@svg:textPath^@svg:textContent|","@svg:title^@svg:|","@svg:use^@svg:graphics|","@svg:view^@svg:|#zoomAndPan"],v_={
class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},y_=function(t){function e(){var e=this;t.call(this),this.schema={},d_.forEach(function(t){var n=t.split("|"),r=n[1].split(","),i=(n[0]+"^").split("^"),o=i[0],s={};o.split(",").forEach(function(t){return e.schema[t]=s});var a=e.schema[i[1]];$t(a)&&Ep.forEach(a,function(t,e){return s[e]=t}),r.forEach(function(t){""==t||t.startsWith("*")||(t.startsWith("!")?s[t.substring(1)]=l_:t.startsWith("#")?s[t.substring(1)]=p_:t.startsWith("%")?s[t.substring(1)]=f_:s[t]=h_)})})}return __extends(e,t),e.prototype.hasProperty=function(t,e){if(-1!==t.indexOf("-"))return!0;var n=this.schema[t.toLowerCase()];return $t(n)||(n=this.schema.unknown),$t(n[e])},e.prototype.securityContext=function(t,e){return"style"===e?op.STYLE:"a"===t&&"href"===e?op.URL:"innerHTML"===e?op.HTML:op.NONE},e.prototype.getMappedPropName=function(t){var e=Ep.get(v_,t);return $t(e)?e:t},e}(ul);y_.decorators=[{type:Ws}],y_.ctorParameters=[];var m_,g_=[$p,cf,md,ny,Vg,Fg,zd,Gm,Ng,{provide:hy,useFactory:Si,deps:[]},u_,{provide:xc,useExisting:u_},y_,{provide:ul,useExisting:y_},Wd,Lg,Dg,jg];m_="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var __=m_;__.assert=function(t){};var w_,b_=__.Map,x_=__.Set,C_=(function(){try{if(1===new b_([[1,2]]).size)return function(t){return new b_(t)}}catch(t){}return function(t){for(var e=new b_,n=0;n<t.length;n++){var r=t[n];e.set(r[0],r[1])}return e}}(),function(){try{if(new b_(new b_))return function(t){return new b_(t)}}catch(t){}return function(t){var e=new b_;return t.forEach(function(t,n){e.set(n,t)}),e}}(),function(){return(new b_).keys().next?function(t){for(var e,n=t.keys();!(e=n.next()).done;)t.set(e.value,null)}:function(t){t.forEach(function(e,n){t.set(n,null)})}}(),function(){try{if((new b_).values().next)return function(t,e){return e?Array.from(t.values()):Array.from(t.keys())}}catch(t){}return function(t,e){var n=C_.createFixedSize(t.size),r=0;return t.forEach(function(t,i){n[r]=e?t:i,r++}),n}}(),function(){function t(){}return t.createFixedSize=function(t){return new Array(t)},t.createGrowableSize=function(t){return new Array(t)},t.clone=function(t){return t.slice(0)},t.forEachWithIndex=function(t,e){for(var n=0;n<t.length;n++)e(t[n],n)},t.first=function(t){return t?t[0]:null},t.last=function(t){return t&&0!=t.length?t[t.length-1]:null},t.indexOf=function(t,e,n){return void 0===n&&(n=0),t.indexOf(e,n)},t.contains=function(t,e){return-1!==t.indexOf(e)},t.reversed=function(e){var n=t.clone(e);return n.reverse()},t.concat=function(t,e){return t.concat(e)},t.insert=function(t,e,n){t.splice(e,0,n)},t.removeAt=function(t,e){var n=t[e];return t.splice(e,1),n},t.removeAll=function(t,e){for(var n=0;n<e.length;++n){var r=t.indexOf(e[n]);t.splice(r,1)}},t.remove=function(t,e){var n=t.indexOf(e);return n>-1?(t.splice(n,1),!0):!1},t.clear=function(t){t.length=0},t.isEmpty=function(t){return 0==t.length},t.fill=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=null),t.fill(e,n,null===r?t.length:r)},t.equals=function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},t.slice=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=null),t.slice(e,null===n?void 0:n)},t.splice=function(t,e,n){return t.splice(e,n)},t.sort=function(t,e){Pi(e)?t.sort(e):t.sort()},t.toString=function(t){return t.toString()},t.toJSON=function(t){return JSON.stringify(t)},t.maximum=function(t,e){if(0==t.length)return null;for(var n=null,r=-(1/0),i=0;i<t.length;i++){var o=t[i];if(!ki(o)){var s=e(o);s>r&&(n=o,r=s)}}return n},t.flatten=function(t){var e=[];return Ti(t,e),e},t.addAll=function(t,e){for(var n=0;n<e.length;n++)t.push(e[n])},t}()),E_=(function(){var t=new x_([1,2,3]);return 3===t.size?function(t){return new x_(t)}:function(t){var e=new x_(t);if(e.size!==t.length)for(var n=0;n<t.length;n++)e.add(t[n]);return e}}(),function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t}()),S_=function(){function t(){}return t.resolve=function(t){return Promise.resolve(t)},t.reject=function(t,e){return Promise.reject(t)},t.catchError=function(t,e){return t.catch(e)},t.all=function(t){return 0==t.length?Promise.resolve([]):Promise.all(t)},t.then=function(t,e,n){return t.then(e,n)},t.wrap=function(t){return new Promise(function(e,n){try{e(t())}catch(t){n(t)}})},t.scheduleMicrotask=function(e){t.then(t.resolve(null),e,function(t){})},t.isPromise=function(t){return t instanceof Promise},t.completer=function(){return new E_},t}(),P_=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.get=function(t){var e=S_.completer(),n=new XMLHttpRequest;return n.open("GET",t,!0),n.responseType="text",n.onload=function(){var r=Pi(n.response)?n.response:n.responseText,i=1223===n.status?204:n.status;0===i&&(i=r?200:0),i>=200&&300>=i?e.resolve(r):e.reject("Failed to load "+t,null)},n.onerror=function(){e.reject("Failed to load "+t,null)},n.send(),e.promise},e}(Mg);w_="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var k_=!1,A_=w_,T_=A_.Date,O_=!0;A_.assert=function(t){};var I_,N_=function(){function t(){}return t.fromCharCode=function(t){return String.fromCharCode(t)},t.charCodeAt=function(t,e){return t.charCodeAt(e)},t.split=function(t,e){return t.split(e)},t.equals=function(t,e){return t===e},t.stripLeft=function(t,e){if(t&&t.length){for(var n=0,r=0;r<t.length&&t[r]==e;r++)n++;t=t.substring(n)}return t},t.stripRight=function(t,e){if(t&&t.length){for(var n=t.length,r=t.length-1;r>=0&&t[r]==e;r--)n--;t=t.substring(0,n)}return t},t.replace=function(t,e,n){return t.replace(e,n)},t.replaceAll=function(t,e,n){return t.replace(e,n)},t.slice=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=null),t.slice(e,null===n?void 0:n)},t.replaceAllMapped=function(t,e,n){return t.replace(e,function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.splice(-2,2),n(t)})},t.contains=function(t,e){return-1!=t.indexOf(e)},t.compare=function(t,e){return e>t?-1:t>e?1:0},t}(),M_=function(t){function e(e){t.call(this),this.message=e}return __extends(e,t),e.prototype.toString=function(){return this.message},e}(Error),V_=function(){function t(){}return t.toFixed=function(t,e){return t.toFixed(e)},t.equal=function(t,e){return t===e},t.parseIntAutoRadix=function(t){var e=parseInt(t);if(isNaN(e))throw new M_("Invalid integer literal when parsing "+t);return e},t.parseInt=function(t,e){if(10==e){if(/^(\-|\+)?[0-9]+$/.test(t))return parseInt(t,e)}else if(16==e){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(t))return parseInt(t,e)}else{var n=parseInt(t,e);if(!isNaN(n))return n}throw new M_("Invalid integer literal when parsing "+t+" in base "+e)},t.parseFloat=function(t){return parseFloat(t)},Object.defineProperty(t,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),t.isNaN=function(t){return isNaN(t)},t.isInteger=function(t){return Number.isInteger(t)},t}(),R_=function(){function t(){}return t.create=function(t,e){return void 0===e&&(e=""),e=e.replace(/g/g,""),new A_.RegExp(t,e+"g")},t.firstMatch=function(t,e){return t.lastIndex=0,t.exec(e)},t.test=function(t,e){return t.lastIndex=0,t.test(e)},t.matcher=function(t,e){return t.lastIndex=0,{re:t,input:e}},t.replaceAll=function(t,e,n){var r=t.exec(e),i="";t.lastIndex=0;for(var o=0;r;)i+=e.substring(o,r.index),i+=n(r),o=r.index+r[0].length,t.lastIndex=o,r=t.exec(e);return i+=e.substring(o)},t}(),D_=function(){function t(){}return t.parse=function(t){return A_.JSON.parse(t)},t.stringify=function(t){return A_.JSON.stringify(t,null,2)},t}(),j_=function(){function t(){}return t.create=function(t,e,n,r,i,o,s){return void 0===e&&(e=1),void 0===n&&(n=1),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=0),new T_(t,e-1,n,r,i,o,s)},t.fromISOString=function(t){return new T_(t)},t.fromMillis=function(t){return new T_(t)},t.toMillis=function(t){return t.getTime()},t.now=function(){return new T_},t.toJson=function(t){return t.toJSON()},t}(),L_=al.wtfInit,F_=al.DebugDomRootRenderer,U_=al.SecurityContext,B_=al.SanitizationService;I_="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var H_=I_,q_=H_.Date;H_.assert=function(t){};var z_=function(){function t(){}return t.fromCharCode=function(t){return String.fromCharCode(t)},t.charCodeAt=function(t,e){return t.charCodeAt(e)},t.split=function(t,e){return t.split(e)},t.equals=function(t,e){return t===e},t.stripLeft=function(t,e){if(t&&t.length){for(var n=0,r=0;r<t.length&&t[r]==e;r++)n++;t=t.substring(n)}return t},t.stripRight=function(t,e){if(t&&t.length){for(var n=t.length,r=t.length-1;r>=0&&t[r]==e;r--)n--;t=t.substring(0,n)}return t},t.replace=function(t,e,n){return t.replace(e,n)},t.replaceAll=function(t,e,n){return t.replace(e,n)},t.slice=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=null),t.slice(e,null===n?void 0:n)},t.replaceAllMapped=function(t,e,n){return t.replace(e,function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.splice(-2,2),n(t)})},t.contains=function(t,e){return-1!=t.indexOf(e)},t.compare=function(t,e){return e>t?-1:t>e?1:0},t}(),W_=function(t){function e(e){t.call(this),this.message=e}return __extends(e,t),e.prototype.toString=function(){return this.message},e}(Error),K_=function(){function t(){}return t.toFixed=function(t,e){return t.toFixed(e)},t.equal=function(t,e){return t===e},t.parseIntAutoRadix=function(t){var e=parseInt(t);if(isNaN(e))throw new W_("Invalid integer literal when parsing "+t);return e},t.parseInt=function(t,e){if(10==e){if(/^(\-|\+)?[0-9]+$/.test(t))return parseInt(t,e)}else if(16==e){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(t))return parseInt(t,e)}else{var n=parseInt(t,e);if(!isNaN(n))return n}throw new W_("Invalid integer literal when parsing "+t+" in base "+e)},t.parseFloat=function(t){return parseFloat(t)},Object.defineProperty(t,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),t.isNaN=function(t){return isNaN(t)},t.isInteger=function(t){return Number.isInteger(t)},t}(),G_=function(){function t(){}return t.create=function(t,e){return void 0===e&&(e=""),e=e.replace(/g/g,""),new H_.RegExp(t,e+"g")},t.firstMatch=function(t,e){return t.lastIndex=0,t.exec(e)},t.test=function(t,e){return t.lastIndex=0,t.test(e)},t.matcher=function(t,e){return t.lastIndex=0,{re:t,input:e}},t.replaceAll=function(t,e,n){var r=t.exec(e),i="";t.lastIndex=0;for(var o=0;r;)i+=e.substring(o,r.index),i+=n(r),o=r.index+r[0].length,t.lastIndex=o,r=t.exec(e);return i+=e.substring(o)},t}(),Q_=function(){function t(){}return t.parse=function(t){return H_.JSON.parse(t)},t.stringify=function(t){return H_.JSON.stringify(t,null,2)},t}(),X_=function(){function t(){}return t.create=function(t,e,n,r,i,o,s){return void 0===e&&(e=1),void 0===n&&(n=1),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=0),new q_(t,e-1,n,r,i,o,s)},t.fromISOString=function(t){return new q_(t)},t.fromMillis=function(t){return new q_(t)},t.toMillis=function(t){return t.getTime()},t.now=function(){return new q_},t.toJson=function(t){return t.toJSON()},t}(),J_=null,Z_=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t}(),Y_=function(){function t(){}return t.resolve=function(t){return Promise.resolve(t)},t.reject=function(t,e){return Promise.reject(t)},t.catchError=function(t,e){return t.catch(e)},t.all=function(t){return 0==t.length?Promise.resolve([]):Promise.all(t)},t.then=function(t,e,n){return t.then(e,n)},t.wrap=function(t){return new Promise(function(e,n){try{e(t())}catch(t){n(t)}})},t.scheduleMicrotask=function(e){t.then(t.resolve(null),e,function(t){})},t.isPromise=function(t){return t instanceof Promise},t.completer=function(){return new Z_},t}(),$_=function(){function t(){}return t.subscribe=function(t,e,n,r){return void 0===r&&(r=function(){}),n="function"==typeof n&&n||Qi,r="function"==typeof r&&r||Qi,t.subscribe({next:e,error:n,complete:r})},t.isObservable=function(t){return!!t.subscribe},t.hasSubscribers=function(t){return t.observers.length>0},t.dispose=function(t){t.unsubscribe()},t.callNext=function(t,e){t.next(e)},t.callEmit=function(t,e){t.emit(e)},t.callError=function(t,e){t.error(e)},t.callComplete=function(t){t.complete()},t.fromPromise=function(t){return fu.create(t)},t.toPromise=function(t){return ht.call(t)},t}(),tw=function(t){function e(e){void 0===e&&(e=!0),t.call(this),this._isAsync=e}return __extends(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.next=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},s=function(){return null};return e&&"object"==typeof e?(i=this._isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this._isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this._isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this._isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this._isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this._isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),t.prototype.subscribe.call(this,i,o,s)},e}(pu),ew=H_.Map,nw=H_.Set,rw=function(){try{if(1===new ew([[1,2]]).size)return function(t){return new ew(t)}}catch(t){}return function(t){for(var e=new ew,n=0;n<t.length;n++){var r=t[n];e.set(r[0],r[1])}return e}}(),iw=function(){try{if(new ew(new ew))return function(t){return new ew(t)}}catch(t){}return function(t){var e=new ew;return t.forEach(function(t,n){e.set(n,t)}),e}}(),ow=function(){return(new ew).keys().next?function(t){for(var e,n=t.keys();!(e=n.next()).done;)t.set(e.value,null)}:function(t){t.forEach(function(e,n){t.set(n,null)})}}(),sw=function(){try{if((new ew).values().next)return function(t,e){return e?Array.from(t.values()):Array.from(t.keys())}}catch(t){}return function(t,e){var n=cw.createFixedSize(t.size),r=0;return t.forEach(function(t,i){n[r]=e?t:i,r++}),n}}(),aw=function(){function t(){}return t.clone=function(t){return iw(t)},t.createFromStringMap=function(t){var e=new ew;for(var n in t)e.set(n,t[n]);return e},t.toStringMap=function(t){var e={};return t.forEach(function(t,n){return e[n]=t}),e},t.createFromPairs=function(t){return rw(t)},t.clearValues=function(t){ow(t)},t.iterable=function(t){return t},t.keys=function(t){return sw(t,!1)},t.values=function(t){return sw(t,!0)},t}(),uw=function(){function t(){}return t.create=function(){return{}},t.contains=function(t,e){return t.hasOwnProperty(e)},t.get=function(t,e){return t.hasOwnProperty(e)?t[e]:void 0},t.set=function(t,e,n){t[e]=n},t.keys=function(t){return Object.keys(t)},t.values=function(t){return Object.keys(t).reduce(function(e,n){return e.push(t[n]),e},[])},t.isEmpty=function(t){for(var e in t)return!1;return!0},t.delete=function(t,e){delete t[e]},t.forEach=function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},t.merge=function(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},t.equals=function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i,o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0},t}(),cw=function(){function t(){}return t.createFixedSize=function(t){return new Array(t)},t.createGrowableSize=function(t){return new Array(t)},t.clone=function(t){return t.slice(0)},t.forEachWithIndex=function(t,e){for(var n=0;n<t.length;n++)e(t[n],n)},t.first=function(t){return t?t[0]:null},t.last=function(t){return t&&0!=t.length?t[t.length-1]:null},t.indexOf=function(t,e,n){return void 0===n&&(n=0),t.indexOf(e,n)},t.contains=function(t,e){return-1!==t.indexOf(e)},t.reversed=function(e){var n=t.clone(e);return n.reverse()},t.concat=function(t,e){return t.concat(e)},t.insert=function(t,e,n){t.splice(e,0,n)},t.removeAt=function(t,e){var n=t[e];return t.splice(e,1),n},t.removeAll=function(t,e){for(var n=0;n<e.length;++n){var r=t.indexOf(e[n]);t.splice(r,1)}},t.remove=function(t,e){var n=t.indexOf(e);return n>-1?(t.splice(n,1),!0):!1},t.clear=function(t){t.length=0},t.isEmpty=function(t){return 0==t.length},t.fill=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=null),t.fill(e,n,null===r?t.length:r)},t.equals=function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},t.slice=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=null),t.slice(e,null===n?void 0:n)},t.splice=function(t,e,n){return t.splice(e,n)},t.sort=function(t,e){Fi(e)?t.sort(e):t.sort()},t.toString=function(t){return t.toString()},t.toJSON=function(t){return JSON.stringify(t)},t.maximum=function(t,e){if(0==t.length)return null;for(var n=null,r=-(1/0),i=0;i<t.length;i++){var o=t[i];if(!Ui(o)){var s=e(o);s>r&&(n=o,r=s)}}return n},t.flatten=function(t){var e=[];return ro(t,e),e},t.addAll=function(t,e){for(var n=0;n<e.length;n++)t.push(e[n])},t}(),lw=(function(){var t=new nw([1,2,3]);return 3===t.size?function(t){return new nw(t)}:function(t){var e=new nw(t);if(e.size!==t.length)for(var n=0;n<t.length;n++)e.add(t[n]);return e}}(),function(t){function e(e){void 0===e&&(e="--"),t.call(this,e),this.message=e,this.stack=new Error(e).stack}return __extends(e,t),e.prototype.toString=function(){return this.message},e}(Error)),pw=function(t){function e(e,n){t.call(this,"Invalid argument '"+n+"' for pipe '"+Xi(e)+"'")}return __extends(e,t),e}(lw),hw=function(){function t(){}return t.prototype.createSubscription=function(t,e){return $_.subscribe(t,e,function(t){throw t})},t.prototype.dispose=function(t){$_.dispose(t)},t.prototype.onDestroy=function(t){$_.dispose(t)},t}(),fw=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e)},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}(),dw=new fw,vw=new hw,yw=function(){function t(t){this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}return t.prototype.ngOnDestroy=function(){Fi(this._subscription)&&this._dispose()},t.prototype.transform=function(t){return Ui(this._obj)?(Fi(t)&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue):t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,nc.wrap(this._latestValue))},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(Wi(e))return dw;if($_.isObservable(e))return vw;throw new pw(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}();yw.decorators=[{type:Us,args:[{name:"async",pure:!1}]},{type:Ws}],yw.ctorParameters=[{type:tc}];var mw;!function(t){t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency"}(mw||(mw={}));var gw=function(){function t(){}return t.format=function(t,e,n,r){var i=void 0===r?{}:r,o=i.minimumIntegerDigits,s=void 0===o?1:o,a=i.minimumFractionDigits,u=void 0===a?0:a,c=i.maximumFractionDigits,l=void 0===c?3:c,p=i.currency,h=i.currencyAsSymbol,f=void 0===h?!1:h,d={minimumIntegerDigits:s,minimumFractionDigits:u,maximumFractionDigits:l};return d.style=mw[n].toLowerCase(),n==mw.Currency&&(d.currency=p,d.currencyDisplay=f?"symbol":"code"),new Intl.NumberFormat(e,d).format(t)},t}(),_w=new Map,ww=function(){function t(){}return t.format=function(t,e,n){var r=e+n;if(_w.has(r))return _w.get(r).format(t);var i=new Intl.DateTimeFormat(e,uo(n));return _w.set(r,i),i.format(t)},t}(),bw="en-US",xw=function(){function t(){}return t.prototype.transform=function(e,n){if(void 0===n&&(n="mediumDate"),Ui(e))return null;if(!this.supports(e))throw new pw(t,e);return Bi(e)&&(e=X_.fromMillis(e)),uw.contains(t._ALIASES,n)&&(n=uw.get(t._ALIASES,n)),ww.format(e,bw,n)},t.prototype.supports=function(t){return Gi(t)||Bi(t)},t}();xw._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},xw.decorators=[{type:Us,args:[{name:"date",pure:!0}]},{type:Ws}];var Cw=function(){function t(){}return t.prototype.transform=function(t){return Q_.stringify(t)},t}();Cw.decorators=[{type:Us,args:[{name:"json",pure:!1}]},{type:Ws}];var Ew=function(){function t(){}return t.prototype.transform=function(e,n,r){if(void 0===r&&(r=null),!this.supports(e))throw new pw(t,e);return Ui(e)?e:Hi(e)?z_.slice(e,n,r):cw.slice(e,n,r)},t.prototype.supports=function(t){return Hi(t)||Ki(t)},t}();Ew.decorators=[{type:Us,args:[{name:"slice",pure:!1}]},{type:Ws}];var Sw=function(){function t(){}return t.prototype.transform=function(e){if(Ui(e))return e;if(!Hi(e))throw new pw(t,e);return e.toLowerCase()},t}();Sw.decorators=[{type:Us,args:[{name:"lowercase"}]},{type:Ws}];var Pw="en-US",kw=G_.create("^(\\d+)?\\.((\\d+)(\\-(\\d+))?)?$"),Aw=function(){function t(){}return t._format=function(e,n,r,i,o){if(void 0===i&&(i=null),void 0===o&&(o=!1),Ui(e))return null;if(!Bi(e))throw new pw(t,e);var s=1,a=0,u=3;if(Fi(r)){var c=G_.firstMatch(kw,r);if(Ui(c))throw new lw(r+" is not a valid digit info for number pipes");Fi(c[1])&&(s=K_.parseIntAutoRadix(c[1])),Fi(c[3])&&(a=K_.parseIntAutoRadix(c[3])),Fi(c[5])&&(u=K_.parseIntAutoRadix(c[5]))}return gw.format(e,Pw,n,{minimumIntegerDigits:s,minimumFractionDigits:a,maximumFractionDigits:u,currency:i,currencyAsSymbol:o})},t}();Aw.decorators=[{type:Ws}];var Tw=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.transform=function(t,e){return void 0===e&&(e=null),Aw._format(t,mw.Decimal,e)},e}(Aw);Tw.decorators=[{type:Us,args:[{name:"number"}]},{type:Ws}];var Ow=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.transform=function(t,e){return void 0===e&&(e=null),Aw._format(t,mw.Percent,e)},e}(Aw);Ow.decorators=[{type:Us,args:[{name:"percent"}]},{type:Ws}];var Iw=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.transform=function(t,e,n,r){return void 0===e&&(e="USD"),void 0===n&&(n=!1),void 0===r&&(r=null),Aw._format(t,mw.Currency,r,e,n)},e}(Aw);Iw.decorators=[{type:Us,args:[{name:"currency"}]},{type:Ws}];var Nw=function(){function t(){}return t.prototype.transform=function(e){if(Ui(e))return e;if(!Hi(e))throw new pw(t,e);return e.toUpperCase()},t}();Nw.decorators=[{type:Us,args:[{name:"uppercase"}]},{type:Ws}];var Mw=function(){function t(){}return t.prototype.transform=function(e,n,r){if(Ui(e))return e;if(!this._supportedInput(e))throw new pw(t,e);var i=e.toString();if(!this._supportedPattern(n))throw new pw(t,n);if(!this._supportedReplacement(r))throw new pw(t,r);if(qi(r)){var o=Hi(n)?G_.create(n):n;return z_.replaceAllMapped(i,o,r)}return n instanceof RegExp?z_.replaceAll(i,n,r):z_.replace(i,n,r)},t.prototype._supportedInput=function(t){return Hi(t)||Bi(t)},t.prototype._supportedPattern=function(t){return Hi(t)||t instanceof RegExp},t.prototype._supportedReplacement=function(t){return Hi(t)||qi(t)},t}();Mw.decorators=[{type:Us,args:[{name:"replace"}]},{type:Ws}];var Vw=G_.create("#"),Rw=function(){function t(){}return t.prototype.transform=function(e,n){var r,i;if(!zi(n))throw new pw(t,n);return r=0===e||1===e?"="+e:"other",i=Fi(e)?e.toString():"",z_.replaceAll(n[r],Vw,i)},t}();Rw.decorators=[{type:Us,args:[{name:"i18nPlural",pure:!0}]},{type:Ws}];var Dw=function(){function t(){}return t.prototype.transform=function(e,n){if(!zi(n))throw new pw(t,n);return uw.contains(n,e)?n[e]:n.other},t}();Dw.decorators=[{type:Us,args:[{name:"i18nSelect",pure:!0}]},{type:Ws}];var jw=[yw,Nw,Sw,Cw,Ew,Tw,Ow,Iw,xw,Mw,Rw,Dw],Lw=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"initialClasses",{set:function(t){this._applyInitialClasses(!0),this._initialClasses=Fi(t)&&Hi(t)?t.split(" "):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawClass",{set:function(t){this._cleanupClasses(this._rawClass),Hi(t)&&(t=t.split(" ")),this._rawClass=t,this._iterableDiffer=null,this._keyValueDiffer=null,Fi(t)&&(io(t)?this._iterableDiffer=this._iterableDiffers.find(t).create(null):this._keyValueDiffer=this._keyValueDiffers.find(t).create(null))},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(Fi(this._iterableDiffer)){var t=this._iterableDiffer.diff(this._rawClass);Fi(t)&&this._applyIterableChanges(t)}if(Fi(this._keyValueDiffer)){var t=this._keyValueDiffer.diff(this._rawClass);Fi(t)&&this._applyKeyValueChanges(t)}},t.prototype.ngOnDestroy=function(){this._cleanupClasses(this._rawClass)},t.prototype._cleanupClasses=function(t){this._applyClasses(t,!0),this._applyInitialClasses(!1)},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){e._toggleClass(t.item,!1)})},t.prototype._applyInitialClasses=function(t){var e=this;this._initialClasses.forEach(function(n){return e._toggleClass(n,!t)})},t.prototype._applyClasses=function(t,e){var n=this;Fi(t)&&(Ki(t)?t.forEach(function(t){return n._toggleClass(t,!e)}):t instanceof Set?t.forEach(function(t){return n._toggleClass(t,!e)}):uw.forEach(t,function(t,r){Fi(t)&&n._toggleClass(r,!e)}))},t.prototype._toggleClass=function(t,e){if(t=t.trim(),t.length>0)if(t.indexOf(" ")>-1)for(var n=t.split(/\s+/g),r=0,i=n.length;i>r;r++)this._renderer.setElementClass(this._ngEl.nativeElement,n[r],e);else this._renderer.setElementClass(this._ngEl.nativeElement,t,e)},t}();Lw.decorators=[{type:Ds,args:[{selector:"[ngClass]",inputs:["rawClass: ngClass","initialClasses: class"]}]}],Lw.ctorParameters=[{type:qu},{type:Ju},{type:Mu},{type:pc}];var Fw=function(){function t(t,e,n){this.$implicit=t,this.index=e,this.count=n}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2===0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),Uw=function(){function t(t,e,n,r){this._viewContainer=t,this._templateRef=e,this._iterableDiffers=n,this._cdr=r}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){if(this._ngForOf=t,Ui(this._differ)&&Fi(t))try{this._differ=this._iterableDiffers.find(t).create(this._cdr,this._ngForTrackBy)}catch(e){throw new lw("Cannot find a differ supporting object '"+t+"' of type '"+Li(t)+"'. NgFor only supports binding to Iterables such as Arrays.")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){Fi(t)&&(this._templateRef=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{set:function(t){this._ngForTrackBy=t},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(Fi(this._differ)){var t=this._differ.diff(this._ngForOf);Fi(t)&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachRemovedItem(function(t){return n.push(new Bw(t,null))}),t.forEachMovedItem(function(t){return n.push(new Bw(t,null))});var r=this._bulkRemove(n);t.forEachAddedItem(function(t){return r.push(new Bw(t,null))}),this._bulkInsert(r);for(var i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(var i=0,o=this._viewContainer.length;o>i;i++){var s=this._viewContainer.get(i);s.context.index=i,s.context.count=o}t.forEachIdentityChange(function(t){var n=e._viewContainer.get(t.currentIndex);n.context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.prototype._bulkRemove=function(t){t.sort(function(t,e){return t.record.previousIndex-e.record.previousIndex});for(var e=[],n=t.length-1;n>=0;n--){var r=t[n];Fi(r.record.currentIndex)?(r.view=this._viewContainer.detach(r.record.previousIndex),e.push(r)):this._viewContainer.remove(r.record.previousIndex)}return e},t.prototype._bulkInsert=function(t){t.sort(function(t,e){return t.record.currentIndex-e.record.currentIndex});for(var e=0;e<t.length;e++){var n=t[e];Fi(n.view)?this._viewContainer.insert(n.view,n.record.currentIndex):n.view=this._viewContainer.createEmbeddedView(this._templateRef,new Fw(null,null,null),n.record.currentIndex)}return t},t}();Uw.decorators=[{type:Ds,args:[{selector:"[ngFor][ngForOf]",inputs:["ngForTrackBy","ngForOf","ngForTemplate"]}]}],Uw.ctorParameters=[{type:ju},{type:Fc},{type:qu},{type:tc}];var Bw=function(){function t(t,e){this.record=t,this.view=e}return t}(),Hw=function(){function t(t,e){this._viewContainer=t,this._templateRef=e,this._prevCondition=null}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){!t||!Ui(this._prevCondition)&&this._prevCondition?t||!Ui(this._prevCondition)&&!this._prevCondition||(this._prevCondition=!1,this._viewContainer.clear()):(this._prevCondition=!0,this._viewContainer.createEmbeddedView(this._templateRef))},enumerable:!0,configurable:!0}),t}();Hw.decorators=[{type:Ds,args:[{selector:"[ngIf]",inputs:["ngIf"]}]}],Hw.ctorParameters=[{type:ju},{type:Fc}];var qw=function(){function t(t){this._viewContainerRef=t}return Object.defineProperty(t.prototype,"ngTemplateOutlet",{set:function(t){Fi(this._insertedViewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._insertedViewRef)),Fi(t)&&(this._insertedViewRef=this._viewContainerRef.createEmbeddedView(t))},enumerable:!0,configurable:!0}),t}();qw.decorators=[{type:Ds,args:[{selector:"[ngTemplateOutlet]"}]}],qw.ctorParameters=[{type:ju}],qw.propDecorators={ngTemplateOutlet:[{type:Bs}]};var zw=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"rawStyle",{set:function(t){this._rawStyle=t,Ui(this._differ)&&Fi(t)&&(this._differ=this._differs.find(this._rawStyle).create(null))},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(Fi(this._differ)){var t=this._differ.diff(this._rawStyle);Fi(t)&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachAddedItem(function(t){e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){e._setStyle(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){e._setStyle(t.key,null)})},t.prototype._setStyle=function(t,e){this._renderer.setElementStyle(this._ngEl.nativeElement,t,e)},t}();zw.decorators=[{type:Ds,args:[{selector:"[ngStyle]",inputs:["rawStyle: ngStyle"]}]}],zw.ctorParameters=[{type:Ju},{type:Mu},{type:pc}];var Ww=new Object,Kw=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e}return t.prototype.create=function(){this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._viewContainerRef.clear()},t}(),Gw=function(){function t(){this._useDefault=!1,this._valueViews=new ew,this._activeViews=[]}return Object.defineProperty(t.prototype,"ngSwitch",{
set:function(t){this._emptyAllActiveViews(),this._useDefault=!1;var e=this._valueViews.get(t);Ui(e)&&(this._useDefault=!0,e=Zi(this._valueViews.get(Ww))),this._activateViews(e),this._switchValue=t},enumerable:!0,configurable:!0}),t.prototype._onWhenValueChanged=function(t,e,n){this._deregisterView(t,n),this._registerView(e,n),t===this._switchValue?(n.destroy(),cw.remove(this._activeViews,n)):e===this._switchValue&&(this._useDefault&&(this._useDefault=!1,this._emptyAllActiveViews()),n.create(),this._activeViews.push(n)),0!==this._activeViews.length||this._useDefault||(this._useDefault=!0,this._activateViews(this._valueViews.get(Ww)))},t.prototype._emptyAllActiveViews=function(){for(var t=this._activeViews,e=0;e<t.length;e++)t[e].destroy();this._activeViews=[]},t.prototype._activateViews=function(t){if(Fi(t)){for(var e=0;e<t.length;e++)t[e].create();this._activeViews=t}},t.prototype._registerView=function(t,e){var n=this._valueViews.get(t);Ui(n)&&(n=[],this._valueViews.set(t,n)),n.push(e)},t.prototype._deregisterView=function(t,e){if(t!==Ww){var n=this._valueViews.get(t);1==n.length?this._valueViews.delete(t):cw.remove(n,e)}},t}();Gw.decorators=[{type:Ds,args:[{selector:"[ngSwitch]",inputs:["ngSwitch"]}]}];var Qw=function(){function t(t,e,n){this._value=Ww,this._switch=n,this._view=new Kw(t,e)}return Object.defineProperty(t.prototype,"ngSwitchWhen",{set:function(t){this._switch._onWhenValueChanged(this._value,t,this._view),this._value=t},enumerable:!0,configurable:!0}),t}();Qw.decorators=[{type:Ds,args:[{selector:"[ngSwitchWhen]",inputs:["ngSwitchWhen"]}]}],Qw.ctorParameters=[{type:ju},{type:Fc},{type:Gw,decorators:[{type:Gs}]}];var Xw=function(){function t(t,e,n){n._registerView(Ww,new Kw(t,e))}return t}();Xw.decorators=[{type:Ds,args:[{selector:"[ngSwitchDefault]"}]}],Xw.ctorParameters=[{type:ju},{type:Fc},{type:Gw,decorators:[{type:Gs}]}];var Jw="other",Zw=function(){function t(){}return t}(),Yw=function(){function t(t,e,n){this.value=t,this._view=new Kw(n,e)}return t}();Yw.decorators=[{type:Ds,args:[{selector:"[ngPluralCase]"}]}],Yw.ctorParameters=[{type:void 0,decorators:[{type:Ls,args:["ngPluralCase"]}]},{type:Fc},{type:ju}];var $w=function(){function t(t){this._localization=t,this._caseViews=new ew,this.cases=null}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.cases.forEach(function(e){t._caseViews.set(t._formatValue(e),e._view)}),this._updateView()},t.prototype._updateView=function(){this._clearViews();var t=this._caseViews.get(this._switchValue);Fi(t)||(t=this._getCategoryView(this._switchValue)),this._activateView(t)},t.prototype._clearViews=function(){Fi(this._activeView)&&this._activeView.destroy()},t.prototype._activateView=function(t){Fi(t)&&(this._activeView=t,this._activeView.create())},t.prototype._getCategoryView=function(t){var e=this._localization.getPluralCategory(t),n=this._caseViews.get(e);return Fi(n)?n:this._caseViews.get(Jw)},t.prototype._isValueView=function(t){return"="===t.value[0]},t.prototype._formatValue=function(t){return this._isValueView(t)?this._stripValue(t.value):t.value},t.prototype._stripValue=function(t){return K_.parseInt(t.substring(1),10)},t}();$w.decorators=[{type:Ds,args:[{selector:"[ngPlural]"}]}],$w.ctorParameters=[{type:Zw}],$w.propDecorators={cases:[{type:Fs,args:[Yw]}],ngPlural:[{type:Bs}]};var tb=[Lw,Uw,Hw,qw,zw,Gw,Qw,Xw,$w,Yw],eb="VALID",nb="INVALID",rb="PENDING",ib=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._pristine=!0,this._touched=!1}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this._status===eb},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this._status==rb},enumerable:!0,configurable:!0}),t.prototype.markAsTouched=function(){this._touched=!0},t.prototype.markAsDirty=function(t){var e=(void 0===t?{}:t).onlySelf;e=Yi(e),this._pristine=!1,Fi(this._parent)&&!e&&this._parent.markAsDirty({onlySelf:e})},t.prototype.markAsPending=function(t){var e=(void 0===t?{}:t).onlySelf;e=Yi(e),this._status=rb,Fi(this._parent)&&!e&&this._parent.markAsPending({onlySelf:e})},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){var e=void 0===t?{}:t,n=e.onlySelf,r=e.emitEvent;n=Yi(n),r=Fi(r)?r:!0,this._updateValue(),this._errors=this._runValidator(),this._status=this._calculateStatus(),this._status!=eb&&this._status!=rb||this._runAsyncValidator(r),r&&($_.callEmit(this._valueChanges,this._value),$_.callEmit(this._statusChanges,this._status)),Fi(this._parent)&&!n&&this._parent.updateValueAndValidity({onlySelf:n,emitEvent:r})},t.prototype._runValidator=function(){return Fi(this.validator)?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(Fi(this.asyncValidator)){this._status=rb,this._cancelExistingSubscription();var n=lo(this.asyncValidator(this));this._asyncValidationSubscription=$_.subscribe(n,function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){Fi(this._asyncValidationSubscription)&&$_.dispose(this._asyncValidationSubscription)},t.prototype.setErrors=function(t,e){var n=(void 0===e?{}:e).emitEvent;n=Fi(n)?n:!0,this._errors=t,this._status=this._calculateStatus(),n&&$_.callEmit(this._statusChanges,this._status),Fi(this._parent)&&this._parent._updateControlsErrors()},t.prototype.find=function(t){return co(this,t)},t.prototype.getError=function(t,e){void 0===e&&(e=null);var n=Fi(e)&&!cw.isEmpty(e)?this.find(e):this;return Fi(n)&&Fi(n._errors)?uw.get(n._errors,t):null},t.prototype.hasError=function(t,e){return void 0===e&&(e=null),Fi(this.getError(t,e))},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;Fi(t._parent);)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(){this._status=this._calculateStatus(),Fi(this._parent)&&this._parent._updateControlsErrors()},t.prototype._initObservables=function(){this._valueChanges=new tw,this._statusChanges=new tw},t.prototype._calculateStatus=function(){return Fi(this._errors)?nb:this._anyControlsHaveStatus(rb)?rb:this._anyControlsHaveStatus(nb)?nb:eb},t}(),ob=function(t){function e(e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,n,r),this._value=e,this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}return __extends(e,t),e.prototype.updateValue=function(t,e){var n=void 0===e?{}:e,r=n.onlySelf,i=n.emitEvent,o=n.emitModelToViewChange;o=Fi(o)?o:!0,this._value=t,Fi(this._onChange)&&o&&this._onChange(this._value),this.updateValueAndValidity({onlySelf:r,emitEvent:i})},e.prototype._updateValue=function(){},e.prototype._anyControlsHaveStatus=function(t){return!1},e.prototype.registerOnChange=function(t){this._onChange=t},e}(ib),sb=function(t){function e(e,n,r,i){void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=null),t.call(this,r,i),this.controls=e,this._optionals=Fi(n)?n:{},this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends(e,t),e.prototype.addControl=function(t,e){this.controls[t]=e,e.setParent(this)},e.prototype.removeControl=function(t){uw.delete(this.controls,t)},e.prototype.include=function(t){uw.set(this._optionals,t,!0),this.updateValueAndValidity()},e.prototype.exclude=function(t){uw.set(this._optionals,t,!1),this.updateValueAndValidity()},e.prototype.contains=function(t){var e=uw.contains(this.controls,t);return e&&this._included(t)},e.prototype._setParentForControls=function(){var t=this;uw.forEach(this.controls,function(e,n){e.setParent(t)})},e.prototype._updateValue=function(){this._value=this._reduceValue()},e.prototype._anyControlsHaveStatus=function(t){var e=this,n=!1;return uw.forEach(this.controls,function(r,i){n=n||e.contains(i)&&r.status==t}),n},e.prototype._reduceValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e.value,t})},e.prototype._reduceChildren=function(t,e){var n=this,r=t;return uw.forEach(this.controls,function(t,i){n._included(i)&&(r=e(r,t,i))}),r},e.prototype._included=function(t){var e=uw.contains(this._optionals,t);return!e||uw.get(this._optionals,t)},e}(ib),ab=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,n,r),this.controls=e,this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),t.setParent(this),this.updateValueAndValidity()},e.prototype.insert=function(t,e){cw.insert(this.controls,t,e),e.setParent(this),this.updateValueAndValidity()},e.prototype.removeAt=function(t){cw.removeAt(this.controls,t),this.updateValueAndValidity()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype._updateValue=function(){this._value=this.controls.map(function(t){return t.value})},e.prototype._anyControlsHaveStatus=function(t){return this.controls.some(function(e){return e.status==t})},e.prototype._setParentForControls=function(){var t=this;this.controls.forEach(function(e){e.setParent(t)})},e}(ib),ub=function(){function t(){}return Object.defineProperty(t.prototype,"control",{get:function(){return oo()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return Fi(this.control)?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return Fi(this.control)?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return Fi(this.control)?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return Fi(this.control)?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return Fi(this.control)?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return Fi(this.control)?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return Fi(this.control)?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t}(),cb=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(ub),lb=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];t.apply(this,e),this.name=null,this.valueAccessor=null}return __extends(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return oo()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return oo()},enumerable:!0,configurable:!0}),e}(ub),pb=new Wa("NgValueAccessor"),hb=new Wa("NgValidators"),fb=new Wa("NgAsyncValidators"),db=function(){function t(){}return t.required=function(t){return Ui(t.value)||Hi(t.value)&&""==t.value?{required:!0}:null},t.minLength=function(e){return function(n){if(Fi(t.required(n)))return null;var r=n.value;return r.length<e?{minlength:{requiredLength:e,actualLength:r.length}}:null}},t.maxLength=function(e){return function(n){if(Fi(t.required(n)))return null;var r=n.value;return r.length>e?{maxlength:{requiredLength:e,actualLength:r.length}}:null}},t.pattern=function(e){return function(n){if(Fi(t.required(n)))return null;var r=new RegExp("^"+e+"$"),i=n.value;return r.test(i)?null:{pattern:{requiredPattern:"^"+e+"$",actualValue:i}}}},t.nullValidator=function(t){return null},t.compose=function(t){if(Ui(t))return null;var e=t.filter(Fi);return 0==e.length?null:function(t){return vo(ho(t,e))}},t.composeAsync=function(t){if(Ui(t))return null;var e=t.filter(Fi);return 0==e.length?null:function(t){var n=fo(t,e).map(po);return Y_.all(n).then(vo)}},t}(),vb={provide:pb,useExisting:b(function(){return yb}),multi:!0},yb=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){var e=Ui(t)?"":t;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t}();yb.decorators=[{type:Ds,args:[{selector:"input:not([type=checkbox])[ngControl],textarea[ngControl],input:not([type=checkbox])[ngFormControl],textarea[ngFormControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},bindings:[vb]}]}],yb.ctorParameters=[{type:pc},{type:Mu}];var mb={provide:pb,useExisting:b(function(){return gb}),multi:!0},gb=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:K_.parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t}();gb.decorators=[{type:Ds,args:[{selector:"input[type=number][ngControl],input[type=number][ngFormControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},bindings:[mb]}]}],gb.ctorParameters=[{type:pc},{type:Mu}];var _b={provide:pb,useExisting:b(function(){return wb}),multi:!0},wb=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t}();wb.decorators=[{type:Ds,args:[{selector:"input[type=checkbox][ngControl],input[type=checkbox][ngFormControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[_b]}]}],wb.ctorParameters=[{type:pc},{type:Mu}];var bb={provide:pb,useExisting:b(function(){return xb}),multi:!0},xb=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this.value=t;var e=yo(this._getOptionId(t),t);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){t(e._getOptionValue(n))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,n=aw.keys(this._optionMap);e<n.length;e++){var r=n[e];if(Ji(this._optionMap.get(r),t))return r}return null},t.prototype._getOptionValue=function(t){var e=this._optionMap.get(mo(t));return Fi(e)?e:t},t}();xb.decorators=[{type:Ds,args:[{selector:"select[ngControl],select[ngFormControl],select[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[bb]}]}],xb.ctorParameters=[{type:pc},{type:Mu}];var Cb=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,Fi(this._select)&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(yo(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),Fi(this._select)&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setElementProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){Fi(this._select)&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();Cb.decorators=[{type:Ds,args:[{selector:"option"}]}],Cb.ctorParameters=[{type:Mu},{type:pc},{type:xb,decorators:[{type:zs},{type:Gs}]}],Cb.propDecorators={ngValue:[{type:Bs,args:["ngValue"]}],value:[{type:Bs,args:["value"]}]};var Eb={provide:pb,useExisting:b(function(){return kb}),multi:!0},Sb=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=-1,n=0;n<this._accessors.length;++n)this._accessors[n][1]===t&&(e=n);cw.removeAt(this._accessors,e)},t.prototype.select=function(t){this._accessors.forEach(function(e){e[0].control.root===t._control.control.root&&e[1]!==t&&e[1].fireUncheck()})},t}();Sb.decorators=[{type:Ws}];var Pb=function(){function t(t,e){this.checked=t,this.value=e}return t}(),kb=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(lb),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t,Fi(t)&&t.checked&&this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",!0)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(new Pb(!0,e._state.value)),e._registry.select(e)}},t.prototype.fireUncheck=function(){this._fn(new Pb(!1,this._state.value))},t.prototype.registerOnTouched=function(t){this.onTouched=t},t}();kb.decorators=[{type:Ds,args:[{selector:"input[type=radio][ngControl],input[type=radio][ngFormControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[Eb]}]}],kb.ctorParameters=[{type:pc},{type:Mu},{type:Sb},{type:fa}],kb.propDecorators={name:[{type:Bs}]};var Ab={provide:lb,useExisting:b(function(){return Tb})},Tb=function(t){function e(e,n,r,i){t.call(this),this._parent=e,this._validators=n,this._asyncValidators=r,this.update=new tw,this._added=!1,this.valueAccessor=ko(this,i)}return __extends(e,t),e.prototype.ngOnChanges=function(t){this._added||(this.formDirective.addControl(this),this._added=!0),Po(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,$_.callEmit(this.update,t)},Object.defineProperty(e.prototype,"path",{get:function(){return wo(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Eo(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return So(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getControl(this)},enumerable:!0,configurable:!0}),e}(lb);Tb.decorators=[{type:Ds,args:[{selector:"[ngControl]",bindings:[Ab],inputs:["name: ngControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}]}],Tb.ctorParameters=[{type:cb,decorators:[{type:Gs},{type:Qs}]},{type:void 0,decorators:[{type:zs},{type:Ks},{type:qs,args:[hb]}]},{type:void 0,decorators:[{type:zs},{type:Ks},{type:qs,args:[fb]}]},{type:void 0,decorators:[{type:zs},{type:Ks},{type:qs,args:[pb]}]}];var Ob={provide:lb,useExisting:b(function(){return Ib})},Ib=function(t){function e(e,n,r){t.call(this),this._validators=e,this._asyncValidators=n,this.update=new tw,this.valueAccessor=ko(this,r)}return __extends(e,t),e.prototype.ngOnChanges=function(t){this._isControlChanged(t)&&(bo(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})),Po(t,this.viewModel)&&(this.form.updateValue(this.model),this.viewModel=this.model)},Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Eo(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return So(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,$_.callEmit(this.update,t)},e.prototype._isControlChanged=function(t){return uw.contains(t,"form")},e}(lb);Ib.decorators=[{type:Ds,args:[{selector:"[ngFormControl]",bindings:[Ob],inputs:["form: ngFormControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}]}],Ib.ctorParameters=[{type:void 0,decorators:[{type:zs},{type:Ks},{type:qs,args:[hb]}]},{type:void 0,decorators:[{type:zs},{type:Ks},{type:qs,args:[fb]}]},{type:void 0,decorators:[{type:zs},{type:Ks},{type:qs,args:[pb]}]}];var Nb={provide:lb,useExisting:b(function(){return Mb})},Mb=function(t){function e(e,n,r){t.call(this),this._validators=e,this._asyncValidators=n,this._control=new ob,this._added=!1,this.update=new tw,this.valueAccessor=ko(this,r)}return __extends(e,t),e.prototype.ngOnChanges=function(t){this._added||(bo(this._control,this),this._control.updateValueAndValidity({emitEvent:!1}),this._added=!0),Po(t,this.viewModel)&&(this._control.updateValue(this.model),this.viewModel=this.model)},Object.defineProperty(e.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Eo(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return So(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,$_.callEmit(this.update,t)},e}(lb);Mb.decorators=[{type:Ds,args:[{selector:"[ngModel]:not([ngControl]):not([ngFormControl])",bindings:[Nb],inputs:["model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}]}],Mb.ctorParameters=[{type:void 0,decorators:[{type:zs},{type:Ks},{type:qs,args:[hb]}]},{type:void 0,decorators:[{type:zs},{type:Ks},{type:qs,args:[fb]}]},{type:void 0,decorators:[{type:zs},{type:Ks},{type:qs,args:[pb]}]}];var Vb={provide:cb,useExisting:b(function(){return Rb})},Rb=function(t){function e(e,n,r){t.call(this),this._validators=n,this._asyncValidators=r,this._parent=e}return __extends(e,t),e.prototype.ngOnInit=function(){this.formDirective.addControlGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective.removeControlGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getControlGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return wo(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Eo(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return So(this._asyncValidators)},enumerable:!0,configurable:!0}),e}(cb);Rb.decorators=[{type:Ds,args:[{selector:"[ngControlGroup]",providers:[Vb],inputs:["name: ngControlGroup"],exportAs:"ngForm"}]}],Rb.ctorParameters=[{type:cb,decorators:[{type:Gs},{type:Qs}]},{type:void 0,decorators:[{type:zs},{type:Ks},{type:qs,args:[hb]}]},{type:void 0,decorators:[{type:zs},{type:Ks},{type:qs,args:[fb]}]}];var Db={provide:cb,useExisting:b(function(){return jb})},jb=function(t){function e(e,n){t.call(this),this._validators=e,this._asyncValidators=n,this.form=null,this.directives=[],this.ngSubmit=new tw}return __extends(e,t),e.prototype.ngOnChanges=function(t){if(this._checkFormPresent(),uw.contains(t,"form")){var e=Eo(this._validators);this.form.validator=db.compose([this.form.validator,e]);var n=So(this._asyncValidators);this.form.asyncValidator=db.composeAsync([this.form.asyncValidator,n]),this.form.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}this._updateDomValue()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.find(t.path);bo(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t)},e.prototype.getControl=function(t){return this.form.find(t.path)},e.prototype.removeControl=function(t){cw.remove(this.directives,t)},e.prototype.addControlGroup=function(t){var e=this.form.find(t.path);xo(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeControlGroup=function(t){},e.prototype.getControlGroup=function(t){return this.form.find(t.path)},e.prototype.updateModel=function(t,e){var n=this.form.find(t.path);n.updateValue(e)},e.prototype.onSubmit=function(){return $_.callEmit(this.ngSubmit,null),!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var n=t.form.find(e.path);e.valueAccessor.writeValue(n.value)})},e.prototype._checkFormPresent=function(){if(Ui(this.form))throw new lw('ngFormModel expects a form. Please pass one in. Example: <form [ngFormModel]="myCoolForm">')},e}(cb);jb.decorators=[{type:Ds,args:[{selector:"[ngFormModel]",bindings:[Db],inputs:["form: ngFormModel"],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],jb.ctorParameters=[{type:void 0,decorators:[{type:zs},{type:Ks},{type:qs,args:[hb]}]},{type:void 0,decorators:[{type:zs},{type:Ks},{type:qs,args:[fb]}]}];var Lb={provide:cb,useExisting:b(function(){return Fb})},Fb=function(t){function e(e,n){t.call(this),this.ngSubmit=new tw,this.form=new sb({},null,Eo(e),So(n))}return __extends(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;Y_.scheduleMicrotask(function(){var n=e._findContainer(t.path),r=new ob;bo(r,t),n.addControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.getControl=function(t){return this.form.find(t.path)},e.prototype.removeControl=function(t){var e=this;Y_.scheduleMicrotask(function(){var n=e._findContainer(t.path);Fi(n)&&(n.removeControl(t.name),n.updateValueAndValidity({emitEvent:!1}))})},e.prototype.addControlGroup=function(t){var e=this;Y_.scheduleMicrotask(function(){var n=e._findContainer(t.path),r=new sb({});xo(r,t),n.addControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeControlGroup=function(t){var e=this;Y_.scheduleMicrotask(function(){var n=e._findContainer(t.path);Fi(n)&&(n.removeControl(t.name),n.updateValueAndValidity({emitEvent:!1}))})},e.prototype.getControlGroup=function(t){return this.form.find(t.path)},e.prototype.updateModel=function(t,e){var n=this;Y_.scheduleMicrotask(function(){var r=n.form.find(t.path);r.updateValue(e)})},e.prototype.onSubmit=function(){return $_.callEmit(this.ngSubmit,null),!1},e.prototype._findContainer=function(t){return t.pop(),cw.isEmpty(t)?this.form:this.form.find(t)},e}(cb);Fb.decorators=[{type:Ds,args:[{selector:"form:not([ngNoForm]):not([ngFormModel]),ngForm,[ngForm]",bindings:[Lb],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],Fb.ctorParameters=[{type:void 0,decorators:[{type:zs},{type:Ks},{type:qs,args:[hb]}]},{type:void 0,decorators:[{type:zs},{type:Ks},{type:qs,args:[fb]}]}];var Ub=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return Fi(this._cd.control)?this._cd.control.untouched:!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return Fi(this._cd.control)?this._cd.control.touched:!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return Fi(this._cd.control)?this._cd.control.pristine:!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return Fi(this._cd.control)?this._cd.control.dirty:!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return Fi(this._cd.control)?this._cd.control.valid:!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return Fi(this._cd.control)?!this._cd.control.valid:!1},enumerable:!0,configurable:!0}),t}();Ub.decorators=[{type:Ds,args:[{selector:"[ngControl],[ngModel],[ngFormControl]",host:{"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid"}}]}],Ub.ctorParameters=[{type:lb,decorators:[{type:Ks}]}];var Bb=db.required,Hb={provide:hb,useValue:Bb,multi:!0},qb=function(){function t(){}return t}();qb.decorators=[{type:Ds,args:[{selector:"[required][ngControl],[required][ngFormControl],[required][ngModel]",providers:[Hb]}]}];var zb={provide:hb,useExisting:b(function(){return Wb}),multi:!0},Wb=function(){function t(t){this._validator=db.minLength(K_.parseInt(t,10))}return t.prototype.validate=function(t){return this._validator(t)},t}();Wb.decorators=[{type:Ds,args:[{selector:"[minlength][ngControl],[minlength][ngFormControl],[minlength][ngModel]",providers:[zb]}]}],Wb.ctorParameters=[{type:void 0,decorators:[{type:Ls,args:["minlength"]}]}];var Kb={provide:hb,useExisting:b(function(){return Gb}),multi:!0},Gb=function(){function t(t){this._validator=db.maxLength(K_.parseInt(t,10))}return t.prototype.validate=function(t){
return this._validator(t)},t}();Gb.decorators=[{type:Ds,args:[{selector:"[maxlength][ngControl],[maxlength][ngFormControl],[maxlength][ngModel]",providers:[Kb]}]}],Gb.ctorParameters=[{type:void 0,decorators:[{type:Ls,args:["maxlength"]}]}];var Qb={provide:hb,useExisting:b(function(){return Xb}),multi:!0},Xb=function(){function t(t){this._validator=db.pattern(t)}return t.prototype.validate=function(t){return this._validator(t)},t}();Xb.decorators=[{type:Ds,args:[{selector:"[pattern][ngControl],[pattern][ngFormControl],[pattern][ngModel]",providers:[Qb]}]}],Xb.ctorParameters=[{type:void 0,decorators:[{type:Ls,args:["pattern"]}]}];var Jb=[Tb,Rb,Ib,Mb,jb,Fb,Cb,yb,gb,wb,xb,kb,Ub,qb,Wb,Gb,Xb],Zb=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t),r=Fi(e)?uw.get(e,"optionals"):null,i=Fi(e)?uw.get(e,"validator"):null,o=Fi(e)?uw.get(e,"asyncValidator"):null;return new sb(n,r,i,o)},t.prototype.control=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),new ob(t,e,n)},t.prototype.array=function(t,e,n){var r=this;void 0===e&&(e=null),void 0===n&&(n=null);var i=t.map(function(t){return r._createControl(t)});return new ab(i,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return uw.forEach(t,function(t,r){n[r]=e._createControl(t)}),n},t.prototype._createControl=function(t){if(t instanceof ob||t instanceof sb||t instanceof ab)return t;if(Ki(t)){var e=t[0],n=t.length>1?t[1]:null,r=t.length>2?t[2]:null;return this.control(e,n,r)}return this.control(t)},t}();Zb.decorators=[{type:Ws}];var Yb=[Zb,Sb],$b=[tb,Jb],tx=(new Wa("appBaseHref"),/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi),ex=/^([-,."'%_!# a-zA-Z0-9]+|(?:rgb|hsl)a?\([0-9.%, ]+\))$/,nx=function(){function t(){}return t}(),rx=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case U_.NONE:return e;case U_.HTML:return e instanceof ox?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),this.sanitizeHtml(String(e)));case U_.STYLE:return e instanceof sx?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Oo(e));case U_.SCRIPT:if(e instanceof ax)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case U_.URL:return e instanceof ux?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Ao(String(e)));case U_.RESOURCE_URL:if(e instanceof cx)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context");default:throw new Error("Unexpected SecurityContext "+t)}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof ix)throw new Error("Required a safe "+e+", got a "+t.getTypeName())},e.prototype.sanitizeHtml=function(t){return t},e.prototype.bypassSecurityTrustHtml=function(t){return new ox(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new sx(t)},e.prototype.bypassSecurityTrustScript=function(t){return new ax(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new ux(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new cx(t)},e}(nx);rx.decorators=[{type:Ws}];var ix=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t}(),ox=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(ix),sx=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.getTypeName=function(){return"Style"},e}(ix),ax=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.getTypeName=function(){return"Script"},e}(ix),ux=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.getTypeName=function(){return"URL"},e}(ix),cx=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(ix),lx=A_.Map,px=A_.Set,hx=(function(){try{if(1===new lx([[1,2]]).size)return function(t){return new lx(t)}}catch(t){}return function(t){for(var e=new lx,n=0;n<t.length;n++){var r=t[n];e.set(r[0],r[1])}return e}}(),function(){try{if(new lx(new lx))return function(t){return new lx(t)}}catch(t){}return function(t){var e=new lx;return t.forEach(function(t,n){e.set(n,t)}),e}}(),function(){return(new lx).keys().next?function(t){for(var e,n=t.keys();!(e=n.next()).done;)t.set(e.value,null)}:function(t){t.forEach(function(e,n){t.set(n,null)})}}(),function(){try{if((new lx).values().next)return function(t,e){return e?Array.from(t.values()):Array.from(t.keys())}}catch(t){}return function(t,e){var n=fx.createFixedSize(t.size),r=0;return t.forEach(function(t,i){n[r]=e?t:i,r++}),n}}(),function(){function t(){}return t.create=function(){return{}},t.contains=function(t,e){return t.hasOwnProperty(e)},t.get=function(t,e){return t.hasOwnProperty(e)?t[e]:void 0},t.set=function(t,e,n){t[e]=n},t.keys=function(t){return Object.keys(t)},t.values=function(t){return Object.keys(t).reduce(function(e,n){return e.push(t[n]),e},[])},t.isEmpty=function(t){for(var e in t)return!1;return!0},t.delete=function(t,e){delete t[e]},t.forEach=function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},t.merge=function(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},t.equals=function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i,o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0},t}()),fx=function(){function t(){}return t.createFixedSize=function(t){return new Array(t)},t.createGrowableSize=function(t){return new Array(t)},t.clone=function(t){return t.slice(0)},t.forEachWithIndex=function(t,e){for(var n=0;n<t.length;n++)e(t[n],n)},t.first=function(t){return t?t[0]:null},t.last=function(t){return t&&0!=t.length?t[t.length-1]:null},t.indexOf=function(t,e,n){return void 0===n&&(n=0),t.indexOf(e,n)},t.contains=function(t,e){return-1!==t.indexOf(e)},t.reversed=function(e){var n=t.clone(e);return n.reverse()},t.concat=function(t,e){return t.concat(e)},t.insert=function(t,e,n){t.splice(e,0,n)},t.removeAt=function(t,e){var n=t[e];return t.splice(e,1),n},t.removeAll=function(t,e){for(var n=0;n<e.length;++n){var r=t.indexOf(e[n]);t.splice(r,1)}},t.remove=function(t,e){var n=t.indexOf(e);return n>-1?(t.splice(n,1),!0):!1},t.clear=function(t){t.length=0},t.isEmpty=function(t){return 0==t.length},t.fill=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=null),t.fill(e,n,null===r?t.length:r)},t.equals=function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},t.slice=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=null),t.slice(e,null===n?void 0:n)},t.splice=function(t,e,n){return t.splice(e,n)},t.sort=function(t,e){Ii(e)?t.sort(e):t.sort()},t.toString=function(t){return t.toString()},t.toJSON=function(t){return JSON.stringify(t)},t.maximum=function(t,e){if(0==t.length)return null;for(var n=null,r=-(1/0),i=0;i<t.length;i++){var o=t[i];if(!Ni(o)){var s=e(o);s>r&&(n=o,r=s)}}return n},t.flatten=function(t){var e=[];return Io(t,e),e},t.addAll=function(t,e){for(var n=0;n<e.length;n++)t.push(e[n])},t}(),dx=function(){var t=new px([1,2,3]);return 3===t.size?function(t){return new px(t)}:function(t){var e=new px(t);if(e.size!==t.length)for(var n=0;n<t.length;n++)e.add(t[n]);return e}}(),vx=function(){function t(){}return t.createFromList=function(t){return dx(t)},t.has=function(t,e){return t.has(e)},t.delete=function(t,e){t.delete(e)},t}(),yx=null,mx=function(){function t(){this.xhrType=null}return t.prototype.getXHR=function(){return this.xhrType},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}(),gx=function(t){function e(){var e=this;t.call(this),this._animationPrefix=null,this._transitionEnd=null;try{var n=this.createElement("div",this.defaultDoc());if(Ii(this.getStyle(n,"animationName")))this._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(Ii(this.getStyle(n,r[i]+"AnimationName"))){this._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};hx.forEach(o,function(t,r){Ii(e.getStyle(n,r))&&(e._transitionEnd=t)})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}return __extends(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return Vi(this.defaultDoc().body.createShadowRoot)},e.prototype.getAnimationPrefix=function(){return Ii(this._animationPrefix)?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return Ii(this._transitionEnd)?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return Ii(this._animationPrefix)&&Ii(this._transitionEnd)},e}(mx),_x={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},wx=3,bx={"\b":"Backspace","	":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xx={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},Cx=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){Mo(new e)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){t[e].apply(t,n)},e.prototype.logError=function(t){window.console.error?window.console.error(t):window.console.log(t)},e.prototype.log=function(t){window.console.log(t)},e.prototype.logGroup=function(t){window.console.group?(window.console.group(t),this.logError(t)):window.console.log(t)},e.prototype.logGroupEnd=function(){window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return _x},enumerable:!0,configurable:!0}),e.prototype.query=function(t){return document.querySelector(t)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=document.createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||Ii(t.returnValue)&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=fx.createFixedSize(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e){t.parentNode.insertBefore(e,t)},e.prototype.insertAllBefore=function(t,e){e.forEach(function(e){return t.parentNode.insertBefore(e,t)})},e.prototype.insertAfter=function(t,e){t.parentNode.insertBefore(e,t.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return document.createComment(t)},e.prototype.createTemplate=function(t){var e=document.createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return void 0===e&&(e=document),e.createElement(t)},e.prototype.createElementNS=function(t,e,n){return void 0===n&&(n=document),n.createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return void 0===e&&(e=document),e.createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){void 0===n&&(n=document);var r=n.createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){void 0===e&&(e=document);var n=e.createElement("style");return this.appendChild(n,this.createTextNode(t)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=null},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){void 0===n&&(n=null);var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n[r];e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.defaultDoc=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(){return document.title},e.prototype.setTitle=function(t){document.title=t||""},e.prototype.elementMatches=function(t,e){var n=!1;return t instanceof HTMLElement&&(t.matches?n=t.matches(e):t.msMatchesSelector?n=t.msMatchesSelector(e):t.webkitMatchesSelector&&(n=t.webkitMatchesSelector(e))),n},e.prototype.isTemplateElement=function(t){return t instanceof HTMLElement&&"TEMPLATE"==t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return t instanceof HTMLElement&&Ii(t.shadowRoot)},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){var e=t;return this.isTemplateElement(t)&&(e=this.content(t)),document.importNode(e,!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.href},e.prototype.getEventKey=function(t){var e=t.key;if(Ni(e)){if(e=t.keyIdentifier,Ni(e))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===wx&&xx.hasOwnProperty(e)&&(e=xx[e]))}return bx.hasOwnProperty(e)&&(e=bx[e]),e},e.prototype.getGlobalEventTarget=function(t){return"window"==t?window:"document"==t?document:"body"==t?document.body:void 0},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(){var t=Vo();return Ni(t)?null:Ro(t)},e.prototype.resetBaseElement=function(){Ex=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.setGlobalVar=function(t,e){ji(A_,t,e)},e.prototype.requestAnimationFrame=function(t){return window.requestAnimationFrame(t)},e.prototype.cancelAnimationFrame=function(t){window.cancelAnimationFrame(t)},e.prototype.performanceNow=function(){return Ii(window.performance)&&Ii(window.performance.now)?window.performance.now():j_.toMillis(j_.now())},e}(gx),Ex=null,Sx=null,Px=function(){function t(t){this._testability=t}return t.prototype.isStable=function(){return this._testability.isStable()},t.prototype.whenStable=function(t){this._testability.whenStable(t)},t.prototype.findBindings=function(t,e,n){return this.findProviders(t,e,n)},t.prototype.findProviders=function(t,e,n){return this._testability.findBindings(t,e,n)},t}(),kx=function(){function t(){}return t.init=function(){vt(new t)},t.prototype.addToWindow=function(t){A_.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return new Px(r)},A_.getAllAngularTestabilities=function(){var e=t.getAllTestabilities();return e.map(function(t){return new Px(t)})},A_.getAllAngularRootElements=function(){return t.getAllRootElements()};var e=function(t){var e=A_.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})};A_.frameworkStabilizers||(A_.frameworkStabilizers=fx.createGrowableSize(0)),A_.frameworkStabilizers.push(e)},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return Ii(r)?r:n?No().isShadowRoot(e)?this.findTestabilityInTree(t,No().getHost(e),!0):this.findTestabilityInTree(t,No().parentElement(e),!0):null},t}(),Ax=new Wa("DocumentToken"),Tx=function(t){function e(e){void 0===e&&(e="--"),t.call(this,e),this.message=e,this.stack=new Error(e).stack}return __extends(e,t),e.prototype.toString=function(){return this.message},e}(Error),Ox=new Wa("EventManagerPlugins"),Ix=function(){function t(t,e){var n=this;this._zone=e,t.forEach(function(t){return t.manager=n}),this._plugins=fx.reversed(t)}return t.prototype.addEventListener=function(t,e,n){var r=this._findPluginFor(e);return r.addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){var r=this._findPluginFor(e);return r.addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){for(var e=this._plugins,n=0;n<e.length;n++){var r=e[n];if(r.supports(t))return r}throw new Tx("No event manager plugin found for event "+t)},t}();Ix.decorators=[{type:Ws}],Ix.ctorParameters=[{type:void 0,decorators:[{type:qs,args:[Ox]}]},{type:gu}];var Nx=function(){function t(){}return t.prototype.supports=function(t){return!1},t.prototype.addEventListener=function(t,e,n){throw"not implemented"},t.prototype.addGlobalEventListener=function(t,e,n){throw"not implemented"},t}(),Mx=function(){function t(){this.classesToAdd=[],this.classesToRemove=[],this.animationClasses=[]}return t}(),Vx=A_.Math,Rx=/([A-Z])/g,Dx=function(){function t(t,e,n){var r=this;this.element=t,this.data=e,this.browserDetails=n,this.callbacks=[],this.eventClearFunctions=[],this.completed=!1,this._stringPrefix="",this.startTime=j_.toMillis(j_.now()),this._stringPrefix=No().getAnimationPrefix(),this.setup(),this.wait(function(t){return r.start()})}return Object.defineProperty(t.prototype,"totalTime",{get:function(){var t=null!=this.computedDelay?this.computedDelay:0,e=null!=this.computedDuration?this.computedDuration:0;return t+e},enumerable:!0,configurable:!0}),t.prototype.wait=function(t){this.browserDetails.raf(t,2)},t.prototype.setup=function(){null!=this.data.fromStyles&&this.applyStyles(this.data.fromStyles),null!=this.data.duration&&this.applyStyles({transitionDuration:this.data.duration.toString()+"ms"}),null!=this.data.delay&&this.applyStyles({transitionDelay:this.data.delay.toString()+"ms"})},t.prototype.start=function(){this.addClasses(this.data.classesToAdd),this.addClasses(this.data.animationClasses),this.removeClasses(this.data.classesToRemove),null!=this.data.toStyles&&this.applyStyles(this.data.toStyles);var t=No().getComputedStyle(this.element);this.computedDelay=Vx.max(this.parseDurationString(t.getPropertyValue(this._stringPrefix+"transition-delay")),this.parseDurationString(this.element.style.getPropertyValue(this._stringPrefix+"transition-delay"))),this.computedDuration=Vx.max(this.parseDurationString(t.getPropertyValue(this._stringPrefix+"transition-duration")),this.parseDurationString(this.element.style.getPropertyValue(this._stringPrefix+"transition-duration"))),this.addEvents()},t.prototype.applyStyles=function(t){var e=this;hx.forEach(t,function(t,n){var r=Do(n);Ii(No().getStyle(e.element,r))?No().setStyle(e.element,r,t.toString()):No().setStyle(e.element,e._stringPrefix+r,t.toString())})},t.prototype.addClasses=function(t){for(var e=0,n=t.length;n>e;e++)No().addClass(this.element,t[e])},t.prototype.removeClasses=function(t){for(var e=0,n=t.length;n>e;e++)No().removeClass(this.element,t[e])},t.prototype.addEvents=function(){var t=this;this.totalTime>0?this.eventClearFunctions.push(No().onAndCancel(this.element,No().getTransitionEnd(),function(e){return t.handleAnimationEvent(e)})):this.handleAnimationCompleted()},t.prototype.handleAnimationEvent=function(t){var e=Vx.round(1e3*t.elapsedTime);this.browserDetails.elapsedTimeIncludesDelay||(e+=this.computedDelay),t.stopPropagation(),e>=this.totalTime&&this.handleAnimationCompleted()},t.prototype.handleAnimationCompleted=function(){this.removeClasses(this.data.animationClasses),this.callbacks.forEach(function(t){return t()}),this.callbacks=[],this.eventClearFunctions.forEach(function(t){return t()}),this.eventClearFunctions=[],this.completed=!0},t.prototype.onComplete=function(t){return this.completed?t():this.callbacks.push(t),this},t.prototype.parseDurationString=function(t){var e=0;if(null==t||t.length<2)return e;if("ms"==t.substring(t.length-2)){var n=V_.parseInt(this.stripLetters(t),10);n>e&&(e=n)}else if("s"==t.substring(t.length-1)){var r=1e3*V_.parseFloat(this.stripLetters(t)),n=Vx.floor(r);n>e&&(e=n)}return e},t.prototype.stripLetters=function(t){return N_.replaceAll(t,R_.create("[^0-9]+$",""),"")},t}(),jx=function(){function t(t){this.browserDetails=t,this.data=new Mx}return t.prototype.addAnimationClass=function(t){return this.data.animationClasses.push(t),this},t.prototype.addClass=function(t){return this.data.classesToAdd.push(t),this},t.prototype.removeClass=function(t){return this.data.classesToRemove.push(t),this},t.prototype.setDuration=function(t){return this.data.duration=t,this},t.prototype.setDelay=function(t){return this.data.delay=t,this},t.prototype.setStyles=function(t,e){return this.setFromStyles(t).setToStyles(e)},t.prototype.setFromStyles=function(t){return this.data.fromStyles=t,this},t.prototype.setToStyles=function(t){return this.data.toStyles=t,this},t.prototype.start=function(t){return new Dx(t,this.data,this.browserDetails)},t}(),Lx=function(){function t(){this.elapsedTimeIncludesDelay=!1,this.doesElapsedTimeIncludesDelay()}return t.prototype.doesElapsedTimeIncludesDelay=function(){var t=this,e=No().createElement("div");No().setAttribute(e,"style","position: absolute; top: -9999px; left: -9999px; width: 1px;\n      height: 1px; transition: all 1ms linear 1ms;"),this.raf(function(n){No().on(e,"transitionend",function(n){var r=Vx.round(1e3*n.elapsedTime);t.elapsedTimeIncludesDelay=2==r,No().remove(e)}),No().setStyle(e,"width","2px")},2)},t.prototype.raf=function(t,e){void 0===e&&(e=1);var n=new Fx(t,e);return function(){return n.cancel()}},t}();Lx.decorators=[{type:Ws}],Lx.ctorParameters=[];var Fx=function(){function t(t,e){this.callback=t,this.frames=e,this._raf()}return t.prototype._raf=function(){var t=this;this.currentFrameId=No().requestAnimationFrame(function(e){return t._nextFrame(e)})},t.prototype._nextFrame=function(t){this.frames--,this.frames>0?this._raf():this.callback(t)},t.prototype.cancel=function(){No().cancelAnimationFrame(this.currentFrameId),this.currentFrameId=null},t}(),Ux=function(){function t(t){this.browserDetails=t}return t.prototype.css=function(){return new jx(this.browserDetails)},t}();Ux.decorators=[{type:Ws}],Ux.ctorParameters=[{type:Lx}];var Bx=function(){function t(){this._styles=[],this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=[];t.forEach(function(t){vx.has(e._stylesSet,t)||(e._stylesSet.add(t),e._styles.push(t),n.push(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return this._styles},t}();Bx.decorators=[{type:Ws}],Bx.ctorParameters=[];var Hx=function(t){function e(e){t.call(this),this._hostNodes=new Set,this._hostNodes.add(e.head)}return __extends(e,t),e.prototype._addStylesToHost=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];No().appendChild(e,No().createStyleElement(r))}},e.prototype.addHost=function(t){this._addStylesToHost(this._styles,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){vx.delete(this._hostNodes,t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){e._addStylesToHost(t,n)})},e}(Bx);Hx.decorators=[{type:Ws}],Hx.ctorParameters=[{type:void 0,decorators:[{type:qs,args:[Ax]}]}];var qx={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},zx="template bindings={}",Wx=/^template bindings=(.*)$/g,Kx=function(){function t(t,e,n,r){this.document=t,this.eventManager=e,this.sharedStylesHost=n,this.animate=r,this._registeredComponents=new Map}return t.prototype.renderComponent=function(t){var e=this._registeredComponents.get(t.id);return Ni(e)&&(e=new Qx(this,t),this._registeredComponents.set(t.id,e)),e},t}(),Gx=function(t){function e(e,n,r,i){t.call(this,e,n,r,i)}return __extends(e,t),e}(Kx);Gx.decorators=[{type:Ws}],Gx.ctorParameters=[{type:void 0,decorators:[{type:qs,args:[Ax]}]},{type:Ix},{type:Hx},{type:Ux}];var Qx=function(){function t(t,e){this._rootRenderer=t,this.componentProto=e,this._styles=Ho(e.id,e.styles,[]),e.encapsulation!==xs.Native&&this._rootRenderer.sharedStylesHost.addStyles(this._styles),this.componentProto.encapsulation===xs.Emulated?(this._contentAttr=Uo(e.id),this._hostAttr=Bo(e.id)):(this._contentAttr=null,this._hostAttr=null)}return t.prototype.selectRootElement=function(t,e){var n;if(Mi(t)){if(n=No().querySelector(this._rootRenderer.document,t),Ni(n))throw new Tx('The selector "'+t+'" did not match any elements')}else n=t;return No().clearNodes(n),n},t.prototype.createElement=function(t,e,n){var r=qo(e),i=Ii(r[0])?No().createElementNS(qx[r[0]],r[1]):No().createElement(r[1]);return Ii(this._contentAttr)&&No().setAttribute(i,this._contentAttr,""),Ii(t)&&No().appendChild(t,i),i},t.prototype.createViewRoot=function(t){var e;if(this.componentProto.encapsulation===xs.Native){e=No().createShadowRoot(t),this._rootRenderer.sharedStylesHost.addHost(e);for(var n=0;n<this._styles.length;n++)No().appendChild(e,No().createStyleElement(this._styles[n]))}else Ii(this._hostAttr)&&No().setAttribute(t,this._hostAttr,""),e=t;return e},t.prototype.createTemplateAnchor=function(t,e){var n=No().createComment(zx);return Ii(t)&&No().appendChild(t,n),n},t.prototype.createText=function(t,e,n){var r=No().createTextNode(e);return Ii(t)&&No().appendChild(t,r),r},t.prototype.projectNodes=function(t,e){Ni(t)||Lo(t,e)},t.prototype.attachViewAfter=function(t,e){jo(t,e);for(var n=0;n<e.length;n++)this.animateNodeEnter(e[n])},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e];No().remove(n),this.animateNodeLeave(n)}},t.prototype.destroyView=function(t,e){this.componentProto.encapsulation===xs.Native&&Ii(t)&&this._rootRenderer.sharedStylesHost.removeHost(No().getShadowRoot(t))},t.prototype.listen=function(t,e,n){return this._rootRenderer.eventManager.addEventListener(t,e,Fo(n))},t.prototype.listenGlobal=function(t,e,n){return this._rootRenderer.eventManager.addGlobalEventListener(t,e,Fo(n))},t.prototype.setElementProperty=function(t,e,n){No().setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r,i=qo(e);Ii(i[0])&&(e=i[0]+":"+i[1],r=qx[i[0]]),Ii(n)?Ii(r)?No().setAttributeNS(t,r,e,n):No().setAttribute(t,e,n):Ii(r)?No().removeAttributeNS(t,r,i[1]):No().removeAttribute(t,e)},t.prototype.setBindingDebugInfo=function(t,e,n){var r=Do(e);if(No().isCommentNode(t)){var i=R_.firstMatch(Wx,N_.replaceAll(No().getText(t),/\n/g,"")),o=D_.parse(i[1]);o[r]=n,No().setText(t,N_.replace(zx,"{}",D_.stringify(o)))}else this.setElementAttribute(t,e,n)},t.prototype.setElementClass=function(t,e,n){n?No().addClass(t,e):No().removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){Ii(n)?No().setStyle(t,e,Di(n)):No().removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){No().invoke(t,e,n)},t.prototype.setText=function(t,e){No().setText(t,e)},t.prototype.animateNodeEnter=function(t){No().isElementNode(t)&&No().hasClass(t,"ng-animate")&&(No().addClass(t,"ng-enter"),this._rootRenderer.animate.css().addAnimationClass("ng-enter-active").start(t).onComplete(function(){No().removeClass(t,"ng-enter")}))},t.prototype.animateNodeLeave=function(t){No().isElementNode(t)&&No().hasClass(t,"ng-animate")?(No().addClass(t,"ng-leave"),this._rootRenderer.animate.css().addAnimationClass("ng-leave-active").start(t).onComplete(function(){No().removeClass(t,"ng-leave"),No().remove(t)})):No().remove(t)},t}(),Xx=/%COMP%/g,Jx="%COMP%",Zx="_nghost-"+Jx,Yx="_ngcontent-"+Jx,$x=/^@([^:]+):(.+)/g,tC=["alt","control","meta","shift"],eC={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},nC=function(t){function e(){t.call(this)}return __extends(e,t),e.prototype.supports=function(t){return Ii(e.parseEventName(t))},e.prototype.addEventListener=function(t,n,r){var i=e.parseEventName(n),o=e.eventCallback(t,hx.get(i,"fullKey"),r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return No().onAndCancel(t,hx.get(i,"domEventName"),o)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||!N_.equals(r,"keydown")&&!N_.equals(r,"keyup"))return null;var i=e._normalizeKey(n.pop()),o="";
if(tC.forEach(function(t){fx.contains(n,t)&&(fx.remove(n,t),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;var s=hx.create();return hx.set(s,"domEventName",r),hx.set(s,"fullKey",o),s},e.getEventFullKey=function(t){var e="",n=No().getEventKey(t);return n=n.toLowerCase(),N_.equals(n," ")?n="space":N_.equals(n,".")&&(n="dot"),tC.forEach(function(r){if(r!=n){var i=hx.get(eC,r);i(t)&&(e+=r+".")}}),e+=n},e.eventCallback=function(t,n,r,i){return function(t){N_.equals(e.getEventFullKey(t),n)&&i.runGuarded(function(){return r(t)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(Nx);nC.decorators=[{type:Ws}],nC.ctorParameters=[];var rC={ApplicationRef:Oc,NgZone:gu},iC="ng.probe",oC="ng.coreTokens",sC=[{provide:hc,useFactory:Wo,deps:[Kx]}],aC=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this.manager.getZone(),i=function(t){return r.runGuarded(function(){return n(t)})};return this.manager.getZone().runOutsideAngular(function(){return No().onAndCancel(t,e,i)})},e.prototype.addGlobalEventListener=function(t,e,n){var r=No().getGlobalEventTarget(t),i=this.manager.getZone(),o=function(t){return i.runGuarded(function(){return n(t)})};return this.manager.getZone().runOutsideAngular(function(){return No().onAndCancel(r,e,o)})},e}(Nx);aC.decorators=[{type:Ws}];var uC={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},cC=function(t){function e(){t.call(this)}return __extends(e,t),e.prototype.supports=function(t){return t=t.toLowerCase(),hx.contains(uC,t)},e}(Nx),lC=new Wa("HammerGestureConfig"),pC=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(var n in this.overrides)e.get(n).set(this.overrides[n]);return e},t}();pC.decorators=[{type:Ws}];var hC=function(t){function e(e){t.call(this),this._config=e}return __extends(e,t),e.prototype.supports=function(e){if(!t.prototype.supports.call(this,e)&&!this.isCustomEvent(e))return!1;if(!Ii(window.Hammer))throw new Tx("Hammer.js is not loaded, can not bind "+e+" event");return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();return e=e.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(t),s=function(t){i.runGuarded(function(){n(t)})};return o.on(e,s),function(){o.off(e,s)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(cC);hC.decorators=[{type:Ws}],hC.ctorParameters=[{type:pC,decorators:[{type:qs,args:[lC]}]}];var fC=new Wa("BrowserPlatformMarker"),dC=[{provide:fC,useValue:!0},Qc,{provide:bu,useValue:Xo,multi:!0}],vC=[{provide:B_,useExisting:nx},{provide:nx,useClass:rx}],yC=[Xc,Yb,vC,{provide:Gc,useValue:jw,multi:!0},{provide:Kc,useValue:$b,multi:!0},{provide:ua,useFactory:Go,deps:[]},{provide:Ax,useFactory:Qo,deps:[]},{provide:Ox,useClass:aC,multi:!0},{provide:Ox,useClass:nC,multi:!0},{provide:Ox,useClass:hC,multi:!0},{provide:lC,useClass:pC},{provide:Kx,useClass:Gx},{provide:hc,useExisting:Kx},{provide:Bx,useExisting:Hx},Hx,Eu,Lx,Ux,Ix,sC],mC=al.ReflectionCapabilities,gC=[yC,g_,{provide:Mg,useClass:P_}],_C=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=3>o?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(3>o?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},wC=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},bC=function(){function t(){var t=this;this.closeWarning=new vu,this.name="World",this.timer=setTimeout(function(){console.log("closing"),t.closeWarning.emit({})},2e3)}return t.prototype.ngOnDestroy=function(){console.log("end"),this.timer&&clearTimeout(this.timer)},t}();_C([Bs(),wC("design:type",String)],bC.prototype,"title",void 0),_C([Hs(),wC("design:type",Object)],bC.prototype,"closeWarning",void 0),bC=_C([Rs({selector:"ju-warning",template:'\n  \n    <h1>WARNING! </h1>\n    <div class="warning">{{title}}</div>\n    \n    \n    \n    \n',styles:["\n\n  .warning {\n      color:white;\n      box-shadow:2px 2px 2px rgba(0,0,0,0.8);\n      background-color:#633;\n      padding:10px;\n      border-radius:5px;\n}\n"]}),wC("design:paramtypes",[])],bC);var xC=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=3>o?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(3>o?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},CC=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},EC=function(){function t(){this.name="AppTest",this.showWarning=!1,setInterval(function(){console.log("tick")},5e3)}return t.prototype.close=function(){console.log("emitted close")},t}();EC=xC([Rs({selector:"app-test",template:'\n  {{name}}\n  \n  <ju-warning title="Test!" *ngIf="showWarning" (closeWarning)="showWarning=false"></ju-warning>\n  \n  <div *ngIf="showWarning" class="warning">This is a BIG warning!!!</div>\n  <button (click)="showWarning=!showWarning">Toggle</button>\n  ',styles:["button {\n    \n    background-color:red;\n    }\n    .warning {\n      color:white;\n      box-shadow:2px 2px 2px rgba(0,0,0,0.8);\n      background-color:#333;\n      padding:10px;\n      border-radius:5px;\n    }\n  "],directives:[Hw,bC]}),CC("design:paramtypes",[])],EC);var SC=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=3>o?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(3>o?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},PC=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},kC=function(){function t(){this.name="World"}return t}();kC=SC([Rs({selector:"hello-app",template:'\n    <h1>Hello, {{name}}!</h1>\n    {{name}}\n    \n    <app-test></app-test>\n    <app-test></app-test>\n    <app-test></app-test>\n    <app-test></app-test>\n    \n    <label> Say hello to: <input [value]="name" (input)="name = $event.target.value"></label>\n',directives:[EC]}),PC("design:paramtypes",[])],kC),Zo(kC,[])}();